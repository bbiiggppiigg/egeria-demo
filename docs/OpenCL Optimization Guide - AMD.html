<!DOCTYPE html>
<!-- saved from url=(0122)http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/ -->
<html class=" js canvas boxshadow csscolumns csstransforms csstransforms3d csstransitions gr__developer_amd_com" lang="en-US" prefix="og: http://ogp.me/ns#" style=""><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="./OpenCL Optimization Guide - AMD_files/fbds.js"></script><script type="text/javascript" async="" src="./OpenCL Optimization Guide - AMD_files/analytics.js"></script><script type="text/javascript" async="" src="./OpenCL Optimization Guide - AMD_files/linkid.js"></script><script type="text/javascript" async="" src="./OpenCL Optimization Guide - AMD_files/conversion_async.js"></script><script async="" src="./OpenCL Optimization Guide - AMD_files/gtm.js"></script><script src="./OpenCL Optimization Guide - AMD_files/iMAWebCookie.js" type="text/javascript" async=""></script><script src="./OpenCL Optimization Guide - AMD_files/foresee-trigger.js" type="text/javascript" async=""></script><script src="./OpenCL Optimization Guide - AMD_files/gtm(1).js" type="text/javascript" async=""></script><script src="./OpenCL Optimization Guide - AMD_files/vwo_a.js" type="text/javascript" async=""></script><script src="./OpenCL Optimization Guide - AMD_files/sp.js" type="text/javascript" async=""></script>
        
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        
        <title>OpenCL Optimization Guide - AMD</title>
            
        <!-- devices setting -->
        <meta name="viewport" content="initial-scale=1,user-scalable=no,width=device-width">
	
        <!-- Microsoft cleartype rendering -->
        <meta http-equiv="cleartype" content="on">
        <meta name="author" content="">
	
        <!-- feeds, pingback -->
        <link rel="profile" href="http://gmpg.org/xfn/11">
        <link rel="alternate" href="http://developer.amd.com/feed/" type="application/rss+xml" title="AMD RSS2 Feed">  
        <link rel="pingback" href="http://developer.amd.com/xmlrpc.php">
                <!-- favicon -->
        <link rel="shortcut icon" href="https://developer.amd.com/wordpress/media/2013/12/favicon.png">
                
        <link rel="stylesheet" href="./OpenCL Optimization Guide - AMD_files/css">

        <!-- enables HTML5 elements & feature detects -->
        <div class="fit-vids-style" id="fit-vids-style" style="display: none;">­<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style></div><script type="text/javascript" async="" src="./OpenCL Optimization Guide - AMD_files/ga.js"></script><script async="" src="./OpenCL Optimization Guide - AMD_files/analytics.js"></script><script src="./OpenCL Optimization Guide - AMD_files/modernizr-2.6.2.min.js"></script>

<!-- outputs by wp_head -->

<!-- This site is optimized with the Yoast SEO plugin v3.5 - https://yoast.com/wordpress/plugins/seo/ -->
<link rel="canonical" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="OpenCL Optimization Guide - AMD">
<meta property="og:description" content="PrefaceDevelopers also can generate IL and ISA code from their OpenCL kernel About This Document This document provides useful performance tips and optimization guidelines for programmers who want to use ...">
<meta property="og:url" content="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/">
<meta property="og:site_name" content="AMD">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-2.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-3.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-4.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-5.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-6.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-7.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-8.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-9.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-10.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-11.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-12.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-13.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-14.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-15.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-16.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-17.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-18.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-19.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-20.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-21.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-22.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-23.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-24.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-25.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-26.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-27.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-28.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-29.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-30.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-31.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-32.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-33.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-34.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-35.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-36.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-37.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-38.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-39.gif">
<meta property="og:image" content="http://developer.amd.com/wordpress/media/2014/05/AMD_OpenCL_Programming_Optimization_Guide-40.gif">
<!-- / Yoast SEO plugin. -->

<link rel="dns-prefetch" href="http://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="AMD » Feed" href="http://developer.amd.com/feed/">
<link rel="alternate" type="application/rss+xml" title="AMD » Comments Feed" href="http://developer.amd.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="AMD » OpenCL Optimization Guide Comments Feed" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/feed/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/developer.amd.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.1"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./OpenCL Optimization Guide - AMD_files/wp-emoji-release.min.js" type="text/javascript"></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="contact-form-7-css" href="./OpenCL Optimization Guide - AMD_files/styles.css" type="text/css" media="all">
<link rel="stylesheet" id="google-code-prettify-css-css" href="./OpenCL Optimization Guide - AMD_files/prettify.css" type="text/css" media="all">
<link rel="stylesheet" id="theme-base-css" href="./OpenCL Optimization Guide - AMD_files/base.css" type="text/css" media="all">
<link rel="stylesheet" id="theme-main-css" href="./OpenCL Optimization Guide - AMD_files/main.css" type="text/css" media="all">
<link rel="stylesheet" id="superfish-css" href="./OpenCL Optimization Guide - AMD_files/superfish.css" type="text/css" media="all">
<link rel="stylesheet" id="theme-resp-css" href="./OpenCL Optimization Guide - AMD_files/responsive.css" type="text/css" media="all">
<link rel="stylesheet" id="theme-fonts-css" href="./OpenCL Optimization Guide - AMD_files/fonts.css" type="text/css" media="all">
<link rel="stylesheet" id="theme-stylesheet-css" href="./OpenCL Optimization Guide - AMD_files/style.css" type="text/css" media="all">
<link rel="stylesheet" id="prettyPhoto-css" href="./OpenCL Optimization Guide - AMD_files/prettyPhoto.css" type="text/css" media="all">
<link rel="stylesheet" id="jplayer-css" href="./OpenCL Optimization Guide - AMD_files/jplayer.css" type="text/css" media="all">
<link rel="stylesheet" id="userdefined-css" href="./OpenCL Optimization Guide - AMD_files/custom.css" type="text/css" media="all">
<link rel="stylesheet" id="youtube-channel-gallery-css" href="./OpenCL Optimization Guide - AMD_files/styles(1).css" type="text/css" media="all">
<link rel="stylesheet" id="jquery.magnific-popup-css" href="./OpenCL Optimization Guide - AMD_files/magnific-popup.css" type="text/css" media="all">
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/jquery-1.9.1.min.js"></script>
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/prettify.js"></script>
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/prettify-init.js"></script>
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/jquery.easing.min.js"></script>
<link rel="https://api.w.org/" href="http://developer.amd.com/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://developer.amd.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://developer.amd.com/wp-includes/wlwmanifest.xml"> 
<link rel="shortlink" href="http://developer.amd.com/?p=21596">
<link rel="alternate" type="application/json+oembed" href="http://developer.amd.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fdeveloper.amd.com%2Ftools-and-sdks%2Fopencl-zone%2Famd-accelerated-parallel-processing-app-sdk%2Fopencl-optimization-guide%2F">
<link rel="alternate" type="text/xml+oembed" href="http://developer.amd.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fdeveloper.amd.com%2Ftools-and-sdks%2Fopencl-zone%2Famd-accelerated-parallel-processing-app-sdk%2Fopencl-optimization-guide%2F&amp;format=xml">

<!-- BEGIN GADWP v4.9.3.1 Universal Tracking - https://deconf.com/google-analytics-dashboard-wordpress/ -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-35904567-1', 'auto');
  ga('send', 'pageview');
</script>

<!-- END GADWP Universal Tracking -->

<!-- end wp_head -->

<!--[if IE 7]>
    <link rel="stylesheet"      href="http://amd-dev.wpengine.netdna-cdn.com/wp-content/themes/lotus/css/ie7.css?ver=3.0" type="text/css" media="screen"/>
<![endif]-->

 

<!-- custom styles for plugins -->
<link rel="stylesheet" href="./OpenCL Optimization Guide - AMD_files/overwrite.css" type="text/css" media="screen">

 
    
<!-- Media query for old IE
[if lt IE 9]><script src="http://amd-dev.wpengine.netdna-cdn.com/wp-content/themes/lotus_amd/js/libs/modules/css3-mediaqueries.js"></script><![endif]-->


<link id="ppCSS" rel="stylesheet" type="text/css" href="./OpenCL Optimization Guide - AMD_files/pplightbox.css" media="all"><meta name="com.silverpop.brandeddomains" content="www.pages03.net,amd.com,amd.mkt6303.com,amdsurveys.com,community.amd.com,developer.amd.com,experience.amd.com,global.amd.com,gpuopen.com,localhost,partner.amd.com,products.amd.com,radeon.com,radeon.wpengine.com,search.amd.com,server.amd.com,shop.amd.com,sites.amd.com,subscriptions.amd.com,support.amd.com,www.amd.com"><script src="./OpenCL Optimization Guide - AMD_files/j.php" type="text/javascript"></script><script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/foresee-surveydef.js"></script></head>



<body class="page page-id-21596 page-child parent-pageid-363 page-template-default" data-gr-c-s-loaded="true">
<!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->
<div id="inner-body">
    
        <div id="top-header">
        <div class="container fold">
            
            
            <div class="logo_inner">
                <a href="http://developer.amd.com/" title="AMD" rel="home">
                                            <img src="./OpenCL Optimization Guide - AMD_files/logo.png" data-image2x="https://developer.amd.com/wordpress/media/2013/12/logo@2x.png" alt="AMD">
                                    </a>
                <section>
                    <h4 class="site-title"><a href="http://developer.amd.com/" title="AMD" rel="home">Developer Central</a></h4>
                    <!--<p class="site-description"></p>-->
                </section>

                <div id="logo">

                    <div class="nav-toggle"><a class="icon-reorder" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#"></a></div>
                </div><!-- end logo fold -->
            </div><!-- end logo inner -->

                        <div class="header-tools">

                                <div id="searchform">
                    <form action="http://developer.amd.com/" method="get">
                        <input type="text" id="s" placeholder="SEARCH" name="s">
                    </form>
                </div><!-- end searchform -->
                
                <div class="header-links"><a href="http://hc.csdn.net/" target="_blank">China</a>&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;<a href="http://www.amd.com/" target="_blank">AMD.com</a></div>

                
                
            </div><!-- end header tools -->
                        
        </div><!-- end container -->
    </div><!-- end top header -->
        
    
    <header id="siteheader" role="banner" class="wrapper">
        <div class="container">


<!-- start navigation -->
<nav id="access" class="menu-main-container"><ul id="menu-main" class="sf-menu sf-js-enabled sf-arrows"><li id="menu-item-16" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-16"><a href="http://developer.amd.com/">Home</a></li>
<li id="menu-item-19" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-has-children menu-item-19"><a href="http://developer.amd.com/tools-and-sdks/" class="sf-with-ul">Tools &amp; SDKs</a><div class="sf-sub-indicator icon-angle-down"></div>
<ul class="sub-menu" style="display: none;">
	<li id="menu-item--6" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-has-children menu-item--6"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/" class="sf-with-ul">OpenCL™ Zone – Accelerate Your Applications</a><div class="sf-sub-indicator icon-angle-down"></div>
	<ul class="sub-menu" style="display: none;">
		<li id="menu-item--7" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor current-menu-parent current-page-parent current_page_parent menu-item-has-children menu-item--7"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/" class="sf-with-ul">APP SDK – A Complete Development Platform</a><div class="sf-sub-indicator icon-angle-down"></div>
		<ul class="sub-menu" style="display: none;">
			<li id="menu-item--8" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--8"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/download-archive/">Download Archive</a></li>
			<li id="menu-item--9" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--9"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-2-0-samples/">OpenCL™ 2.0 Samples</a></li>
			<li id="menu-item--10" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--10"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/system-requirements-driver-compatibility/">MD5 Checksums, System Requirements &amp; Driver Compatibility</a></li>
			<li id="menu-item--11" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--11"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/documentation/">Documentation</a></li>
			<li id="menu-item--13" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-21596 current_page_item menu-item--13"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/">OpenCL Optimization Guide</a></li>
		</ul>
</li>
		<li id="menu-item--14" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--14"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/codexl/">CodeXL – Powerful Debugging, Profiling &amp; Analysis</a></li>
		<li id="menu-item--15" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--15"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/acl-amd-compute-libraries/">ACL – AMD Compute Libraries</a></li>
		<li id="menu-item--16" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--16"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-emulator-debugger/">OpenCL™ Emulator-Debugger</a></li>
		<li id="menu-item--17" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--17"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/" class="sf-with-ul">OpenCL™ Resources</a><div class="sf-sub-indicator icon-angle-down"></div>
		<ul class="sub-menu" style="display: none;">
			<li id="menu-item--18" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--18"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/getting-started-with-opencl/">Getting Started with OpenCL™</a></li>
			<li id="menu-item--19" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--19"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/programming-in-opencl/">Programming in OpenCL™</a></li>
			<li id="menu-item--31" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--31"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/articles-papers/">OpenCL™ Articles &amp; Papers</a></li>
			<li id="menu-item--32" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--32"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/opencl-on-demand-webinars/">OpenCL™ On-Demand Webinars</a></li>
			<li id="menu-item--33" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--33"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/introductory-tutorial-to-opencl/">Intro OpenCL™ Tutorial</a></li>
			<li id="menu-item--34" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--34"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/opencl-programming-webinar-series/">OpenCL™ Programming Webinar Series</a></li>
			<li id="menu-item--35" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--35"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/opencl-course-introductory-tutorial-to-opencl-for-hpc-at-saahpc10/">OpenCL™ Course: Introductory Tutorial to OpenCL™ for HPC at SAAHPC’10</a></li>
			<li id="menu-item--36" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--36"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/opencl-course-introduction-to-opencl-programming/">OpenCL™ Course: Introduction to OpenCL™ Programming</a></li>
		</ul>
</li>
	</ul>
</li>
	<li id="menu-item--37" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--37"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/" class="sf-with-ul">CPU Development</a><div class="sf-sub-indicator icon-angle-down"></div>
	<ul class="sub-menu" style="display: none;">
		<li id="menu-item--38" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--38"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/tools-for-dmtf-dash/">Tools for DMTF DASH</a></li>
		<li id="menu-item--39" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--39"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/x86-open64-compiler-suite/" class="sf-with-ul">x86 Open64 Compiler Suite</a><div class="sf-sub-indicator icon-angle-down"></div>
		<ul class="sub-menu" style="display: none;">
			<li id="menu-item--40" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--40"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/x86-open64-compiler-suite/open64-compiler-developer-guide/">Developer Guide</a></li>
			<li id="menu-item--41" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--41"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/x86-open64-compiler-suite/applications-and-libraries-built-by-x86-open64/">Apps &amp; Libraries Built by x86 Open64</a></li>
			<li id="menu-item--42" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--42"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/x86-open64-compiler-suite/inactive-files/">Inactive Files</a></li>
		</ul>
</li>
		<li id="menu-item--43" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--43"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/amd-open64-software-development-kit/" class="sf-with-ul">Open64 SDK</a><div class="sf-sub-indicator icon-angle-down"></div>
		<ul class="sub-menu" style="display: none;">
			<li id="menu-item--44" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--44"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/amd-open64-software-development-kit/building-with-acml/">Building with ACML</a></li>
		</ul>
</li>
		<li id="menu-item--45" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--45"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/simnow-simulator/">SimNow™ Simulator</a></li>
	</ul>
</li>
	<li id="menu-item--46" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--46"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/" class="sf-with-ul">Graphics &amp; Game Development</a><div class="sf-sub-indicator icon-angle-down"></div>
	<ul class="sub-menu" style="display: none;">
		<li id="menu-item--47" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--47"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/liquidvr/">AMD LiquidVR™ Technology for Developers</a></li>
		<li id="menu-item--48" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--48"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/display-library-adl-sdk/">AMD Display Library (ADL) SDK</a></li>
		<li id="menu-item--49" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--49"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-shaderanalyzergcn/">GPU ShaderAnalyzer for GCN</a></li>
		<li id="menu-item--50" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--50"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/radeonpro/" class="sf-with-ul">Radeon Pro Developer Technologies</a><div class="sf-sub-indicator icon-angle-down"></div>
		<ul class="sub-menu" style="display: none;">
			<li id="menu-item--51" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--51"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/radeonpro/radeonrays-technology-developers/">Radeon Rays Technology for Developers</a></li>
			<li id="menu-item--52" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--52"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/radeonpro/radeon-prorender-technology/">Radeon ProRender Technology</a></li>
		</ul>
</li>
		<li id="menu-item--54" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--54"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/" class="sf-with-ul">GPU PerfStudio</a><div class="sf-sub-indicator icon-angle-down"></div>
		<ul class="sub-menu" style="display: none;">
			<li id="menu-item--55" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--55"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/gpu-perfstudio-api-trace/">API Trace</a></li>
			<li id="menu-item--56" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--56"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/directx-12-tools/">DirectX® 12 Tools</a></li>
			<li id="menu-item--57" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--57"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/gpu-perfstudio-frame-debugger/">Frame Debugger</a></li>
			<li id="menu-item--58" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--58"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/gpu-perfstudio-frame-profiler/">Frame Profiler</a></li>
			<li id="menu-item--59" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--59"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/gpuperfstudio-vulkan-tools/">GPUPerfStudio Vulkan Tools</a></li>
			<li id="menu-item--60" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--60"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/gpu-perfstudio-shader-debugger/">Shader Debugger</a></li>
			<li id="menu-item--61" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--61"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/gpu-perfstudio-shader-editor/">Shader Editor</a></li>
			<li id="menu-item--62" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--62"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/gpu-perfstudio-previous-versions/">Previous version features and release notes</a></li>
		</ul>
</li>
		<li id="menu-item--63" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--63"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-shaderanalyzer/">GPU ShaderAnalyzer</a></li>
		<li id="menu-item--64" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--64"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpuperfapi/">GPUPerfAPI</a></li>
		<li id="menu-item--65" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--65"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/vulkan/">Vulkan™</a></li>
		<li id="menu-item--66" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--66"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/amd-edid-utility/">AMD EDID Utility</a></li>
		<li id="menu-item--67" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--67"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/amd-opengl-es-sdk/">OpenGL ES SDK</a></li>
	</ul>
</li>
	<li id="menu-item--68" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--68"><a href="http://developer.amd.com/tools-and-sdks/heterogeneous-computing/">Heterogeneous Computing</a></li>
	<li id="menu-item--69" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--69"><a href="http://developer.amd.com/tools-and-sdks/open-source/">Open Source Zone</a></li>
	<li id="menu-item--70" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--70"><a href="http://developer.amd.com/tools-and-sdks/archive/" class="sf-with-ul">Archive Tools</a><div class="sf-sub-indicator icon-angle-down"></div>
	<ul class="sub-menu" style="display: none;">
		<li id="menu-item--71" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--71"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/" class="sf-with-ul">Compute</a><div class="sf-sub-indicator icon-angle-down"></div>
		<ul class="sub-menu" style="display: none;">
			<li id="menu-item--72" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--72"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/128-bit-sse5-instruction-set/">128-Bit SSE5 Instruction Set</a></li>
			<li id="menu-item--73" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--73"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-core-math-library-acml/">ACML – AMD Core Math Library</a></li>
			<li id="menu-item--81" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--81"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-gdebugger/">gDEBugger</a></li>
			<li id="menu-item--93" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--93"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-string-library/">AMD String Library</a></li>
			<li id="menu-item--94" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--94"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/app-kernel-analyzer/">APP Kernel Analyzer</a></li>
			<li id="menu-item--95" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--95"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/advanced-platform-management-link-apml-tools/">APML – Advanced Platform Management Link</a></li>
			<li id="menu-item--96" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--96"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/">APP Profiler</a></li>
			<li id="menu-item--117" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--117"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-codeanalyst-performance-analyzer/">CodeAnalyst Performance Analyzer</a></li>
			<li id="menu-item--122" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--122"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/sseplus-project/">SSEPlus Project</a></li>
			<li id="menu-item--123" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--123"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/libm/">LibM</a></li>
		</ul>
</li>
		<li id="menu-item--126" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--126"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/" class="sf-with-ul">Games &amp; CGI</a><div class="sf-sub-indicator icon-angle-down"></div>
		<ul class="sub-menu" style="display: none;">
			<li id="menu-item--127" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--127"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/ashli-advanced-shading-language-interface/">ASHLI – Advanced Shading Language Interface</a></li>
			<li id="menu-item--128" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--128"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/framewave-project/">Framewave Project</a></li>
			<li id="menu-item--129" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--129"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/amdcompress/">AMD Compress</a></li>
			<li id="menu-item--130" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--130"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/ati_compress/">ATI_Compress</a></li>
			<li id="menu-item--131" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--131"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/ati-radeon-sdk/">ATI Radeon™ SDK</a></li>
			<li id="menu-item--132" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--132"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/cubemapgen/">CubeMapGen</a></li>
			<li id="menu-item--133" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--133"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/amd-gpu-meshmapper/">AMD GPU MeshMapper</a></li>
			<li id="menu-item--134" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--134"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/normal-mapper/">Normal Mapper</a></li>
			<li id="menu-item--135" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--135"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/rendermonkey-toolsuite/">RenderMonkey™ Toolsuite</a></li>
			<li id="menu-item--139" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--139"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/the-compressonator/">The Compressonator</a></li>
		</ul>
</li>
	</ul>
</li>
	<li id="menu-item--140" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--140"><a href="http://developer.amd.com/tools-and-sdks/tools-libraries-sdks-index/">Index of Developer Tools, Libraries &amp; SDKs</a></li>
</ul>
</li>
<li id="menu-item-84" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-84"><a href="http://developer.amd.com/resources/" class="sf-with-ul">Resources</a><div class="sf-sub-indicator icon-angle-down"></div>
<ul class="sub-menu" style="display: none;">
	<li id="menu-item--141" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--141"><a href="http://developer.amd.com/resources/heterogeneous-computing/" class="sf-with-ul">Heterogeneous Computing</a><div class="sf-sub-indicator icon-angle-down"></div>
	<ul class="sub-menu" style="display: none;">
		<li id="menu-item--142" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--142"><a href="http://developer.amd.com/resources/heterogeneous-computing/what-is-heterogeneous-computing/">What is Heterogeneous Computing?</a></li>
		<li id="menu-item--143" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--143"><a href="http://developer.amd.com/resources/heterogeneous-computing/what-is-heterogeneous-system-architecture-hsa/">What is Heterogeneous System Architecture (HSA)?</a></li>
	</ul>
</li>
	<li id="menu-item--144" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--144"><a href="http://developer.amd.com/resources/server-zone/">Server Zone</a></li>
	<li id="menu-item--145" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--145"><a href="http://developer.amd.com/resources/embedded-developer-zone/">Embedded Developer Zone</a></li>
	<li id="menu-item--146" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--146"><a href="http://developer.amd.com/resources/opengl-zone/">OpenGL® Zone</a></li>
	<li id="menu-item--147" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--147"><a href="http://developer.amd.com/resources/webinars/">Webinars, Tutorials &amp; Videos</a></li>
	<li id="menu-item--148" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--148"><a href="http://developer.amd.com/resources/conference-presentations/">Conference Presentations</a></li>
	<li id="menu-item--149" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--149"><a href="http://developer.amd.com/resources/gpu-demos/" class="sf-with-ul">GPU Demos</a><div class="sf-sub-indicator icon-angle-down"></div>
	<ul class="sub-menu" style="display: none;">
		<li id="menu-item--150" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--150"><a href="http://developer.amd.com/resources/gpu-demos/legacy-gpu-demos/" class="sf-with-ul">Legacy GPU Demos</a><div class="sf-sub-indicator icon-angle-down"></div>
		<ul class="sub-menu" style="display: none;">
			<li id="menu-item--151" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--151"><a href="http://developer.amd.com/resources/gpu-demos/legacy-gpu-demos/ati-radeon-x1800-real-time-legacy-demos/">ATI Radeon™ X1800 Real-Time Legacy Demos</a></li>
			<li id="menu-item--152" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--152"><a href="http://developer.amd.com/resources/gpu-demos/legacy-gpu-demos/ati-radeon-x850-real-time-legacy-demos/">ATI Radeon™ X850 Real-Time Legacy Demos</a></li>
			<li id="menu-item--153" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--153"><a href="http://developer.amd.com/resources/gpu-demos/legacy-gpu-demos/ati-radeon-x800-real-time-legacy-demos/">ATI Radeon™ X800 Real-Time Legacy Demos</a></li>
			<li id="menu-item--154" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--154"><a href="http://developer.amd.com/resources/gpu-demos/legacy-gpu-demos/ati-radeon-9800-real-time-legacy-demos/">ATI Radeon™ 9800 Real-Time Legacy Demos</a></li>
			<li id="menu-item--155" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--155"><a href="http://developer.amd.com/resources/gpu-demos/legacy-gpu-demos/ati-radeon-9700-real-time-legacy-demos/">ATI Radeon™ 9700 Real-Time Legacy Demos</a></li>
			<li id="menu-item--156" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--156"><a href="http://developer.amd.com/resources/gpu-demos/legacy-gpu-demos/ati-mobility-radeon-9000-series-legacy-demos/">ATI Mobility Radeon™ 9000 Series Legacy Demos</a></li>
			<li id="menu-item--157" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--157"><a href="http://developer.amd.com/resources/gpu-demos/legacy-gpu-demos/ati-radeon-8000-series-legacy-demos/">ATI Radeon™ 8000 Series Legacy Demos</a></li>
			<li id="menu-item--158" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--158"><a href="http://developer.amd.com/resources/gpu-demos/legacy-gpu-demos/ati-radeon-7000-series-legacy-demos/">ATI Radeon™ 7000 Series Legacy Demos</a></li>
			<li id="menu-item--159" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--159"><a href="http://developer.amd.com/resources/gpu-demos/legacy-gpu-demos/ati-opengl-legacy-demos/">ATI OpenGL Legacy Demos</a></li>
			<li id="menu-item--160" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--160"><a href="http://developer.amd.com/resources/gpu-demos/legacy-gpu-demos/opengl-source-code-archive/">OpenGL Source Code Archive</a></li>
			<li id="menu-item--161" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--161"><a href="http://developer.amd.com/resources/gpu-demos/legacy-gpu-demos/treasure-chest-demo-1-4-pixel-shaders-on-radeon-8500/">TREASURE CHEST DEMO 1.4 Pixel Shaders on Radeon® 8500</a></li>
		</ul>
</li>
		<li id="menu-item--162" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--162"><a href="http://developer.amd.com/resources/gpu-demos/amd-radeon-hd-7900-series-graphics-real-time-demos/">Radeon™ HD 7900 Series Graphics Real-Time Demos</a></li>
		<li id="menu-item--163" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--163"><a href="http://developer.amd.com/resources/gpu-demos/radeon-hd-6900-series-graphics-real-time-demo/">Radeon™ HD 6900 Series Graphics Real-Time Demo</a></li>
		<li id="menu-item--164" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--164"><a href="http://developer.amd.com/resources/gpu-demos/ati-radeon-hd-5000-series-graphics-real-time-demos/">Radeon™ HD 5000 Series Graphics Real-Time Demos</a></li>
		<li id="menu-item--165" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--165"><a href="http://developer.amd.com/resources/gpu-demos/ati-radeon-hd-4800-series-real-time-demos/">Radeon™ HD 4800 Series Real-Time Demos</a></li>
		<li id="menu-item--166" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--166"><a href="http://developer.amd.com/resources/gpu-demos/ati-firegl-v8600-pci-express-real-time-demos/">FireGL™ V8600 PCI-Express Real-Time Demos</a></li>
		<li id="menu-item--167" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--167"><a href="http://developer.amd.com/resources/gpu-demos/ati-radeon-hd-3000-series-real-time-demo/">Radeon™ HD 3000 Series Real-Time Demo</a></li>
		<li id="menu-item--168" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--168"><a href="http://developer.amd.com/resources/gpu-demos/ati-radeon-hd-2000-series-real-time-demos/">Radeon™ HD 2000 Series Real-Time Demos</a></li>
	</ul>
</li>
	<li id="menu-item--169" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--169"><a href="http://developer.amd.com/resources/articles-whitepapers/" class="sf-with-ul">Articles, Whitepapers &amp; Case Studies</a><div class="sf-sub-indicator icon-angle-down"></div>
	<ul class="sub-menu" style="display: none;">
		<li id="menu-item--170" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--170"><a href="http://developer.amd.com/resources/articles-whitepapers/jpeg-decoding-with-run-length-encoding-a-cpu-and-gpu-approach/">JPEG Decoding with Run-Length Encoding: A CPU and GPU Approach</a></li>
		<li id="menu-item--171" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--171"><a href="http://developer.amd.com/resources/articles-whitepapers/new-round-to-even-technique-for-large-scale-data-and-its-application-in-integer-scaling/">New Round-to-Even Technique for Large-scale Data and Its Application in Integer Scaling</a></li>
		<li id="menu-item--172" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--172"><a href="http://developer.amd.com/resources/articles-whitepapers/opencl-and-the-amd-app-sdk/">OpenCL™ and the AMD APP SDK</a></li>
		<li id="menu-item--173" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--173"><a href="http://developer.amd.com/resources/articles-whitepapers/opencl-and-the-amd-app-sdk-v2-4/">OpenCL™ and the AMD APP SDK v2.4</a></li>
		<li id="menu-item--174" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--174"><a href="http://developer.amd.com/resources/articles-whitepapers/opencl-optimization-case-study-fast-fourier-transform-part-1/">OpenCL™ Optimization Case Study Fast Fourier Transform – Part 1</a></li>
		<li id="menu-item--175" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--175"><a href="http://developer.amd.com/resources/articles-whitepapers/opencl-optimization-case-study-fast-fourier-transform-part-ii/">OpenCL™ Optimization Case Study Fast Fourier Transform – Part II</a></li>
		<li id="menu-item--176" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--176"><a href="http://developer.amd.com/resources/articles-whitepapers/opencl-optimization-case-study-simple-reductions/">OpenCL™ Optimization Case Study: Simple Reductions</a></li>
		<li id="menu-item--177" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--177"><a href="http://developer.amd.com/resources/articles-whitepapers/opencl-optimization-case-study-support-vector-machine-training/">OpenCL™ Optimization Case Study: Support Vector Machine Training</a></li>
		<li id="menu-item--178" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--178"><a href="http://developer.amd.com/resources/articles-whitepapers/introduction-apuid/">Introduction to APUID</a></li>
		<li id="menu-item--179" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--179"><a href="http://developer.amd.com/resources/articles-whitepapers/processor-and-core-enumeration-using-cpuid/">Processor and Core Enumeration Using CPUID</a></li>
	</ul>
</li>
	<li id="menu-item--180" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--180"><a href="http://developer.amd.com/resources/developer-guides-manuals/">Developer Guides, Manuals &amp; ISA Documents</a></li>
	<li id="menu-item--181" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--181"><a href="http://developer.amd.com/resources/ati-catalyst-pc-vendor-id-1002-li/">AMD List of Device IDs</a></li>
	<li id="menu-item--182" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--182"><a href="http://developer.amd.com/resources/ccc-driver-details/">CCC Driver Details</a></li>
</ul>
</li>
<li id="menu-item-28" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-28"><a href="http://developer.amd.com/community/" class="sf-with-ul">Community</a><div class="sf-sub-indicator icon-angle-down"></div>
<ul class="sub-menu" style="display: none;">
	<li id="menu-item--183" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--183"><a href="http://developer.amd.com/community/blog/">Blog</a></li>
	<li id="menu-item--184" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--184"><a href="http://developer.amd.com/community/forums/">Forums</a></li>
	<li id="menu-item--185" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--185"><a href="http://developer.amd.com/community/hsa-foundation/">HSA Foundation</a></li>
	<li id="menu-item--186" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--186"><a href="http://developer.amd.com/community/newsletter/" class="sf-with-ul">Newsletter: AMD Developer News</a><div class="sf-sub-indicator icon-angle-down"></div>
	<ul class="sub-menu" style="display: none;">
		<li id="menu-item--187" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--187"><a href="http://developer.amd.com/community/newsletter/subscribe/">Subscribe!</a></li>
	</ul>
</li>
	<li id="menu-item--188" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--188"><a href="http://developer.amd.com/community/events/">Events</a></li>
</ul>
</li>
<li id="menu-item-79" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-79"><a href="http://developer.amd.com/partners/" class="sf-with-ul">Partners</a><div class="sf-sub-indicator icon-angle-down"></div>
<ul class="sub-menu" style="display: none;">
	<li id="menu-item--189" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--189"><a href="http://developer.amd.com/partners/tools-partners/" class="sf-with-ul">Tool Partners</a><div class="sf-sub-indicator icon-angle-down"></div>
	<ul class="sub-menu" style="display: none;">
		<li id="menu-item--190" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--190"><a href="http://developer.amd.com/partners/tools-partners/compilers/">Compilers</a></li>
		<li id="menu-item--191" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--191"><a href="http://developer.amd.com/partners/tools-partners/debuggers/">Debuggers</a></li>
		<li id="menu-item--192" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--192"><a href="http://developer.amd.com/partners/tools-partners/java-technology/">Java Technology</a></li>
		<li id="menu-item--193" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--193"><a href="http://developer.amd.com/partners/tools-partners/libraries/" class="sf-with-ul">AMD Partner Libraries for Developers</a><div class="sf-sub-indicator icon-angle-down"></div>
		<ul class="sub-menu" style="display: none;">
			<li id="menu-item--194" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--194"><a href="http://developer.amd.com/partners/tools-partners/libraries/nag-numerical-software-compilers/">NAG – Numerical Software and Compilers</a></li>
			<li id="menu-item--195" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--195"><a href="http://developer.amd.com/partners/tools-partners/libraries/paralution-libraries/">PARALUTION Libraries</a></li>
			<li id="menu-item--196" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--196"><a href="http://developer.amd.com/partners/tools-partners/libraries/gnu-c-library/">GNU C Library (glibc) – Portable, High Performance</a></li>
			<li id="menu-item--197" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--197"><a href="http://developer.amd.com/partners/tools-partners/libraries/arrayfire-library/">ArrayFire – A Library for GPU Computing</a></li>
		</ul>
</li>
		<li id="menu-item--198" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--198"><a href="http://developer.amd.com/partners/tools-partners/profilers/" class="sf-with-ul">Profilers</a><div class="sf-sub-indicator icon-angle-down"></div>
		<ul class="sub-menu" style="display: none;">
			<li id="menu-item--199" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--199"><a href="http://developer.amd.com/partners/tools-partners/profilers/multicoreware/">MulticoreWare</a></li>
			<li id="menu-item--200" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--200"><a href="http://developer.amd.com/partners/tools-partners/profilers/multi2sim-heterogeneous-system-simulator/">Multi2Sim – A Heterogeneous System Simulator</a></li>
		</ul>
</li>
		<li id="menu-item--201" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--201"><a href="http://developer.amd.com/partners/tools-partners/other/" class="sf-with-ul">Other Tools Partners</a><div class="sf-sub-indicator icon-angle-down"></div>
		<ul class="sub-menu" style="display: none;">
			<li id="menu-item--202" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--202"><a href="http://developer.amd.com/partners/tools-partners/other/absoft/">Absoft</a></li>
			<li id="menu-item--203" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--203"><a href="http://developer.amd.com/partners/tools-partners/other/amdahl/">Amdahl Software</a></li>
			<li id="menu-item--204" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--204"><a href="http://developer.amd.com/partners/tools-partners/other/enfuzion-by-axceleon/">EnFuzion by Axceleon</a></li>
			<li id="menu-item--205" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--205"><a href="http://developer.amd.com/partners/tools-partners/other/cloudfuzion-axceleon/">CloudFuzion by Axceleon</a></li>
		</ul>
</li>
		<li id="menu-item--206" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--206"><a href="http://developer.amd.com/partners/tools-partners/apps-running-on-boinc/">Apps Running on BOINC</a></li>
	</ul>
</li>
	<li id="menu-item--207" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--207"><a href="http://developer.amd.com/partners/training-partners/" class="sf-with-ul">Training Partners</a><div class="sf-sub-indicator icon-angle-down"></div>
	<ul class="sub-menu" style="display: none;">
		<li id="menu-item--208" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--208"><a href="http://developer.amd.com/partners/training-partners/accelereyes/">ArrayFire</a></li>
		<li id="menu-item--209" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--209"><a href="http://developer.amd.com/partners/training-partners/acceleware-opencl-course-schedule/">Acceleware</a></li>
		<li id="menu-item--210" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--210"><a href="http://developer.amd.com/partners/training-partners/paralution/">PARALUTION</a></li>
		<li id="menu-item--211" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--211"><a href="http://developer.amd.com/partners/training-partners/applied-parallel-computing-llc/">Applied Parallel Computing LLC</a></li>
		<li id="menu-item--212" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--212"><a href="http://developer.amd.com/partners/training-partners/develop-intelligence/">Develop Intelligence</a></li>
		<li id="menu-item--213" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--213"><a href="http://developer.amd.com/partners/training-partners/mindshare/">MindShare</a></li>
		<li id="menu-item--214" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--214"><a href="http://developer.amd.com/partners/training-partners/streamcomputing/">StreamComputing</a></li>
	</ul>
</li>
	<li id="menu-item--215" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--215"><a href="http://developer.amd.com/partners/microsoft/">Microsoft</a></li>
	<li id="menu-item--216" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--216"><a href="http://developer.amd.com/partners/university-programs/">OpenCL™ University Programs &amp; Resources</a></li>
</ul>
</li>
</ul></nav><!-- end navigation -->


        </div><!-- end of container -->
    </header><!-- end header -->

                <header id="page-title-section">

                <div class="breadcrumbs fixed">
                    <div>
                        <div class="container fold">

                            
                                                            <div class="left-nav">
                                    <div class="toggle"></div>
                                    <div class="menu_wrapper" style="left: 429.5px;"><section id="gksm-custom-menu-widget-2" class="widget-container gksm-custom-menu-widget widget_nav_menu"><h3 class="widget-title">Tools &amp; SDKs</h3><div class="submenu-widget submenu-widget-opencl-optimization-guide"><ul id="menu-tools" class="menu"><li class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-has-children menu-item--6"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/">OpenCL™ Zone – Accelerate Your Applications</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor current-menu-parent current-page-parent current_page_parent menu-item-has-children menu-item--7"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/">APP SDK – A Complete Development Platform</a>
	<ul class="sub-menu">
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--8"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/download-archive/">Download Archive</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--9"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-2-0-samples/">OpenCL™ 2.0 Samples</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--10"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/system-requirements-driver-compatibility/">MD5 Checksums, System Requirements &amp; Driver Compatibility</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--11"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/documentation/">Documentation</a>
		<ul class="sub-menu">
			<li id="menu-item--12" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--12"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/documentation/amd-app-documentation/">Additional Documentation</a></li>
		</ul>
</li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-21596 current_page_item menu-item--13"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/">OpenCL Optimization Guide</a></li>
	</ul>
</li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--14"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/codexl/">CodeXL – Powerful Debugging, Profiling &amp; Analysis</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--15"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/acl-amd-compute-libraries/">ACL – AMD Compute Libraries</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--16"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-emulator-debugger/">OpenCL™ Emulator-Debugger</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--17"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/">OpenCL™ Resources</a>
	<ul class="sub-menu">
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--18"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/getting-started-with-opencl/">Getting Started with OpenCL™</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--19"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/programming-in-opencl/">Programming in OpenCL™</a>
		<ul class="sub-menu">
			<li id="menu-item--20" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--20"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/programming-in-opencl/introductory-exercises-and-tutorials/">Introductory Exercises and Tutorials</a></li>
			<li id="menu-item--21" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--21"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/programming-in-opencl/debugging-applications/">Debugging Applications</a></li>
			<li id="menu-item--22" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--22"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/programming-in-opencl/optimizing-applications/">Optimizing Applications</a></li>
			<li id="menu-item--23" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--23"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/programming-in-opencl/porting-cuda-applications-to-opencl/">Porting CUDA Applications to OpenCL™</a></li>
			<li id="menu-item--24" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--24"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/programming-in-opencl/benchmarking-performance/">Benchmarking Performance</a></li>
			<li id="menu-item--25" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--25"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/programming-in-opencl/image-convolution-using-opencl/">Image Convolution Using OpenCL™</a>
			<ul class="sub-menu">
				<li id="menu-item--26" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--26"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/programming-in-opencl/image-convolution-using-opencl/image-convolution-using-opencl-a-step-by-step-tutorial/">Image Convolution Using OpenCL™ – A Step-by-Step Tutorial Step 2</a></li>
				<li id="menu-item--27" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--27"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/programming-in-opencl/image-convolution-using-opencl/image-convolution-using-opencl-a-step-by-step-tutorial-2/">Image Convolution Using OpenCL™ – A Step-by-Step Tutorial Step 3</a></li>
				<li id="menu-item--28" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--28"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/programming-in-opencl/image-convolution-using-opencl/image-convolution-using-opencl-a-step-by-step-tutorial-3/">Image Convolution Using OpenCL™ – A Step-by-Step Tutorial Step 4</a></li>
				<li id="menu-item--29" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--29"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/programming-in-opencl/image-convolution-using-opencl/image-convolution-using-opencl-a-step-by-step-tutorial-4/">Image Convolution Using OpenCL™ – A Step-by-Step Tutorial Step 5</a></li>
				<li id="menu-item--30" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--30"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/programming-in-opencl/image-convolution-using-opencl/image-convolution-using-opencl-a-step-by-step-tutorial-5/">Image Convolution Using OpenCL™ – A Step-by-Step Tutorial Step 6</a></li>
			</ul>
</li>
		</ul>
</li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--31"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/articles-papers/">OpenCL™ Articles &amp; Papers</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--32"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/opencl-on-demand-webinars/">OpenCL™ On-Demand Webinars</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--33"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/introductory-tutorial-to-opencl/">Intro OpenCL™ Tutorial</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--34"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/opencl-programming-webinar-series/">OpenCL™ Programming Webinar Series</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--35"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/opencl-course-introductory-tutorial-to-opencl-for-hpc-at-saahpc10/">OpenCL™ Course: Introductory Tutorial to OpenCL™ for HPC at SAAHPC’10</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--36"><a href="http://developer.amd.com/tools-and-sdks/opencl-zone/opencl-resources/opencl-course-introduction-to-opencl-programming/">OpenCL™ Course: Introduction to OpenCL™ Programming</a></li>
	</ul>
</li>
</ul>
</li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--37"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/">CPU Development</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--38"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/tools-for-dmtf-dash/">Tools for DMTF DASH</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--39"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/x86-open64-compiler-suite/">x86 Open64 Compiler Suite</a>
	<ul class="sub-menu">
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--40"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/x86-open64-compiler-suite/open64-compiler-developer-guide/">Developer Guide</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--41"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/x86-open64-compiler-suite/applications-and-libraries-built-by-x86-open64/">Apps &amp; Libraries Built by x86 Open64</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--42"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/x86-open64-compiler-suite/inactive-files/">Inactive Files</a></li>
	</ul>
</li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--43"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/amd-open64-software-development-kit/">Open64 SDK</a>
	<ul class="sub-menu">
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--44"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/amd-open64-software-development-kit/building-with-acml/">Building with ACML</a></li>
	</ul>
</li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--45"><a href="http://developer.amd.com/tools-and-sdks/cpu-development/simnow-simulator/">SimNow™ Simulator</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--46"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/">Graphics &amp; Game Development</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--47"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/liquidvr/">AMD LiquidVR™ Technology for Developers</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--48"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/display-library-adl-sdk/">AMD Display Library (ADL) SDK</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--49"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-shaderanalyzergcn/">GPU ShaderAnalyzer for GCN</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--50"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/radeonpro/">Radeon Pro Developer Technologies</a>
	<ul class="sub-menu">
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--51"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/radeonpro/radeonrays-technology-developers/">Radeon Rays Technology for Developers</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--52"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/radeonpro/radeon-prorender-technology/">Radeon ProRender Technology</a>
		<ul class="sub-menu">
			<li id="menu-item--53" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--53"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/radeonpro/radeon-prorender-technology/firerender-resources-for-registered-developers/">FireRender Resources for Registered Developers</a></li>
		</ul>
</li>
	</ul>
</li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--54"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/">GPU PerfStudio</a>
	<ul class="sub-menu">
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--55"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/gpu-perfstudio-api-trace/">API Trace</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--56"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/directx-12-tools/">DirectX® 12 Tools</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--57"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/gpu-perfstudio-frame-debugger/">Frame Debugger</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--58"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/gpu-perfstudio-frame-profiler/">Frame Profiler</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--59"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/gpuperfstudio-vulkan-tools/">GPUPerfStudio Vulkan Tools</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--60"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/gpu-perfstudio-shader-debugger/">Shader Debugger</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--61"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/gpu-perfstudio-shader-editor/">Shader Editor</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--62"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-perfstudio/gpu-perfstudio-previous-versions/">Previous version features and release notes</a></li>
	</ul>
</li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--63"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpu-shaderanalyzer/">GPU ShaderAnalyzer</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--64"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/gpuperfapi/">GPUPerfAPI</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--65"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/vulkan/">Vulkan™</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--66"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/amd-edid-utility/">AMD EDID Utility</a></li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--67"><a href="http://developer.amd.com/tools-and-sdks/graphics-development/amd-opengl-es-sdk/">OpenGL ES SDK</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--68"><a href="http://developer.amd.com/tools-and-sdks/heterogeneous-computing/">Heterogeneous Computing</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--69"><a href="http://developer.amd.com/tools-and-sdks/open-source/">Open Source Zone</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--70"><a href="http://developer.amd.com/tools-and-sdks/archive/">Archive Tools</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--71"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/">Compute</a>
	<ul class="sub-menu">
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--72"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/128-bit-sse5-instruction-set/">128-Bit SSE5 Instruction Set</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--73"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-core-math-library-acml/">ACML – AMD Core Math Library</a>
		<ul class="sub-menu">
			<li id="menu-item--74" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--74"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-core-math-library-acml/acml-downloads-resources/">ACML Downloads &amp; Resources</a>
			<ul class="sub-menu">
				<li id="menu-item--75" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--75"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-core-math-library-acml/acml-downloads-resources/amd-core-math-library-md5-checksums/">AMD Core Math Library MD5 Checksums</a></li>
				<li id="menu-item--76" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--76"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-core-math-library-acml/acml-downloads-resources/building-with-acml/">Building with ACML</a></li>
				<li id="menu-item--77" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--77"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-core-math-library-acml/acml-downloads-resources/how-to-use-acml-with-different-versions-of-gccgfortran/">How to use ACML with different versions of GCC/GFORTRAN</a></li>
			</ul>
</li>
			<li id="menu-item--78" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--78"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-core-math-library-acml/acml-archive-downloads/">Archive ACML Downloads</a></li>
			<li id="menu-item--79" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--79"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-core-math-library-acml/acml-product-features/">AMD Core Math Library Product Features</a></li>
			<li id="menu-item--80" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--80"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-core-math-library-acml/acml-redistribution-agreements/">Redistribution Agreements</a></li>
		</ul>
</li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--81"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-gdebugger/">gDEBugger</a>
		<ul class="sub-menu">
			<li id="menu-item--82" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--82"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-gdebugger/gdebugger-user-guide/">gDEBugger User Guide</a>
			<ul class="sub-menu">
				<li id="menu-item--83" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--83"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-gdebugger/gdebugger-user-guide/getting-started-with-gdebugger/">Getting started with gDEBugger</a></li>
				<li id="menu-item--84" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--84"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-gdebugger/gdebugger-user-guide/toolbars/">Toolbars</a></li>
				<li id="menu-item--85" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--85"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-gdebugger/gdebugger-user-guide/views/">Views</a></li>
				<li id="menu-item--86" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--86"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-gdebugger/gdebugger-user-guide/dialogs/">Dialogs</a></li>
				<li id="menu-item--87" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--87"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-gdebugger/gdebugger-user-guide/how-do-i/">How Do I…</a></li>
				<li id="menu-item--88" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--88"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-gdebugger/gdebugger-user-guide/faq/">FAQ</a></li>
				<li id="menu-item--89" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--89"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-gdebugger/gdebugger-user-guide/supported-extensions/">Supported Extensions</a></li>
				<li id="menu-item--90" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--90"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-gdebugger/gdebugger-user-guide/system-requirements-installation/">System Requirements &amp; Installation</a></li>
				<li id="menu-item--91" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--91"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-gdebugger/gdebugger-user-guide/legal-information/">Legal Information</a></li>
				<li id="menu-item--92" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--92"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-gdebugger/gdebugger-user-guide/contact-information/">Contact Information</a></li>
			</ul>
</li>
		</ul>
</li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--93"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-string-library/">AMD String Library</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--94"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/app-kernel-analyzer/">APP Kernel Analyzer</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--95"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/advanced-platform-management-link-apml-tools/">APML – Advanced Platform Management Link</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--96"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/">APP Profiler</a>
		<ul class="sub-menu">
			<li id="menu-item--97" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--97"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/getting-started/">Getting Started</a>
			<ul class="sub-menu">
				<li id="menu-item--98" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--98"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/getting-started/system-requirements/">System Requirements</a></li>
				<li id="menu-item--99" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--99"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/getting-started/installation/">Installation</a></li>
				<li id="menu-item--100" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--100"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/getting-started/successful-installation/">Successful Installation</a></li>
				<li id="menu-item--101" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--101"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/getting-started/using-the-visual-studio-plugin/">Using The Visual Studio Plugin</a></li>
				<li id="menu-item--102" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--102"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/getting-started/using-the-command-line-interface/">Using the Command Line Interface</a></li>
				<li id="menu-item--103" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--103"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/getting-started/known-issues/">Known Issues</a></li>
				<li id="menu-item--104" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--104"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/getting-started/support/">Support</a></li>
			</ul>
</li>
			<li id="menu-item--105" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--105"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/user-guide/">User Guide</a>
			<ul class="sub-menu">
				<li id="menu-item--106" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--106"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/user-guide/app-profiler-session-explorer/">APP Profiler Session Explorer</a></li>
				<li id="menu-item--107" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--107"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/user-guide/app-profiler-session/">APP Profiler Session</a></li>
				<li id="menu-item--108" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--108"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/user-guide/app-profiler-timeline/">APP Profiler Timeline</a></li>
				<li id="menu-item--109" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--109"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/user-guide/app-profiler-summary-pages/">APP Profiler Summary Pages</a></li>
				<li id="menu-item--110" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--110"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/user-guide/app-profiler-code-viewer/">APP Profiler Code Viewer</a></li>
				<li id="menu-item--111" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--111"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/user-guide/app-profiler-kernel-occupancy-viewer/">APP Profiler Kernel Occupancy Viewer</a></li>
				<li id="menu-item--112" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--112"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/user-guide/app-profiler-settings/">APP Profiler Settings</a></li>
				<li id="menu-item--113" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--113"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/user-guide/app-profiler-session-parameters/">APP Profiler Session Parameters</a></li>
				<li id="menu-item--114" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--114"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/user-guide/description-of-configuration-files/">Description of Configuration Files</a></li>
				<li id="menu-item--115" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--115"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/user-guide/app-profiler-kernel-occupancy/">APP Profiler Kernel Occupancy</a></li>
				<li id="menu-item--116" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--116"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-app-profiler/user-guide/clperfmarkeramd-library/">CLPerfMarkerAMD Library</a></li>
			</ul>
</li>
		</ul>
</li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--117"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-codeanalyst-performance-analyzer/">CodeAnalyst Performance Analyzer</a>
		<ul class="sub-menu">
			<li id="menu-item--118" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--118"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-codeanalyst-performance-analyzer/amd-codeanalyst-performance-analyzer-for-linux/">CodeAnalyst for Linux®</a></li>
			<li id="menu-item--119" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--119"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-codeanalyst-performance-analyzer/codeanalyst-performance-analyzer-for-windows/">CodeAnalyst for Windows®</a></li>
			<li id="menu-item--120" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--120"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-codeanalyst-performance-analyzer/amd-pmu-extension-driver/">PMU Extension Driver</a></li>
			<li id="menu-item--121" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--121"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/amd-codeanalyst-performance-analyzer/codeanalyst-archive/">CodeAnalyst Archive</a></li>
		</ul>
</li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--122"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/sseplus-project/">SSEPlus Project</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--123"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/libm/">LibM</a>
		<ul class="sub-menu">
			<li id="menu-item--124" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--124"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/libm/acml_mv/">ACML_MV</a></li>
			<li id="menu-item--125" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--125"><a href="http://developer.amd.com/tools-and-sdks/archive/compute/libm/amd-libm-functions/">LibM Functions</a></li>
		</ul>
</li>
	</ul>
</li>
	<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--126"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/">Games &amp; CGI</a>
	<ul class="sub-menu">
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--127"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/ashli-advanced-shading-language-interface/">ASHLI – Advanced Shading Language Interface</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--128"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/framewave-project/">Framewave Project</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--129"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/amdcompress/">AMD Compress</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--130"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/ati_compress/">ATI_Compress</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--131"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/ati-radeon-sdk/">ATI Radeon™ SDK</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--132"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/cubemapgen/">CubeMapGen</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--133"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/amd-gpu-meshmapper/">AMD GPU MeshMapper</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--134"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/normal-mapper/">Normal Mapper</a></li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item--135"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/rendermonkey-toolsuite/">RenderMonkey™ Toolsuite</a>
		<ul class="sub-menu">
			<li id="menu-item--136" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--136"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/rendermonkey-toolsuite/rendermonkey-toolsuite-ide-features/">RenderMonkey Toolsuite – IDE Features</a></li>
			<li id="menu-item--137" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--137"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/rendermonkey-toolsuite/rendermonkey-toolsuite-testimonials/">RenderMonkey™ Toolsuite – Testimonials</a></li>
			<li id="menu-item--138" class="menu-item menu-item-type-post_type menu-item-object-page menu-item--138"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/rendermonkey-toolsuite/rendermonkey-toolsuite-sdk/">RenderMonkey™ Toolsuite – SDK</a></li>
		</ul>
</li>
		<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--139"><a href="http://developer.amd.com/tools-and-sdks/archive/games-cgi/the-compressonator/">The Compressonator</a></li>
	</ul>
</li>
</ul>
</li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item--140"><a href="http://developer.amd.com/tools-and-sdks/tools-libraries-sdks-index/">Index of Developer Tools, Libraries &amp; SDKs</a></li>
</ul></div></section></div>
                                    <div class="overlay"></div>
                                </div>
                            
                            <p id="axi_breadcrumbs"><a rel="nofollow" href="http://developer.amd.com/">Home</a> &gt; <a href="http://developer.amd.com/tools-and-sdks/">Tools &amp; SDKs</a> &gt; <a href="http://developer.amd.com/tools-and-sdks/opencl-zone/">OpenCL™ Zone – Accelerate Your Applications</a> &gt; <a href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/">APP SDK – A Complete Development Platform</a> &gt; <strong>OpenCL Optimization Guide</strong></p>                        </div>
                    </div>
                </div>

                <hr>

                <div class="page-header container ">

                    <div class="container fold">

                        <section>
                            <h1 class="page-title" itemprop="headline">OpenCL Optimization Guide</h1>
                                                    </section>
                    </div>

                </div>
                <!-- end page header -->

            </header> <!-- end page header -->
        
    <div id="top-slider">
        </div>

    

    <div id="main" class="no-sidebar">
        <div class="wrapper fold clearfix">
            
            <section id="primary">
                <div class="content" role="main">
                    
                            
                                    
                
                    <div class="container block">
                        
                                                
                                                
                        <article id="post-21596" class="clearfix post-21596 page type-page status-publish hentry" role="article">
                            
                            <section class="post_content clearfix" itemprop="articleBody">
                                
                                <div>
<h6 class="secthead"><a name="50401303_pgfId-394557"></a>PrefaceDevelopers also can generate IL and ISA code from their OpenCL kernel</h6>
</div>
<div>
<h6 class="head1f"><a name="50401303_pgfId-401808"></a>About This Document</h6>
<p class="paragraph"><a name="50401303_pgfId-401811"></a>This document provides useful performance tips and optimization guidelines for programmers who want to use AMD Accelerated Parallel Processing to accelerate their applications.</p>
</div>
<div>
<h6 class="head1f"><a name="50401303_pgfId-394560"></a>Audience</h6>
<p class="paragraph"><a name="50401303_pgfId-402418"></a>This document is intended for programmers. It assumes prior experience in writing code for CPUs and an understanding of work-items. A basic understanding of GPU architectures is useful. It further assumes an understanding of chapters 1, 2, and 3 of the OpenCL Specification (for the latest version, see http://www.khronos.org/registry/cl/ ).</p>
</div>
<div>
<h6 class="head1f"><a name="50401303_pgfId-394569"></a>Organization</h6>
<p class="paragraph"><a name="50401303_pgfId-402864"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_18986">See OpenCL Performance and Optimization</a> is a discussion of general performance and optimization considerations when programming for AMD Accelerated Parallel Processing devices and the usage of the AMD CodeXL GPU Profiler and APP KernelAnalyzer2 tools. <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_18986">See OpenCL Performance and Optimization for GCN Devices</a> details performance and optimization considerations specifically for Southern Island devices. <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_18986">See OpenCL Performance and Optimization for Evergreen and Northern Islands Devices</a> details performance and optimization devices for Evergreen and Northern Islands devices.The last section of this book is an index.</p>
</div>
<div>
<h6 class="head1f"><a name="50401303_pgfId-394651"></a><a name="50401303_19510"></a>Related Documents</h6>
<ul>
<li class="FM1bullet"><a name="50401303_pgfId-394652"></a>The OpenCL Specification, Version 1.1, Published by Khronos OpenCL Working Group, Aaftab Munshi (ed.), 2010.</li>
<li class="FM1bullet"><a name="50401303_pgfId-402518"></a>AMD, <em class="emphasis"> R600 Technology, R600 Instruction Set Architecture</em> , Sunnyvale, CA, est. pub. date 2007. This document includes the RV670 GPU instruction details.</li>
<li class="FM1bullet"><a name="50401303_pgfId-400824"></a>ISO/IEC 9899:TC2 – <em class="emphasis"> International Standard – Programming Languages – C</em></li>
<li class="FM1bullet"><a name="50401303_pgfId-400828"></a>Kernighan Brian W., and Ritchie, Dennis M., <em class="emphasis"> The C Programming Language</em> , Prentice-Hall, Inc., Upper Saddle River, NJ, 1978.</li>
<li class="FM1bullet"><a name="50401303_pgfId-400971"></a>I. Buck, T. Foley, D. Horn, J. Sugerman, K. Fatahalian, M. Houston, and P. Hanrahan, <em class="emphasis"> “Brook for GPUs: stream computing on graphics hardware,” </em> ACM Trans. Graph., vol. 23, no. 3, pp. 777-786, 2004.</li>
<li class="FM1bullet"><a name="50401303_pgfId-401497"></a><em class="emphasis"> AMD Compute Abstraction Layer (CAL) Intermediate Language (IL) Reference Manual</em> . Published by AMD.</li>
<li class="FM1bullet"><a name="50401303_pgfId-401934"></a>Buck, Ian; Foley, Tim; Horn, Daniel; Sugerman, Jeremy; Hanrahan, Pat; Houston, Mike; Fatahalian, Kayvon. “BrookGPU” <em class="hyperactive"> http://graphics.stanford.edu/projects/brookgpu/</em></li>
<li class="FM1bullet"><a name="50401303_pgfId-401922"></a>Buck, Ian. “Brook Spec v0.2”. October 31, 2003.<br>
<em class="hyperactive"> http://merrimac.stanford.edu/brook/brookspec-05-20-03.pdf</em></li>
<li class="FM1bullet"><a name="50401303_pgfId-401498"></a><em class="emphasis"> OpenGL Programming Guide</em> , at <em class="hyperactive"> http://www.glprogramming.com/red/</em></li>
<li class="FM1bullet"><a name="50401303_pgfId-401499"></a><em class="emphasis"> Microsoft DirectX Reference Website</em> , at <em class="hyperactive"> http://msdn.microsoft.com/en-us/directx</em></li>
<li class="FM1bullet"><a name="50401303_pgfId-401502"></a><em class="emphasis"> GPGPU</em> : <em class="hyperactive"> http://www.gpgpu.org</em> , and Stanford BrookGPU discussion forum<br>
<em class="hyperactive"> http://www.gpgpu.org/forums/</em></li>
</ul>
</div>
<div>
<h6 class="head1f"><a name="50401303_pgfId-402115"></a>Contact Information</h6>
<p class="SalesBold"><a name="50401303_pgfId-403103"></a>URL: <em class="hyperactive"> <a class="URL" href="https://developer.amd.com/appsdk">developer.amd.com/appsdk</a></em></p>
<p class="SalesBold"><a name="50401303_pgfId-403105"></a>Developing: <em class="hyperactive"> <a class="URL" href="https://developer.amd.com/">developer.amd.com/</a></em></p>
<p class="SalesBold"><a name="50401303_pgfId-403109"></a>Forum: <em class="hyperactive"> <a class="URL" href="https://developer.amd.com/openclforum">developer.amd.com/openclforum</a></em></p>
<p class="paragraph"><a name="50401303_pgfId-402523"></a></p>
<p class="paragraph"><a name="50401303_pgfId-403895"></a></p>
<p class="paragraph"><a name="50401303_pgfId-403460"></a>REVISION HISTORY</p>
<table border="1">
<tbody>
<tr>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401303_pgfId-403463"></a>Rev</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401303_pgfId-403465"></a>Description</p>
</th>
</tr>
<tr>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401303_pgfId-403487"></a></p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401303_pgfId-403489"></a> {{TBD This section is conditionalized and can be removed for rev 1 }}</p>
</th>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401303_pgfId-403817"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401303_pgfId-403819"></a></p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401303_pgfId-402528"></a></p>
<div>
<h6 class="secthead"><a name="50401330_pgfId-141386"></a>Contents</h6>
<p class="sectheadTOC"><a name="50401330_pgfId-147260"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401303_pgfId-394557">Preface</a></p>
<p class="sectheadTOC"><a name="50401330_pgfId-147262"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401330_pgfId-141386">Contents</a></p>
</div>
</div>
<div>
<h2 class="chapterTOC"><a name="50401330_pgfId-147264"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-542099">Chapter 1 OpenCL Performance and Optimization</a></h2>
<p class="head1TOC"><a name="50401330_pgfId-147266"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-444709">1.1 CodeXL GPU Profiler 1-1</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147268"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-535338">1.1.1 Collecting OpenCL Application Traces 1-1</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147270"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-535633">1.1.2 Timeline View 1-2</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147272"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-535800">1.1.3 Summary Pages View 1-3</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147274"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-536178">1.1.4 API Trace View 1-4</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147276"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-536185">1.1.5 Collecting OpenCL GPU Kernel Performance Counters 1-5</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147278"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-537554">1.2 AMD APP KernelAnalyzer2 1-6</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147280"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-538360">1.2.1 Start KernelAnalyzer2 1-6</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147282"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-538414">1.2.2 Open Kernel Source 1-7</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147284"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-539373">1.2.3 Build Options – Choosing Target ASICS 1-8</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147286"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-538453">1.2.4 Build Options – Defining Kernel Compilation Options 1-9</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147288"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-538468">1.2.5 Analysis Input Tab 1-9</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147290"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-538477">1.2.6 Build the Kernel 1-9</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147292"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-538494">1.2.7 Build Statistics Tab 1-10</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147294"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-538501">1.2.8 The Analysis Tab 1-10</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147296"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-537927">1.3 Analyzing Processor Kernels 1-11</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147298"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-446463">1.3.1 Intermediate Language and GPU Disassembly 1-11</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147300"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-446467">1.3.2 Generating IL and ISA Code 1-11</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147302"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-495738">1.4 Estimating Performance 1-12</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147304"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-446474">1.4.1 Measuring Execution Time 1-12</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147306"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-451445">1.4.2 Using the OpenCL timer with Other System Timers 1-13</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147308"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-446494">1.4.3 Estimating Memory Bandwidth 1-14</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147310"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-495909">1.5 OpenCL Memory Objects 1-15</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147312"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-502813">1.5.1 Types of Memory Used by the Runtime 1-15</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147314"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-532479">Host Memory 1-16</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147316"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-502946">Pinned Host Memory 1-16</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147318"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-503174">Device-Visible Host Memory 1-17</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147320"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-503307">Device Memory 1-17</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147322"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-503175">Host-Visible Device Memory 1-18</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147324"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-503627">1.5.2 Placement 1-18</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147326"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-503571">1.5.3 Memory Allocation 1-19</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147328"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-520796">Using the CPU 1-19</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147330"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-520798">Using Both CPU and GPU Devices, or using an APU Device 1-20</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147332"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-520800">Buffers vs Images 1-20</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147334"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-521010">Choosing Execution Dimensions 1-20</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147336"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-520762">1.5.4 Mapping 1-20</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147338"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-503784">Zero Copy Memory Objects 1-20</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147340"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-504154">Copy Memory Objects 1-21</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147342"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-504422">1.5.5 Reading, Writing, and Copying 1-23</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147344"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-504431">1.5.6 Command Queue 1-23</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147346"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-502559">1.6 OpenCL Data Transfer Optimization 1-23</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147348"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-525051">1.6.1 Definitions 1-24</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147350"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-501699">1.6.2 Buffers 1-24</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147352"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-496787">Regular Device Buffers 1-24</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147354"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-497032">Zero Copy Buffers 1-25</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147356"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-518336">Pre-pinned Buffers 1-26</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147358"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-517669">Application Scenarios and Recommended OpenCL Paths 1-27</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147360"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-531115">1.7 Using Multiple OpenCL Devices 1-31</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147362"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-531120">1.7.1 CPU and GPU Devices 1-31</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147364"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-531299">1.7.2 When to Use Multiple Devices 1-33</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147366"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-531308">1.7.3 Partitioning Work for Multiple Devices 1-34</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147368"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-531363">1.7.4 Synchronization Caveats 1-36</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147370"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-531396">1.7.5 GPU and CPU Kernels 1-38</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147372"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-531424">1.7.6 Contexts and Devices 1-39</a></p>
</div>
<div>
<h2 class="chapterTOC"><a name="50401330_pgfId-147374"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-412605">Chapter 2 OpenCL Performance and Optimization for GCN Devices</a></h2>
<p class="head1TOC"><a name="50401330_pgfId-147376"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-472054">2.1 Global Memory Optimization 2-1</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147378"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-472173">2.1.1 Channel Conflicts 2-3</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147380"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-472340">Staggered Offsets 2-7</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147382"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-472385">Reads Of The Same Address 2-9</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147384"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-472466">2.1.2 Coalesced Writes 2-9</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147386"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-481974">2.2 Local Memory (LDS) Optimization 2-10</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147388"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-448213">2.3 Constant Memory Optimization 2-12</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147390"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-449206">2.4 OpenCL Memory Resources: Capacity and Performance 2-14</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147392"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-538469">2.5 Using LDS or L1 Cache 2-16</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147394"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-487709">2.6 NDRange and Execution Range Optimization 2-17</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147396"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-473708">2.6.1 Hiding ALU and Memory Latency 2-17</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147398"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-452280">2.6.2 Resource Limits on Active Wavefronts 2-18</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147400"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-452285">GPU Registers 2-18</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147402"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-458289">Specifying the Default Work-Group Size at Compile-Time 2-19</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147404"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-458253">Local Memory (LDS) Size 2-19</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147406"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-458820">2.6.3 Partitioning the Work 2-20</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147408"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-452491">Global Work Size 2-21</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147410"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-452494">Local Work Size (#Work-Items per Work-Group) 2-21</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147412"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-457158">Work-Group Dimensions vs Size 2-22</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147414"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-457368">2.6.4 Summary of NDRange Optimizations 2-22</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147416"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-451154">2.7 Instruction Selection Optimizations 2-24</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147418"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-459510">2.7.1 Instruction Bandwidths 2-24</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147420"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-459722">2.7.2 AMD Media Instructions 2-25</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147422"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-459778">2.7.3 Math Libraries 2-25</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147424"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-451159">2.7.4 Compiler Optimizations 2-26</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147426"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-520751">2.8 Additional Performance Guidance 2-26</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147428"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-448804">2.8.1 Loop Unroll </a><em class="filename"> pragma </em> 2-26</p>
<p class="head2TOC"><a name="50401330_pgfId-147430"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-495342">2.8.2 Memory Tiling 2-27</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147432"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-446673">2.8.3 General Tips 2-28</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147434"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-521164">2.8.4 Guidance for CUDA Programmers Using OpenCL 2-30</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147436"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-446698">2.8.5 Guidance for CPU Programmers Using OpenCL to Program GPUs 2-30</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147438"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-521316">2.8.6 Optimizing Kernel Code 2-31</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147440"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-521317">Using Vector Data Types 2-31</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147442"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-521255">Local Memory 2-31</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147444"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-521257">Using Special CPU Instructions 2-31</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147446"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-521264">Avoid Barriers When Possible 2-32</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147448"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-521246">2.8.7 Optimizing Kernels for Southern Island GPUs 2-32</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147450"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-494706">Remove Conditional Assignments 2-32</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147452"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-494711">Bypass Short-Circuiting 2-32</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147454"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-494717">Unroll Small Loops 2-32</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147456"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-494719">Avoid Nested </a><em class="filename"> if</em> s 2-32</p>
<p class="head3TOC"><a name="50401330_pgfId-147458"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-494721">Experiment With </a><em class="filename"> do</em> /<em class="filename"> while</em> /<em class="filename"> for</em> Loops 2-33</p>
<p class="head1TOC"><a name="50401330_pgfId-147460"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-521515">2.9 Specific Guidelines for Southern Islands GPUs 2-33</a></p>
</div>
<div>
<h2 class="chapterTOC"><a name="50401330_pgfId-147462"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-412605">Chapter 3 OpenCL Performance and<br>
Optimization for Evergreen and Northern Islands Devices</a></h2>
<p class="head1TOC"><a name="50401330_pgfId-147464"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-472054">3.1 Global Memory Optimization 3-1</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147466"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-472079">3.1.1 Two Memory Paths 3-3</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147468"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-472083">Performance Impact of FastPath and CompletePath 3-3</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147470"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-472136">Determining The Used Path 3-4</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147472"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-472173">3.1.2 Channel Conflicts 3-6</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147474"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-472340">Staggered Offsets 3-9</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147476"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-472385">Reads Of The Same Address 3-10</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147478"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-472397">3.1.3 Float4 Or Float1 3-11</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147480"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-472466">3.1.4 Coalesced Writes 3-12</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147482"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-472569">3.1.5 Alignment 3-14</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147484"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-472647">3.1.6 Summary of Copy Performance 3-16</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147486"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-481974">3.2 Local Memory (LDS) Optimization 3-16</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147488"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-448213">3.3 Constant Memory Optimization 3-19</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147490"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-449206">3.4 OpenCL Memory Resources: Capacity and Performance 3-20</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147492"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-487708">3.5 Using LDS or L1 Cache 3-22</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147494"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-487709">3.6 NDRange and Execution Range Optimization 3-23</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147496"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-473708">3.6.1 Hiding ALU and Memory Latency 3-23</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147498"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-452280">3.6.2 Resource Limits on Active Wavefronts 3-24</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147500"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-452285">GPU Registers 3-25</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147502"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-458289">Specifying the Default Work-Group Size at Compile-Time 3-26</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147504"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-458253">Local Memory (LDS) Size 3-27</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147506"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-458820">3.6.3 Partitioning the Work 3-28</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147508"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-452491">Global Work Size 3-28</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147510"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-452494">Local Work Size (#Work-Items per Work-Group) 3-28</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147512"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-452498">Moving Work to the Kernel 3-29</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147514"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-457158">Work-Group Dimensions vs Size 3-30</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147516"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-452785">3.6.4 Optimizing for Cedar 3-31</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147518"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-457368">3.6.5 Summary of NDRange Optimizations 3-32</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147520"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-463371">3.7 Using Multiple OpenCL Devices 3-32</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147522"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-463382">3.7.1 CPU and GPU Devices 3-32</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147524"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-463540">3.7.2 When to Use Multiple Devices 3-35</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147526"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-463544">3.7.3 Partitioning Work for Multiple Devices 3-35</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147528"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-463566">3.7.4 Synchronization Caveats 3-37</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147530"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-463571">3.7.5 GPU and CPU Kernels 3-38</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147532"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-463581">3.7.6 Contexts and Devices 3-40</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147534"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-451154">3.8 Instruction Selection Optimizations 3-41</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147536"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-459510">3.8.1 Instruction Bandwidths 3-41</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147538"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-459722">3.8.2 AMD Media Instructions 3-42</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147540"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-459778">3.8.3 Math Libraries 3-42</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147542"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-459906">3.8.4 VLIW and SSE Packing 3-43</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147544"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-451159">3.8.5 Compiler Optimizations 3-45</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147546"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-517108">3.9 Clause Boundaries 3-46</a></p>
<p class="head1TOC"><a name="50401330_pgfId-147548"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-520751">3.10 Additional Performance Guidance 3-48</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147550"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-448804">3.10.1 Loop Unroll </a><em class="filename"> pragma </em> 3-48</p>
<p class="head2TOC"><a name="50401330_pgfId-147552"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-495342">3.10.2 Memory Tiling 3-48</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147554"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-446673">3.10.3 General Tips 3-49</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147556"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-521164">3.10.4 Guidance for CUDA Programmers Using OpenCL 3-51</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147558"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-446698">3.10.5 Guidance for CPU Programmers Using OpenCL to Program GPUs 3-52</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147560"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-521316">3.10.6 Optimizing Kernel Code 3-53</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147562"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-521317">Using Vector Data Types 3-53</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147564"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-521255">Local Memory 3-53</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147566"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-521257">Using Special CPU Instructions 3-53</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147568"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-521264">Avoid Barriers When Possible 3-53</a></p>
<p class="head2TOC"><a name="50401330_pgfId-147570"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-521246">3.10.7 Optimizing Kernels for Evergreen and 69XX-Series GPUs 3-53</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147572"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-494703">Clauses 3-53</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147574"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-494706">Remove Conditional Assignments 3-54</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147576"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-494711">Bypass Short-Circuiting 3-54</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147578"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-494717">Unroll Small Loops 3-54</a></p>
<p class="head3TOC"><a name="50401330_pgfId-147580"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-494719">Avoid Nested </a><em class="filename"> if</em> s 3-54</p>
<p class="head3TOC"><a name="50401330_pgfId-147582"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-494721">Experiment With </a><em class="filename"> do</em> /<em class="filename"> while</em> /<em class="filename"> for</em> Loops 3-55</p>
<p class="head3TOC"><a name="50401330_pgfId-147584"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-494723">Do I/O With 4-Word Data 3-55</a></p>
<p class="sectheadTOC"><a name="50401330_pgfId-147586"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401311_pgfId-224076">Index</a></p>
<div>
<h3 class="figurelist"><a name="50401290_pgfId-54798"></a></h3>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-2.gif" alt=""></div>
<h3 class="figurelist"></h3>
<p class="figureLOF"><a name="50401290_pgfId-60269"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-535626">1.1 Sample Application Trace API Summary 1-2</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60271"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-535925">1.2 Sample Timeline View 1-2</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60273"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-536122">1.3 Sample Summary Pages View 1-3</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60275"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-536627">1.4 Sample API Trace View 1-4</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60277"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-537052">1.5 Example Session View – Performance Counters for a Profile Session 1-6</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60279"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-538921">1.6 KernelAnalyzer2 Main Window 1-7</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60281"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-539121">1.7 Source Panel With Sample Source File 1-8</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60283"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-542176">1.8 KernelAnalyzer2 Build Options 1-8</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60285"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-540130">1.9 Specifying Build Options in the Source Pane 1-9</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60287"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-540512">1.10 Analysis Tab 1-9</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60289"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-540987">1.11 Sample Compilation Output 1-10</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60291"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-541268">1.12 Statistics Tab 1-10</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60293"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-541620">1.13 Analysis Output Tab 1-11</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60295"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-538220">2.1 Memory System 2-2</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60297"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-536233">2.2 Channel Remapping/Interleaving 2-5</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60299"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-513550">2.3 Transformation to Staggered Offsets 2-8</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60301"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-447133">2.4 One Example of a Tiled Layout Format 2-27</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60303"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-522498">2.5 Northern Islands Compute Unit Arrangement 2-35</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60305"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-522595">2.6 Southern Island Compute Unit Arrangement 2-36</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60307"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-512965">3.1 Memory System 3-2</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60309"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-472093">3.2 FastPath (blue) vs CompletePath (red) Using float1 3-3</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60311"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-513550">3.3 Transformation to Staggered Offsets 3-9</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60313"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-472408">3.4 Two Kernels: One Using float4 (blue), the Other float1 (red) 3-11</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60315"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-472480">3.5 Effect of Varying Degrees of Coalescing – Coal (blue), NoCoal (red), Split (green) 3-13</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60317"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-472579">3.6 Unaligned Access Using float1 3-15</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60319"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-478307">3.7 Unmodified Loop 3-43</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60321"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-461366">3.8 Kernel Unrolled 4X 3-44</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60323"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-461405">3.9 Unrolled Loop with Stores Clustered 3-44</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60325"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-461692">3.10 Unrolled Kernel Using float4 for Vectorization 3-45</a></p>
<p class="figureLOF"><a name="50401290_pgfId-60327"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-447133">3.11 One Example of a Tiled Layout Format 3-49</a></p>
</div>
<div>
<h3 class="tablelist"><a name="50401348_pgfId-356594"></a></h3>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-3.gif" alt=""></div>
<h3 class="tablelist"></h3>
<p class="tableLOT"><a name="50401348_pgfId-361835"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-532476">1.1 Memory Bandwidth in GB/s (R = read, W = write) in GB/s 1-16</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361837"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-503657">1.1 OpenCL Memory Object Properties 1-19</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361839"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-504162">1.1 Transfer policy on </a><em class="filename"> clEnqueueMapBuffer</em> / <em class="filename"> clEnqueueMapImage</em> / <em class="filename"> clEnqueueUnmapMemObject</em> for Copy Memory Objects 1-21</p>
<p class="tableLOT"><a name="50401348_pgfId-361841"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-531128">1.1 CPU and GPU Performance Characteristics 1-31</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361843"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_pgfId-533785">1.2 CPU and GPU Performance Characteristics on APU 1-32</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361845"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-474734">2.1 Hardware Performance Parameters 2-14</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361847"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-492694">2.2 Effect of LDS Usage on Wavefronts/CU1 2-20</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361849"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-459713">2.3 Instruction Throughput (Operations/Cycle for Each Stream Processor) 2-24</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361851"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_pgfId-522138">2.4 Resource Limits for Northern Islands and Southern Islands 2-35</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361853"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-475562">3.1 Bandwidths for 1D Copies 3-4</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361855"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-475632">3.2 Bandwidths for Different Launch Dimensions 3-8</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361857"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-475650">3.3 Bandwidths Including float1 and float4 3-12</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361859"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-475660">3.4 Bandwidths Including Coalesced Writes 3-14</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361861"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-475684">3.5 Bandwidths Including Unaligned Access 3-15</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361863"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-474734">3.6 Hardware Performance Parameters 3-20</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361865"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-458112">3.7 Impact of Register Type on Wavefronts/CU 3-25</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361867"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-492694">3.8 Effect of LDS Usage on Wavefronts/CU 3-27</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361869"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-482532">3.9 CPU and GPU Performance Characteristics 3-33</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361871"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-459713">3.10 Instruction Throughput (Operations/Cycle for Each Stream Processor) 3-41</a></p>
<p class="tableLOT"><a name="50401348_pgfId-361873"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_pgfId-459903">3.11 Native Speedup Factor 3-42</a></p>
<ol>
<li class="chapter"><a name="50401315_pgfId-542099"></a><a name="50401315_18986"></a><br>
OpenCL Performance and Optimization</li>
</ol>
<p class="paragraph"><a name="50401315_pgfId-442672"></a>This chapter discusses <a name="50401315_marker-442668"></a>performance and <a name="50401315_marker-490476"></a>optimization when programming for AMD Accelerated Parallel Processing (APP) GPU<a name="50401315_marker-490495"></a> <a name="50401315_marker-490528"></a>compute devices<a name="50401315_marker-490594"></a>,<a name="50401315_marker-490617"></a> as well as CPUs<a name="50401315_marker-490548"></a><a name="50401315_marker-490535"></a><a name="50401315_marker-490575"></a> and multiple devices.<a name="50401315_marker-490553"></a><a name="50401315_marker-490560"></a><a name="50401315_marker-490580"></a> Details specific to the Southern Islands series of GPUs is at the end of the chapter.</p>
<div>
<h6 class="head1"><a name="50401315_pgfId-444709"></a>CodeXL GPU Profiler</h6>
<p class="paragraph"><a name="50401315_pgfId-525732"></a>The CodeXL GPU Profiler (hereafter Profiler) is a performance analysis tool that gathers data from the OpenCL run-time and AMD Radeon™ GPUs during the execution of an OpenCL application. This information is used to discover <a name="50401315_marker-533302"></a>bottlenecks in the application and find ways to optimize the application’s performance for AMD platforms<a name="50401315_marker-533303"></a>. The following subsections describe the modes of operation supported by the Profiler.</p>
<div>
<h6 class="head2"><a name="50401315_pgfId-535338"></a>Collecting OpenCL Application Traces</h6>
<p class="paragraph"><a name="50401315_pgfId-535345"></a>This mode requires running an application trace GPU profile sesstion. To do this:</p>
<div>
<h6 class="step1"><a name="50401315_pgfId-535473"></a>Open or create a CodeXL project.</h6>
<ol>
<li class="step1-"><a name="50401315_pgfId-535483"></a>Select the GPU: Application Trace Profile Type.</li>
</ol>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-4.gif" alt=""></div>
<ol>
<ol>
<li class="step1-"><a name="50401315_pgfId-535520"></a>Click the Start CodeXL Profiling button,</li>
</ol>
</ol>
<p><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-5.gif" alt="" align="BASELINE"></p>
<ol>.</ol>
<ol>
<ol>
<li class="step1-"><a name="50401315_pgfId-535548"></a>Pause / Stop the profiled application using the execution toolbar buttons,</li>
</ol>
</ol>
<p><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-6.gif" alt="" align="BASELINE"></p>
<ol>.</ol>
<p class="paragraph"><a name="50401315_pgfId-535593"></a>When the profiled application execution is done, CodeXL displays the session. <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_77663">See Sample Application Trace API Summary</a> show a sample application trace API summary view.</p>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-7.gif" alt=""></div>
</div>
<div>
<h6 class="figure"><a name="50401315_pgfId-535626"></a><a name="50401315_77663"></a>Sample Application Trace API Summary</h6>
</div>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-535633"></a>Timeline View</h6>
<p class="paragraph"><a name="50401315_pgfId-535775"></a>The Timeline View (<a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_37312">See Sample Timeline View</a>) provides a visual representation of the execution of the application.</p>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-8.gif" alt=""></div>
<div>
<h6 class="figure"><a name="50401315_pgfId-535925"></a><a name="50401315_37312"></a>Sample Timeline View</h6>
<p class="paragraph"><a name="50401315_pgfId-535883"></a>At the top of the timeline is the time grid; it shows, in milliseconds, the total elapsed time of the application when fully zoomed out. Timing begins when the first OpenCL call is made by the application; it ends when the final OpenCL call is made. Below the time grid is a list of each host (OS) thread that made at least one OpenCL call. For each host thread, the OpenCL API calls are plotted along the time grid, showing the start time and duration of each call. Below the host threads, the OpenCL tree shows all contexts and queues created by the application, along with data transfer operations and kernel execution operations for each queue. You can navigate in the Timeline View by zooming, panning, collapsing/expanding, or selecting a region of interest. From the Timeline View, you also can navigate to the corresponding API call in the API Trace View, and vice versa.</p>
<p class="paragraph"><a name="50401315_pgfId-535980"></a>The Timeline View can be useful for debugging your OpenCL application. Examples are given below.</p>
<ul>
<li class="FM1bullet"><a name="50401315_pgfId-535988"></a>The Timeline View lets you easily confirm that the high-level structure of your application is correct by verifying that the number of queues and contexts created match your expectations for the application.</li>
<li class="FM1bullet"><a name="50401315_pgfId-535989"></a>You can confirm that synchronization has been performed properly in the application. For example, if kernel A execution is dependent on a buffer operation and outputs from kernel B execution, then kernel A execution must appear after the completion of the buffer execution and kernel B execution in the time grid. It can be hard to find this type of synchronization error using traditional debugging techniques.</li>
<li class="FM1bullet"><a name="50401315_pgfId-535990"></a>You can confirm that the application has been using the hardware efficiently. For example, the timeline should show that non-dependent kernel executions and data transfer operations occurred simultaneously.</li>
</ul>
</div>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-535800"></a>Summary Pages View</h6>
<p class="paragraph"><a name="50401315_pgfId-536144"></a>The Summary Pages View (<a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_95670">See Sample Summary Pages View</a>) shows various statistics for your OpenCL application. It can give a general idea of the location of the application’s bottlenecks. It also provides useful information, such as the number of buffers and images created on each context, the most expensive kernel call, etc.</p>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-9.gif" alt=""></div>
<div>
<h6 class="figure"><a name="50401315_pgfId-536122"></a><a name="50401315_95670"></a>Sample Summary Pages View</h6>
<p class="paragraph"><a name="50401315_pgfId-536368"></a>The Summary Pages View provides access to the following individual pages.</p>
<div>
<h6 class="number1"><a name="50401315_pgfId-536369"></a>API Summary <em class="symbol">  </em> Shows statistics for all OpenCL API calls made in the application for API hotspot identification.</h6>
<ol>
<li class="number1-"><a name="50401315_pgfId-536236"></a>Context Summary <em class="symbol">  </em> Shows the statistics for all the kernel dispatch and data transfer operations for each context. It also shows the number of buffers and images created for each context.</li>
<li class="number1-"><a name="50401315_pgfId-536238"></a>Kernel Summary <em class="symbol"> </em> Shows statistics for all the kernels created in the application.</li>
<li class="number1-"><a name="50401315_pgfId-536239"></a>Top 10 Data Transfer Summary <em class="symbol"> </em> shows a sorted list of the ten most expensive individual data transfer operations.</li>
<li class="number1-"><a name="50401315_pgfId-536240"></a>Top 10 Kernel Summary <em class="symbol">  </em> Shows a sorted list of the ten most expensive individual kernel execution operations. From these summary pages, you can determine if the application is bound by kernel execution or data transfer (Context Summary page). If the application is bound by kernel execution, you can determine which device is the bottleneck. From the Kernel Summary page, you can find the name of the kernel with the highest total execution time. Or, from the Top 10 Kernel Summary page, you can find the individual kernel instance with the highest execution time. If the kernel execution on a GPU device is the bottleneck, the GPU performance counters then can be used to investigate the bottleneck inside the kernel. See <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_20481">See Collecting OpenCL GPU Kernel Performance Counters</a>. Collecting OpenCL GPU Kernel Performance Counters for more details. If the application is bound by the data transfers, it is possible to determine the most expensive data transfer type (read, write, copy, or map) in the application from the Context Summary page. You can see if you can minimize this type of data transfer by modifying the algorithm. With help from the Timeline View, you can investigate whether data transfers have been executed in the most efficient way (concurrently with a kernel execution).</li>
</ol>
</div>
</div>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-536178"></a>API Trace View</h6>
<p class="paragraph"><a name="50401315_pgfId-536601"></a>The API Trace View (<a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_23312">See Sample API Trace View</a>) lists all the OpenCL API calls made by the application.</p>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-10.gif" alt=""></div>
<div>
<h6 class="figure"><a name="50401315_pgfId-536627"></a><a name="50401315_23312"></a>Sample API Trace View</h6>
<p class="paragraph"><a name="50401315_pgfId-536634"></a>Each host thread that makes at least one OpenCL call is listed in a separate tab. Each tab contains a list of all the API calls made by that particular thread. For each call, the list displays the index of the call (representing execution order), the name of the API function, a semi-colon-delimited list of parameters passed to the function, and the value returned by the function. When displaying parameters, the profiler tries to dereference pointers and decode enumeration values in order to give as much information as possible about the data being passed in, or returned from, the function. Double-clicking an item in the API Trace View displays and zooms into that API call in the Host Thread row in the Timeline View.</p>
<p class="paragraph"><a name="50401315_pgfId-536602"></a>This view lets you analyze and debug the input parameters and output results for each API call. For example, you easily can check that all the API calls are returning <em class="filename"> CL_SUCCESS</em> , or that all the buffers are created with the correct flags. This view also lets you identify redundant API calls.</p>
</div>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-536185"></a><a name="50401315_20481"></a>Collecting OpenCL GPU Kernel Performance Counters</h6>
<p class="paragraph"><a name="50401315_pgfId-536738"></a>To collect these counters, run a performance counters GPU profile session using the following steps.</p>
<div>
<h6 class="step1"><a name="50401315_pgfId-536572"></a>Open (or create) an CodeXL project.</h6>
<ol>
<ol>
<li class="step1-"><a name="50401315_pgfId-536761"></a>Select the GPU: Performance Counters Profile Type.</li>
<li class="step1-"><a name="50401315_pgfId-536765"></a>Click the Start CodeXL Profiling toolbar button,</li>
</ol>
</ol>
<p><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-11.gif" alt="" align="BASELINE"></p>
<ol>, to start profiling.</ol>
<ol>
<ol>
<li class="step1-"><a name="50401315_pgfId-536770"></a>Pause / Stop the profiled application using the execution toolbar buttons:</li>
</ol>
</ol>
<p><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-12.gif" alt="" align="BASELINE"></p>
<ol>.</ol>
<p class="paragraph"><a name="50401315_pgfId-536771"></a>When the profiled application execution is over, CodeXL displays the session.</p>
<p class="paragraph"><a name="50401315_pgfId-536946"></a>The GPU kernel performance counters can be used to find possible bottlenecks in the kernel execution. You can find the list of performance counters supported by AMD Radeon™ GPUs in the tool documentation. Once the trace data has been used to discover which kernel is most in need of optimization, you can collect the GPU performance counters to drill down into the kernel execution on a GPU device. Using the performance counters, we can:</p>
<ul>
<li class="FM1bullet"><a name="50401315_pgfId-537007"></a>Find the number of resources (general-purpose registers, local memory size, and flow control stack size) allocated for the kernel. These resources affect the possible number of in-flight wavefronts in the GPU. A higher number hides data latency better.</li>
<li class="FM1bullet"><a name="50401315_pgfId-537008"></a>Determine the number of ALU, as well as global and local memory instructions executed by the GPU.</li>
<li class="FM1bullet"><a name="50401315_pgfId-536775"></a>Determine the number of bytes fetched from, and written to, the global memory.</li>
<li class="FM1bullet"><a name="50401315_pgfId-536776"></a>Determine the use of the SIMD engines and memory units in the system.</li>
<li class="FM1bullet"><a name="50401315_pgfId-536777"></a>View the efficiency of the shader compiler in packing ALU instructions into the VLIW instructions used by AMD GPUs.</li>
<li class="FM1bullet"><a name="50401315_pgfId-536579"></a>View any local memory (Local Data Share – LDS) bank conflicts. The Session View (<a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_86218">See Example Session View – Performance Counters for a Profile Session</a>) shows the performance counters for a profile session. The output data is recorded in a comma-separated variable format. You also can click on the kernel name entry in the “Method” column to view the OpenCL kernel source, AMD Intermediate Language (IL), GPU ISA, or CPU assembly code for that kernel.</li>
</ul>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-13.gif" alt=""></div>
</div>
<div>
<h6 class="figure"><a name="50401315_pgfId-537052"></a><a name="50401315_86218"></a>Example Session View – Performance Counters for a Profile Session</h6>
</div>
</div>
</div>
<div>
<h6 class="head1"><a name="50401315_pgfId-537554"></a>AMD APP KernelAnalyzer2</h6>
<p class="paragraph"><a name="50401315_pgfId-538358"></a>AMD APP KernelAnalyzer2 analyzes the performance of OpenCL kernels for AMD GPUs. It gives accurate kernel performance estimates and lets you view kernel compilation results and assembly code for multiple GPUs, without requiring actual GPU hardware.</p>
<div>
<h6 class="head2"><a name="50401315_pgfId-538360"></a>Start KernelAnalyzer2</h6>
<p class="paragraph"><a name="50401315_pgfId-538361"></a>KernelAnalyzer2 is installed along with CodeXL.</p>
<div>
<h6 class="step1"><a name="50401315_pgfId-538362"></a>Launch KernelAnalyzer2 from within CodeXL by selecting, from the CodeXL menu bar, Analyze <em class="symbol"> ® </em> Launch AMD APP KernelAnalyzer2.</h6>
<p class="step1-cont"><a name="50401315_pgfId-538377"></a>You also can launch KernelAnalyzer2 directly from the operating system.</p>
<p class="FM2bullet-cont"><a name="50401315_pgfId-538378"></a>For Windows: From the Windows program menu, select All Programs <em class="symbol"> ®</em> AMD Developer Tools <em class="symbol"> ®</em> AMD APP KernelAnalyzer2 <em class="symbol"> ®</em> AMD App KernelAnalyzer2.</p>
<p class="FM2bullet-cont"><a name="50401315_pgfId-538804"></a>For Linux: Navigate to the KernelAnalyzer2 directory and invoke it:</p>
<p class="No-Spacing"><a name="50401315_pgfId-538851"></a>$ cd /opt/AMD/AMDAPPKernelAnalyzerV2/AMDAPP*/x86/ # 32-bit</p>
<p class="No-Spacing"><a name="50401315_pgfId-538852"></a>$ cd /opt/AMD/AMDAPPKernelAnalyzerV2/AMDAPP*/x86_64/ # 64-bit</p>
<p class="No-Spacing"><a name="50401315_pgfId-538887"></a>$ ./AMDAPPKernelAnalyzer2</p>
<p class="step1-cont"><a name="50401315_pgfId-538888"></a>Alternatively, you can add the KernelAnalyzer2 directory to your PATH, then invoke it. For Windows or Linux, the KernelAnalyzer2 window appears (<a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_94116">See KernelAnalyzer2 Main Window</a>).</p>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-14.gif" alt=""></div>
</div>
<div>
<h6 class="figure"><a name="50401315_pgfId-538921"></a><a name="50401315_94116"></a>KernelAnalyzer2 Main Window</h6>
<p class="paragraph"><a name="50401315_pgfId-538411"></a>The window contains three panels:</p>
<ul>
<li class="FM1bullet"><a name="50401315_pgfId-539011"></a>a kernel source panel at top left,</li>
<li class="FM1bullet"><a name="50401315_pgfId-539022"></a>a kernel assembly code panel at top right, and</li>
<li class="FM1bullet"><a name="50401315_pgfId-539030"></a>a build output/statistics/analysis panel at bottom.</li>
</ul>
</div>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-538414"></a>Open Kernel Source</h6>
<p class="paragraph"><a name="50401315_pgfId-539047"></a>To open the kernel source, select File <em class="symbol"> ®</em> Open from the KernelAnalyzer2 toolbar; then, navigate to the kernel source file.</p>
<p class="paragraph"><a name="50401315_pgfId-538424"></a>For example, you can use the OpenCL source <em class="filename"> tpAdvectFieldScalar.cl</em> from the Teapot example, which is in:</p>
<p class="paragraph"><a name="50401315_pgfId-538425"></a>\Program Files (x86)\AMD\CodeXL\Examples\Teapot\res</p>
<p class="paragraph"><a name="50401315_pgfId-538426"></a>or, in the Linux directory:</p>
<p class="paragraph"><a name="50401315_pgfId-538427"></a>/opt/AMD/CodeXL/bin/examples/Teapot/AMDTTeaPotLib/AMDTTeaPotLib/res</p>
<p class="paragraph"><a name="50401315_pgfId-538428"></a>The source file appears in the source panel (<a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_61534">See Source Panel With Sample Source File</a>).</p>
<div>
<h6 class="anchor"><a name="50401315_pgfId-539205"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-15.gif" alt=""></div>
</div>
<div>
<h6 class="figure"><a name="50401315_pgfId-539121"></a><a name="50401315_61534"></a>Source Panel With Sample Source File</h6>
<p class="paragraph"><a name="50401315_pgfId-539371"></a>You also can drag and drop a kernel source into the source panel.</p>
</div>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-539373"></a><a name="50401315__Toc360464833"></a>Build Options – Choosing Target ASICS</h6>
<div>
<h6 class="step1"><a name="50401315_pgfId-539387"></a>To access the build options window, select Build <em class="symbol"> ®</em> Options.</h6>
<ol>
<li class="step1-"><a name="50401315_pgfId-538445"></a>The ASICs tab in this window contains a list of devices by series (<a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_80748">See KernelAnalyzer2 Build Options</a>).</li>
</ol>
<div>
<h6 class="anchor"><a name="50401315_pgfId-539622"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-16.gif" alt=""></div>
</div>
</div>
<div>
<h6 class="figure"><a name="50401315_pgfId-542176"></a><a name="50401315_80748"></a>KernelAnalyzer2 Build Options</h6>
<ol>
<li class="step1-"><a name="50401315_pgfId-539631"></a><a name="50401315_73056"></a>Select the Build Options Window ASICS Tab.</li>
<li class="step1-"><a name="50401315_pgfId-538446"></a>Use the checkboxes to select, or deselect, an entire series, or click on a small triangle at left to expand.</li>
<li class="step1-"><a name="50401315_pgfId-538451"></a>Click OK to exit from the Build Options window.</li>
</ol>
</div>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-538453"></a><a name="50401315__Toc360464834"></a>Build Options – Defining Kernel Compilation Options</h6>
<p class="paragraph"><a name="50401315_pgfId-538454"></a>You can define specific kernel build options in the source pane (<a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_82095">See Specifying Build Options in the Source Pane</a>).</p>
<div>
<h6 class="anchor"><a name="50401315_pgfId-540113"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-17.gif" alt=""></div>
</div>
<div>
<h6 class="figure"><a name="50401315_pgfId-540130"></a><a name="50401315_82095"></a>Specifying Build Options in the Source Pane</h6>
<p class="paragraph"><a name="50401315_pgfId-538459"></a>For the <em class="filename"> tpAdvectFieldScalar.cl</em> kernel, enter the following options:</p>
<p class="Normal"><a name="50401315_pgfId-538460"></a>-D GRID_NUM_CELLS_X=64 -D GRID_NUM_CELLS_Y=64 -D GRID_NUM_CELLS_Z=64 -D GRID_INV_SPACING=1.000000f -D GRID_SPACING=1.000000f -D GRID_SHIFT_X=6 -D GRID_SHIFT_Y=6 -D GRID_SHIFT_Z=6 -D GRID_STRIDE_Y=64 -D GRID_STRIDE_SHIFT_Y=6 -D GRID_STRIDE_Z=4096 -D GRID_STRIDE_SHIFT_Z=12 -I path_to_example_src</p>
<p class="Normal"><a name="50401315_pgfId-538461"></a></p>
<p class="paragraph"><a name="50401315_pgfId-538462"></a>Here, path_to_example_src can be:</p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-538463"></a>For Windows:</p>
<p class="FM2dash-cont"><a name="50401315_pgfId-538464"></a>\Program Files\AMD\AMD CodeXL\Examples\Teapot\res</p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-538465"></a>For Linux:</p>
<p class="FM2dash-cont"><a name="50401315_pgfId-538466"></a>/opt/AMD/CodeXL/bin/examples/Teapot/AMDTTeaPotLib/AMDTTeaPotLib/</p>
</div>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-538468"></a>Analysis Input Tab</h6>
<p class="paragraph"><a name="50401315_pgfId-538469"></a>The Analysis tab (<a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_86619">See Analysis Tab</a>) lets you turn the analysis option on or off.</p>
<div>
<h6 class="anchor"><a name="50401315_pgfId-540504"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-18.gif" alt=""></div>
</div>
<div>
<h6 class="figure"><a name="50401315_pgfId-540512"></a><a name="50401315_86619"></a>Analysis Tab</h6>
<p class="paragraph"><a name="50401315_pgfId-538470"></a>Use this tab to define the input parameters for the analysis.</p>
<p class="paragraph"><a name="50401315_pgfId-538471"></a>For each kernel, you can set the global and local work size. For a 3D kernel, X, Y, and Z must be supplied. For a 2D kernel, Z must be defined as 1 or 0; for a 1D kernel, both Y and Z must be defined as 0 or 1.</p>
</div>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-538477"></a>Build the Kernel</h6>
<p class="paragraph"><a name="50401315_pgfId-538478"></a>After setting the build options, press F7 or select Build <em class="symbol"> ®</em> Build, to build the kernel.</p>
<p class="paragraph"><a name="50401315_pgfId-538487"></a>Compilation output appears in the Output tab. The example in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_18670">See Sample Compilation Output</a>shows successful builds (no warnings or errors) for 17 of 17 devices. The right panel displays a drop-down list of kernel names at the top, with tabs below to display the intermediate language (IL) or instruction set architecture (ISA) code for each device. Click on a tab to display it; or double-click to display it in a new window. Right-click in the code pane, and select Save As to save the IL or ISA code as a text file.</p>
<div>
<h6 class="anchor"><a name="50401315_pgfId-540979"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-19.gif" alt=""></div>
</div>
<div>
<h6 class="figure"><a name="50401315_pgfId-540987"></a><a name="50401315_18670"></a>Sample Compilation Output</h6>
<p class="paragraph"><a name="50401315_pgfId-538492"></a>You can export the output as a binary file with File <em class="symbol"> ®</em> Export Binaries.</p>
</div>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-538494"></a>Build Statistics Tab</h6>
<p class="paragraph"><a name="50401315_pgfId-538495"></a>The statistics tab (<a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_57751">See Statistics Tab</a>) gives detailed statistics for each device.</p>
<div>
<h6 class="anchor"><a name="50401315_pgfId-541259"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-20.gif" alt=""></div>
</div>
<div>
<h6 class="figure"><a name="50401315_pgfId-541268"></a><a name="50401315_57751"></a>Statistics Tab</h6>
</div>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-538501"></a>The Analysis Tab</h6>
<p class="paragraph"><a name="50401315_pgfId-538502"></a>The Analysis output tab (<a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_12460">See Analysis Output Tab</a>) shows the analysis for the selected kernel.</p>
</div>
</div>
<div>
<h6 class="anchor34"><a name="50401315_pgfId-541592"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-21.gif" alt=""></div>
<div>
<h6 class="figure"><a name="50401315_pgfId-541620"></a><a name="50401315_12460"></a>Analysis Output Tab</h6>
<p class="paragraph"><a name="50401315_pgfId-538503"></a>The upper section shows the parameters used for the current executions of the simulation, as defined by the user in the Analysis Input tab.</p>
</div>
<div>
<h6 class="head1"><a name="50401315_pgfId-537927"></a><a name="50401315_78967"></a>Analyzing Processor Kernels<a name="50401315_marker-490707"></a></h6>
<div>
<h6 class="head2"><a name="50401315_pgfId-446463"></a>Intermediate Language and GPU Disassembly</h6>
<p class="paragraph"><a name="50401315_pgfId-446464"></a>The AMD Accelerated Parallel Processing software exposes<a name="50401315_marker-490708"></a> the Intermediate Language (IL)<a name="50401315_marker-490709"></a> <a name="50401315_marker-492588"></a>and instruction set architecture (ISA) code<a name="50401315_marker-490712"></a> generated for OpenCL<em class="superscript"> ™</em> kernels through the compiler options <em class="filename"> -save-temps[=prefix]</em> .</p>
<p class="paragraph"><a name="50401315_pgfId-446465"></a>The AMD Intermediate Language (IL)<a name="50401315_marker-490717"></a> is an abstract representation for hardware vertex, pixel, and geometry shaders, as well as compute kernels that can be taken as input by other modules implementing the IL. An IL compiler<a name="50401315_marker-490718"></a> uses an IL shader or kernel in conjunction with driver state information to translate these shaders into hardware instructions or a software emulation layer. For a complete description of IL, see the AMD Intermediate Language (IL) Specification v2.</p>
<p class="paragraph"><a name="50401315_pgfId-446466"></a>The instruction set architecture (ISA)<a name="50401315_marker-490727"></a> defines the instructions and formats accessible to programmers and compilers for the AMD GPUs<a name="50401315_marker-514552"></a>. The Northern Islands-family ISA instructions and microcode are documented in the AMD Northern Islands-Family ISA Instructions and Microcode.</p>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-446467"></a>Generating IL and ISA Code<a name="50401315_marker-490729"></a></h6>
<p class="paragraph"><a name="50401315_pgfId-446468"></a>In Microsoft Visual Studio, the CodeXL GPU Profiler provides an integrated tool to view IL and ISA code<a name="50401315_marker-490728"></a>. (The AMD APP KernelAnalyzer2 also can show the IL and ISA code.) After running the Profiler, single-click the name of the kernel for detailed programming and disassembly information<a name="50401315_marker-491806"></a>.<a name="50401315_marker-491810"></a> The associated ISA disassembly is shown in a new tab. A drop-down menu provides the option to view the IL, ISA, or source OpenCL for the selected kernel.<a name="50401315_marker-491816"></a></p>
<p class="paragraph"><a name="50401315_pgfId-532573"></a>Developers also can generate IL and ISA code from their OpenCL kernel<a name="50401315_marker-514376"></a> by setting the environment variable <em class="filename"> AMD_OCL_BUILD_OPTIONS_APPEND=-save-temps </em> (see See AMD-Developed Supplemental Compiler Options).</p>
</div>
</div>
<div>
<h6 class="head1"><a name="50401315_pgfId-495738"></a>Estimating Performance</h6>
<div>
<h6 class="head2"><a name="50401315_pgfId-446474"></a>Measuring Execution Time</h6>
<p class="paragraph"><a name="50401315_pgfId-446475"></a>The OpenCL runtime<a name="50401315_marker-490730"></a> provides a built-in mechanism for timing the execution of kernels<a name="50401315_marker-533394"></a> by setting the <em class="filename"> CL_QUEUE_PROFILING_ENABLE</em> flag<a name="50401315_marker-491820"></a> when the queue is created. Once profiling is enabled, the OpenCL runtime automatically records timestamp information<a name="50401315_marker-490731"></a> for every kernel and memory operation submitted to the queue.</p>
<p class="paragraph"><a name="50401315_pgfId-451330"></a>OpenCL provides four <a name="50401315_marker-533395"></a>timestamps:</p>
<ul>
<li class="FM1bullet"><a name="50401315_pgfId-451331"></a><em class="filename"> CL_PROFILING_COMMAND_QUEUED</em> <a name="50401315_marker-490733"></a> – Indicates when the command is enqueued into a command-queue on the host. This is set by the OpenCL runtime when the user calls an <em class="filename"> clEnqueue*</em> function.</li>
<li class="FM1bullet"><a name="50401315_pgfId-451231"></a><em class="filename"> CL_PROFILING_COMMAND_SUBMIT</em> <a name="50401315_marker-490736"></a> – Indicates when the command is submitted to the device. For AMD GPU devices, this time is only approximately defined and is not detailed in this section.</li>
<li class="FM1bullet"><a name="50401315_pgfId-451232"></a><em class="filename"> CL_PROFILING_COMMAND_START</em> <a name="50401315_marker-490741"></a> – Indicates when the command starts execution on the requested device.</li>
<li class="FM1bullet"><a name="50401315_pgfId-451233"></a><em class="filename"> CL_PROFILING_COMMAND_END</em> <a name="50401315_marker-490746"></a> – Indicates when the command finishes execution on the requested device.</li>
</ul>
<p class="paragraph"><a name="50401315_pgfId-451409"></a>The sample code below shows how to compute the kernel execution time<a name="50401315_marker-490732"></a> (End-Start):</p>
<p class="code"><a name="50401315_pgfId-446477"></a> cl_event myEvent;</p>
<p class="code"><a name="50401315_pgfId-446478"></a> cl_ulong startTime, endTime;</p>
<p class="code"><a name="50401315_pgfId-446479"></a></p>
<p class="code"><a name="50401315_pgfId-446480"></a> clCreateCommandQueue (…, CL_QUEUE_PROFILING_ENABLE, NULL);</p>
<p class="code"><a name="50401315_pgfId-446481"></a> clEnqueueNDRangeKernel(…, &amp;myEvent);</p>
<p class="code"><a name="50401315_pgfId-446482"></a> clFinish(myCommandQ); // wait for all events to finish</p>
<p class="code"><a name="50401315_pgfId-446483"></a></p>
<p class="code"><a name="50401315_pgfId-446484"></a> clGetEventProfilingInfo(myEvent, CL_PROFILING_COMMAND_START,<br>
sizeof(cl_ulong), &amp;startTime, NULL);</p>
<p class="code"><a name="50401315_pgfId-446485"></a> clGetEventProfilingInfo(myEvent, CL_PROFILING_COMMAND_END,<br>
sizeof(cl_ulong), &amp;endTimeNs, NULL);</p>
<p class="code"><a name="50401315_pgfId-446486"></a> cl_ulong kernelExecTimeNs = endTime-startTime;</p>
<p class="code"><a name="50401315_pgfId-446487"></a></p>
<p class="paragraph"><a name="50401315_pgfId-451675"></a>The CodeXL GPU Profiler also can record the execution time for a kernel automatically<a name="50401315_marker-490758"></a>. The Kernel Time metric<a name="50401315_marker-490762"></a> reported in the Profiler output uses the built-in OpenCL timing capability<a name="50401315_marker-490780"></a> and reports the same result as the <em class="filename"> kernelExecTimeNs</em> calculation shown above.</p>
<p class="paragraph"><a name="50401315_pgfId-451443"></a>Another interesting metric to track is the kernel launch time<a name="50401315_marker-490781"></a> (Start – Queue). The kernel launch time includes both the time spent in the user application (after enqueuing the command, but before it is submitted to the device), as well as the time spent in the runtime to launch the kernel. For CPU devices, the kernel<a name="50401315_marker-514558"></a> launch time is fast (tens of <em class="symbol"> μ</em> s), but for discrete GPU devices<a name="50401315_marker-514559"></a> it can be several hundred <em class="symbol"> μ</em> s. Enabling profiling on a command queue adds approximately 10 <em class="symbol"> μ</em> s to 40 <em class="symbol"> μ</em> s overhead to all clEnqueue calls. Much of the profiling overhead affects the start time; thus, it is visible in the launch time. Be careful when interpreting this metric. To reduce the <a name="50401315_marker-533396"></a>launch overhead, the AMD OpenCL<a name="50401315_marker-514562"></a> runtime combines several command submissions into a batch. Commands submitted as batch report similar start times and the same end time.</p>
<p class="paragraph"><a name="50401315_pgfId-534748"></a>Measure performance of your test with CPU counters. Do not use OCL profiling. To determine if an application is executed asynchonically, build a dependent execution with OCL events. This is a “generic” solution; however, there is an exception when you can enable profiling and have overlap transfers. DRMDMA engines do not support timestamps (“GPU counters”). To get OCL profiling data, the runtime must synchronize the main command processor (CP) with the DMA engine; this disables overlap. Note, however, that Southern Islands has two independent main CPs and runtime pairs them with DMA engines. So, the application can still execute kernels on one CP, while another is synced with a DRM engine for profiling; this lets you profile it with APP or OCL profiling.</p>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-451445"></a>Using the OpenCL timer with Other System Timers<a name="50401315_marker-490782"></a></h6>
<p class="paragraph"><a name="50401315_pgfId-451446"></a>The resolution of the <a name="50401315_marker-533397"></a>timer, given in ns, can be obtained from:</p>
<p class="code"><a name="50401315_pgfId-451447"></a>clGetDeviceInfo(…,CL_DEVICE_PROFILING_TIMER_RESOLUTION…);</p>
<p class="code"><a name="50401315_pgfId-451617"></a></p>
<p class="paragraph"><a name="50401315_pgfId-451448"></a>AMD CPUs and GPUs report a timer resolution of 1 ns. AMD OpenCL devices are required to correctly track time<a name="50401315_marker-514564"></a> across changes in frequency and power states. Also, the AMD OpenCL SDK uses the same time-domain for all devices in the platform; thus, the profiling timestamps can be directly compared across the CPU and GPU devices.</p>
<p class="paragraph"><a name="50401315_pgfId-451452"></a>The sample code below can be used to read the current value of the OpenCL timer clock. The clock is the same routine used by the AMD OpenCL runtime to generate the profiling timestamps<a name="50401315_marker-514565"></a>. This function is useful for correlating other program events with the OpenCL profiling timestamps.<a name="50401315_marker-490783"></a></p>
<p class="code"><a name="50401315_pgfId-451454"></a>uint64_t</p>
<p class="code"><a name="50401315_pgfId-451455"></a>timeNanos()</p>
<p class="code"><a name="50401315_pgfId-451456"></a>{</p>
<p class="code"><a name="50401315_pgfId-451457"></a>#ifdef linux</p>
<p class="code"><a name="50401315_pgfId-451458"></a> struct timespec tp;</p>
<p class="code"><a name="50401315_pgfId-451459"></a> clock_gettime(CLOCK_MONOTONIC, &amp;tp);</p>
<p class="code"><a name="50401315_pgfId-451460"></a> return (unsigned long long) tp.tv_sec * (1000ULL * 1000ULL * 1000ULL) +</p>
<p class="code"><a name="50401315_pgfId-451461"></a> (unsigned long long) tp.tv_nsec;</p>
<p class="code"><a name="50401315_pgfId-451462"></a>#else</p>
<p class="code"><a name="50401315_pgfId-451463"></a> LARGE_INTEGER current;</p>
<p class="code"><a name="50401315_pgfId-451464"></a> QueryPerformanceCounter(&amp;current);</p>
<p class="code"><a name="50401315_pgfId-451465"></a> return (unsigned long long)((double)current.QuadPart / m_ticksPerSec * 1e9);</p>
<p class="code"><a name="50401315_pgfId-451466"></a>#endif</p>
<p class="code"><a name="50401315_pgfId-451467"></a>}</p>
<p class="paragraph"><a name="50401315_pgfId-451792"></a>Normal CPU time-of-day routines can provide a rough measure of the elapsed time of a GPU kernel. GPU kernel execution is non-blocking<a name="50401315_marker-490784"></a>, that is, calls to <em class="filename"> enqueue*Kernel</em> return to the CPU before the work on the GPU is finished. For an accurate time value, ensure that the GPU is finished. In OpenCL, you can force the CPU to wait for the GPU to become idle by inserting calls<a name="50401315_marker-491830"></a> to <em class="filename"> clFinish()</em> before and after the sequence you want to time; this increases the timing accuracy of the CPU routines. The routine <em class="filename"> clFinish()</em> blocks<a name="50401315_marker-491831"></a> the CPU until all previously enqueued OpenCL commands have finished.</p>
<p class="paragraph"><a name="50401315_pgfId-451473"></a>For more information, see section 5.9, “Profiling Operations on Memory Objects and Kernels,” of the OpenCL 1.0 Specification.</p>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-446494"></a>Estimating Memory Bandwidth</h6>
<p class="paragraph"><a name="50401315_pgfId-446495"></a>The <a name="50401315_marker-533398"></a>memory bandwidth required by a kernel<a name="50401315_marker-490785"></a> is perhaps the most important performance consideration. To calculate<a name="50401315_marker-491833"></a> this:</p>
<p class="paragraph"><a name="50401315_pgfId-446496"></a>Effective Bandwidth = (Br + Bw)/T</p>
<p class="paragraph"><a name="50401315_pgfId-446497"></a>where:<br>
Br = total number of bytes read from global memory.<br>
Bw = total number of bytes written to global memory.<br>
T = time required to run kernel, specified in nanoseconds.</p>
<p class="paragraph"><a name="50401315_pgfId-446498"></a>If B<em class="subscript"> r</em> and B<em class="subscript"> w</em> are specified in bytes, and T in ns, the resulting effective bandwidth is measured in GB/s, which is appropriate for current CPUs and GPUs for which the peak bandwidth range<a name="50401315_marker-514576"></a> is 20-260 GB/s. Computing B<em class="subscript"> r</em> and B<em class="subscript"> w</em> requires a thorough understanding of the kernel algorithm; it also can be a highly effective way to optimize performance. For illustration purposes, consider a simple matrix addition: each element in the two source arrays is read once, added together, then stored to a third array. The effective bandwidth for a 1024×1024 matrix addition is calculated as:</p>
<p class="paragraph"><a name="50401315_pgfId-446499"></a>B<em class="subscript"> r</em> = 2 x (1024 x 1024 x 4 bytes) = 8388608 bytes ;; 2 arrays, 1024×1024, each<br>
element 4-byte float</p>
<p class="paragraph"><a name="50401315_pgfId-446500"></a>B<em class="subscript"> w</em> = 1 x (1024 x 1024 x 4 bytes) = 4194304 bytes ;; 1 array, 1024×1024, each<br>
element 4-byte float.</p>
<p class="paragraph"><a name="50401315_pgfId-446501"></a>If the elapsed time for this copy as reported by the profiling timers is 1000000 ns (1 million ns, or .001 sec), the effective bandwidth is:</p>
<p class="paragraph"><a name="50401315_pgfId-446502"></a>(Br+Bw)/T = (8388608+4194304)/1000000 = 12.6GB/s</p>
<p class="paragraph"><a name="50401315_pgfId-446503"></a>The CodeXL GPU Profiler can report the number of dynamic instructions per thread that access global memory through the FetchInsts and WriteInsts counters<a name="50401315_marker-490786"></a>.<a name="50401315_marker-490787"></a><a name="50401315_marker-490788"></a> The Fetch and Write reports average the per-thread counts; these can be fractions if the threads diverge. The Profiler also reports the dimensions of the global NDRange for the kernel in the <em class="filename"> GlobalWorkSize</em> field<a name="50401315_marker-491836"></a>. The total number of threads can be determined by multiplying together the three components of the range. If all (or most) global accesses are the same size, the counts from the Profiler and the approximate size can be used to estimate Br and Bw:</p>
<p class="paragraph"><a name="50401315_pgfId-446504"></a>Br = Fetch * GlobalWorkitems * Size</p>
<p class="paragraph"><a name="50401315_pgfId-446505"></a>Bw = Write * GlobalWorkitems * Element Size</p>
<p class="paragraph"><a name="50401315_pgfId-517087"></a>where GlobalWorkitems is the dispatch size.</p>
<p class="paragraph"><a name="50401315_pgfId-448408"></a>An example Profiler output and bandwidth calculation<a name="50401315_marker-490789"></a>:</p>
<table>
<tbody>
<tr>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-448482"></a>Method</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-448484"></a> GlobalWorkSize</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-448486"></a> Time</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-448488"></a> Fetch</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-448490"></a> Write</p>
</th>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-448492"></a>runKernel_Cypress</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-448494"></a> {192; 144; 1}</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-448496"></a>0.9522</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-448498"></a>70.8</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-448500"></a>0.5</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401315_pgfId-448411"></a>WaveFrontSize = 192*144*1 = 27648 global work items.</p>
<p class="paragraph"><a name="50401315_pgfId-448412"></a>In this example, assume we know that all accesses in the kernel are four bytes; then, the bandwidth can be calculated as:</p>
<p class="paragraph"><a name="50401315_pgfId-448413"></a> Br = 70.8 * 27648 * 4 = 7829914 bytes</p>
<p class="paragraph"><a name="50401315_pgfId-448414"></a> Bw = 0.5 * 27648 * 4 = 55296 bytes</p>
<p class="paragraph"><a name="50401315_pgfId-465955"></a>The bandwidth then can be calculated as:</p>
<p class="paragraph"><a name="50401315_pgfId-465956"></a> (Br + Bw)/T = (7829914 bytes + 55296 bytes) / .9522 ms / 1000000<br>
= 8.2 GB/s</p>
</div>
</div>
<div>
<h6 class="head1"><a name="50401315_pgfId-495909"></a><a name="50401315_69337"></a>OpenCL Memory Objects</h6>
<p class="paragraph"><a name="50401315_pgfId-502560"></a>This section explains the AMD OpenCL runtime policy for memory objects<a name="50401315_marker-514578"></a>. It also recommends best practices for best performance.<a name="50401315_marker-514581"></a></p>
<p class="paragraph"><a name="50401315_pgfId-502588"></a>OpenCL uses memory objects to pass data to kernels<a name="50401315_marker-514588"></a>. These can be either buffers or images. Space for these is managed by the runtime, which uses several types of memory, each with different performance characteristics. Each type of memory is suitable for a different usage pattern. The following subsections describe:</p>
<ul>
<li class="FM1bullet"><a name="50401315_pgfId-502771"></a>the memory types used by the runtime;</li>
<li class="FM1bullet"><a name="50401315_pgfId-502775"></a>how to control which memory kind is used for a memory object;</li>
<li class="FM1bullet"><a name="50401315_pgfId-502776"></a>how the runtime maps memory objects for host access;</li>
<li class="FM1bullet"><a name="50401315_pgfId-502805"></a>how the runtime performs memory object reading, writing and copying;</li>
<li class="FM1bullet"><a name="50401315_pgfId-502806"></a>how best to use command queues; and</li>
<li class="FM1bullet"><a name="50401315_pgfId-502807"></a>some recommended usage patterns.</li>
</ul>
<div>
<h6 class="head2"><a name="50401315_pgfId-502813"></a>Types of Memory Used by the Runtime</h6>
<p class="paragraph"><a name="50401315_pgfId-532543"></a><a name="50401315_marker-532542"></a>Memory is used to store memory objects that are accessed by kernels executing on the device, as well as to hold memory object data when they are mapped for access by the host application. This section describes the different memory kinds used by the runtime. <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_77912">See Memory Bandwidth in GB/s (R = read, W = write) in GB/s</a> lists the performance of each memory type given a PCIe3-capable platform and a high-end AMD Radeon<em class="superscript"> </em> 7XXX discrete GPU. In <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_77912">See Memory Bandwidth in GB/s (R = read, W = write) in GB/s</a>, when host memory is accessed by the GPU shader, it is of type <em class="filename"> CL_MEM_ALLOC_HOST_PTR</em> . When GPU memory is accessed by the CPU, it is of type <em class="filename"> CL_MEM_PERSISTENT_MEM_AMD</em> .</p>
<div>
<h6 class="table"><a name="50401315_pgfId-532476"></a><a name="50401315_77912"></a>Memory <a name="50401315_marker-532432"></a>Bandwidth in GB/s (R = read, W = write) in GB/s</h6>
<table border="1">
<caption>
<h6 class="TableTitle"><a name="50401315_pgfId-544501"></a></h6>
</caption>
<tbody>
<tr>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-532435"></a></p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-532437"></a>CPU R</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-532439"></a>GPU W</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-532441"></a>GPU Shader R</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-532443"></a>GPU Shader W</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-532445"></a>GPU DMA R</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-532447"></a>GPU DMA W</p>
</th>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532449"></a>Host Memory</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532451"></a>10 – 20</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532453"></a>10 – 20</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532455"></a>9 – 10</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532457"></a>2.5</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532459"></a>11 – 12</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532461"></a>11 – 12</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532463"></a>GPU Memory</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532465"></a>.01</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532467"></a>9 – 10</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532469"></a>230</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532471"></a>120 -150</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532473"></a>n/a</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532475"></a>n/a</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401315_pgfId-532477"></a>Host memory and device memory in the above table consists of one of the subtypes given below.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div>
<h2 class="head3"><a name="50401315_pgfId-532479"></a><a name="50401315_92101"></a>Host Memory</h2>
<p class="paragraph"><a name="50401315_pgfId-502908"></a>This regular CPU memory can be access by the CPU at full memory bandwidth; however, it is not directly accessible by the GPU. For the GPU<a name="50401315_marker-514597"></a> to transfer host memory to device memory (for example, as a parameter to <em class="filename"> clEnqueueReadBuffer</em> or <em class="filename"> clEnqueueWriteBuffer</em> ), it first must be pinned (see section <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_13895">See Pinned Host Memory</a>). Pinning<a name="50401315_marker-514598"></a> takes time, so avoid incurring pinning costs where CPU overhead must be avoided.</p>
<p class="paragraph"><a name="50401315_pgfId-502956"></a>When host memory is copied to device memory, the OpenCL runtime uses the following transfer methods.<a name="50401315_marker-514599"></a></p>
<ul>
<li class="FM1bullet"><a name="50401315_pgfId-502957"></a>&lt;=32 kB: For transfers from the host to device, the data is copied by the CPU to a runtime pinned host memory buffer, and the DMA engine<a name="50401315_marker-514600"></a> transfers the data to device memory. The opposite is done for transfers from the device to the host.<a name="50401315_marker-514614"></a></li>
<li class="FM1bullet"><a name="50401315_pgfId-502958"></a>&gt;32 kB and &lt;=16 MB: The host memory physical pages containing the data are pinned<a name="50401315_marker-514601"></a>, the GPU DMA engine is used, and the pages then are unpinned.<a name="50401315_marker-514620"></a></li>
<li class="FM1bullet"><a name="50401315_pgfId-502959"></a>&gt;16 MB: Runtime<a name="50401315_marker-514626"></a> pins host memory in stages of 16 MB blocks and transfer data to the device using the GPU DMA engine. Double buffering for pinning is used to overlap the pinning cost of each 16 MB block with the DMA transfer.<a name="50401315_marker-514604"></a></li>
</ul>
<p class="paragraph"><a name="50401315_pgfId-502960"></a>Due to the cost of copying to <a name="50401315_marker-533400"></a>staging buffers, or pinning/unpinning <a name="50401315_marker-533401"></a>host memory, host memory does not offer the best transfer performance.</p>
</div>
<div>
<h2 class="head3"><a name="50401315_pgfId-502946"></a><a name="50401315_13895"></a>Pinned Host Memory</h2>
<p class="paragraph"><a name="50401315_pgfId-502995"></a><a name="50401315_marker-514631"></a>This is host memory that the operating system has bound to a fixed physical address and that the operating system ensures is resident. The CPU can access<a name="50401315_marker-514633"></a> pinned host memory at full memory bandwidth. The runtime<a name="50401315_marker-514634"></a> limits the total amount of pinned host memory that can be used for memory objects. (See <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_44899">See Placement</a>, for information about pinning memory.</p>
<p class="Body"><a name="50401315_pgfId-503214"></a>If the runtime<a name="50401315_marker-514635"></a> knows the data is in pinned host memory, it can be transferred to, and from, device memory<a name="50401315_marker-514643"></a> without requiring staging buffers or having to perform pinning/unpinning on each transfer. This offers improved transfer performance.<a name="50401315_marker-514644"></a></p>
<p class="paragraph"><a name="50401315_pgfId-503001"></a>Currently, the runtime<a name="50401315_marker-514645"></a> recognizes only data that is in pinned host memory for operation arguments<a name="50401315_marker-514648"></a> that are memory objects it has allocated in pinned host memory. For example, the <em class="filename"> buffer</em> argument<a name="50401315_marker-514651"></a> of <em class="filename"> clEnqueueReadBuffer</em> /<em class="filename"> clEnqueueWriteBuffer</em> and <em class="filename"> image</em> argument<a name="50401315_marker-514664"></a> of <em class="filename"> clEnqueueReadImage</em> /<em class="filename"> clEnqueueWriteImage</em> . It does not detect that the ptr arguments<a name="50401315_marker-514678"></a> of these operations addresses pinned host memory, even if they are the result of <em class="filename"> clEnqueueMapBuffer</em> /<em class="filename"> clEnqueueMapImage</em> on a memory object that is in pinned host memory.</p>
<p class="paragraph"><a name="50401315_pgfId-503173"></a>The runtime can make <a name="50401315_marker-533404"></a>pinned host memory directly accessible from the GPU. Like regular host memory, the CPU uses caching when accessing pinned host memory<a name="50401315_marker-514679"></a>. Thus, GPU accesses must use the CPU cache coherency protocol when accessing. For discrete devices, the GPU access to this memory is through the PCIe bus<a name="50401315_marker-514680"></a>, which also limits bandwidth. For APU devices<a name="50401315_marker-514681"></a> that do not have the PCIe overhead, GPU access is significantly slower than accessing device-visible host memory (see section <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_61103">See Device-Visible Host Memory</a>), which does not use the cache coherency protocol.</p>
</div>
<div>
<h2 class="head3"><a name="50401315_pgfId-503174"></a><a name="50401315_61103"></a>Device-Visible Host Memory</h2>
<p class="paragraph"><a name="50401315_pgfId-533420"></a><a name="50401315_marker-533419"></a>The runtime allocates a limited amount of pinned host memory that is accessible by the GPU without using the CPU <a name="50401315_marker-533435"></a>cache coherency protocol. This allows the GPU to access the memory at a higher bandwidth than regular pinned host memory.</p>
<p class="paragraph"><a name="50401315_pgfId-503289"></a>A portion of this memory is also configured to be accessible by the CPU<a name="50401315_marker-514816"></a> as uncached memory. Thus, reads by the CPU are significantly slower than those from regular host memory. However, these pages are also configured to use the memory system write combining buffers. The size, alignment, and number of write combining buffers<a name="50401315_marker-514817"></a> is chip-set dependent. Typically, there are 4 to 8 buffers of 64 bytes, each aligned to start on a 64-byte memory address. These allow writes to adjacent memory locations to be combined into a single memory access. This allows CPU streaming writes to perform reasonably well<a name="50401315_marker-514818"></a>. Scattered writes that do not fill the write combining buffers before they have to be flushed do not perform as well.</p>
<p class="paragraph"><a name="50401315_pgfId-503298"></a>APU devices<a name="50401315_marker-514819"></a> have no device memory and use device-visible host memory for their global device memory.</p>
</div>
<div>
<h2 class="head3"><a name="50401315_pgfId-503307"></a>Device Memory</h2>
<p class="paragraph"><a name="50401315_pgfId-525143"></a><a name="50401315_marker-525142"></a>Discrete GPU devices have their own dedicated memory, which provides the highest bandwidth for GPU access. The CPU cannot directly access device memory on a discrete GPU (except for the host-visible device memory portion described in section <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_52212">See Host-Visible Device Memory</a>).</p>
<p class="paragraph"><a name="50401315_pgfId-525165"></a>On an APU, the system memory is shared between the GPU and the CPU; it is visible by either the CPU or the GPU at any given time. A significant benefit of this is that buffers can be zero copied between the devices by using map/unmap operations to logically move the buffer between the CPU and the GPU address space. (Note that in the system BIOS at boot time, it is possible to allocate the size of the frame buffer. This section of memory is divided into two parts, one of which is invisible to the CPU. Thus, not all system memory supports zero copy. See <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_24683">See OpenCL Memory Object Properties</a>, specifically the Default row.) See <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_84727">See Mapping</a>, for more information on zero copy.</p>
</div>
<div>
<h2 class="head3"><a name="50401315_pgfId-503175"></a><a name="50401315_52212"></a>Host-Visible Device Memory</h2>
<p class="paragraph"><a name="50401315_pgfId-504929"></a>A limited portion of discrete GPU device memory<a name="50401315_marker-514822"></a> is configured to be directly accessible by the CPU. It can be accessed by the GPU at full bandwidth, but CPU access is over the <a name="50401315_marker-533436"></a>PCIe bus; thus, it is much slower that host memory bandwidth. The memory is mapped into the CPU<a name="50401315_marker-514823"></a> address space as uncached, but using the memory system write combining buffers. This results in slow CPU reads and scattered writes, but streaming CPU writes perform much better because they reduce PCIe overhead.</p>
<div>
<h6 class="head2"><a name="50401315_pgfId-503627"></a><a name="50401315_44899"></a>Placement</h6>
<p class="paragraph"><a name="50401315_pgfId-503636"></a>Every OpenCL memory object has a location that is defined by the flags<a name="50401315_marker-514826"></a> passed to <em class="filename"> clCreateBuffer</em> /<em class="filename"> clCreateImage</em> . A memory object can be located either on a device, or (as of SDK 2.4) it can be located on the host and accessed directly by all the devices. The Location column of <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_24683">See OpenCL Memory Object Properties</a> gives the memory type used for each of the allocation flag values for different kinds of devices. When a device kernel is executed, it accesses the contents of memory objects from this location. The performance of these accesses is determined by the memory kind used.</p>
<p class="paragraph"><a name="50401315_pgfId-503752"></a>An OpenCL context can have multiple devices, and a memory object that is located on a device has a location on each device. To avoid <a name="50401315_marker-514827"></a>over-allocating device memory for memory objects that are never used on that device, space is not allocated until first used on a device-by-device basis. For this reason, the first use of a <a name="50401315_marker-533437"></a>memory object after it is created can be slower than subsequent uses.</p>
<div>
<h6 class="table"><a name="50401315_pgfId-503657"></a><a name="50401315_24683"></a>OpenCL Memory Object <a name="50401315_marker-514683"></a>Properties</h6>
<table border="1">
<caption>
<h6 class="TableTitle"><a name="50401315_pgfId-544515"></a></h6>
</caption>
<tbody>
<tr>
<th colspan="1" rowspan="2">
<p class="tablehead"><a name="50401315_pgfId-509287"></a>clCreateBuffer/<br>
clCreateImage Flags Argument</p>
</th>
<th colspan="1" rowspan="2">
<p class="tablehead"><a name="50401315_pgfId-509289"></a>Device Type</p>
</th>
<th colspan="1" rowspan="2">
<p class="tablehead"><a name="50401315_pgfId-509291"></a>Location</p>
</th>
<th colspan="2" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-509293"></a>clEnqueueMapBuffer/<br>
clEnqueueMapImage/<br>
clEnqueueUnmapMemObject</p>
</th>
</tr>
<tr>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-509303"></a>Map Mode</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-509305"></a>Map Location</p>
</th>
</tr>
<tr>
<td colspan="1" rowspan="3">
<p class="tablebody1"><a name="50401315_pgfId-509307"></a>Default</p>
<p class="tablebody1"><a name="50401315_pgfId-509382"></a>(none of the following flags)</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-509309"></a>Discrete GPU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-509311"></a>Device memory</p>
</td>
<td colspan="1" rowspan="2">
<p class="tablebody1"><a name="50401315_pgfId-509313"></a>Copy</p>
</td>
<td colspan="1" rowspan="3">
<p class="tablebody1"><a name="50401315_pgfId-509315"></a>Host memory (different memory area can be used on each map).</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-509418"></a>APU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-509420"></a>Device-visible host memory</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-509428"></a>CPU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-509430"></a>Use Map Location directly</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-509432"></a>Zero copy</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="3">
<p class="tablebody1"><a name="50401315_pgfId-509436"></a><em class="filename"> CL_MEM_ALLOC_HOST_PTR</em> ,<br>
<em class="filename"> CL_MEM_USE_HOST_PTR<br>
</em> (<em class="filename"> clCreateBuffer</em> when VM is enabled)</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-510101"></a>Discrete GPU</p>
</td>
<td colspan="1" rowspan="3">
<p class="tablebody1"><a name="50401315_pgfId-509440"></a>Pinned host memory shared by all devices in context (unless only device in context is CPU; then, host memory)</p>
</td>
<td colspan="1" rowspan="3">
<p class="tablebody1"><a name="50401315_pgfId-509442"></a>Zero copy</p>
</td>
<td colspan="1" rowspan="3">
<p class="tablebody1"><a name="50401315_pgfId-509444"></a>Use Location directly (same memory area is used on each map).</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-510103"></a>APU</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-510105"></a>CPU</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="3">
<p class="tablebody1"><a name="50401315_pgfId-510391"></a><em class="filename"> CL_MEM_ALLOC_HOST_PTR</em> ,<br>
<em class="filename"> CL_MEM_USE_HOST_PTR<br>
</em></p>
<p class="tablebody1"><a name="50401315_pgfId-509466"></a>(for <em class="filename"> clCreateImage</em> and <em class="filename"> clCreateBuffer</em> without VM)</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-510109"></a>Discrete GPU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-509470"></a>Device memory</p>
</td>
<td colspan="1" rowspan="2">
<p class="tablebody1"><a name="50401315_pgfId-509472"></a>Copy</p>
</td>
<td colspan="1" rowspan="3">
<p class="tablebody1"><a name="50401315_pgfId-509474"></a>Pinned host memory, unless only device in context is CPU; then, host memory (same memory area is used on each map).</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-510111"></a>APU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-509321"></a>Device-visible memory</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-510113"></a>CPU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-509331"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-509333"></a>Zero copy</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="3">
<p class="tablebody1"><a name="50401315_pgfId-510462"></a><em class="filename"> CL_MEM_USE_PERSISTENT_MEM_AMD</em></p>
<p class="tablebody1"><a name="50401315_pgfId-510117"></a>(when VM is enabled)</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-510339"></a>Discrete GPU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-510121"></a>Host-visible device memory</p>
</td>
<td colspan="1" rowspan="3">
<p class="tablebody1"><a name="50401315_pgfId-510123"></a>Zero copy</p>
</td>
<td colspan="1" rowspan="3">
<p class="tablebody1"><a name="50401315_pgfId-510125"></a>Use Location directly (different memory area can be used on each map).</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-510341"></a>APU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-509341"></a>Host-visible device memory</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-510438"></a>CPU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-510440"></a>Host memory</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-510482"></a><em class="filename"> CL_MEM_USE_PERSISTENT_MEM_AMD</em></p>
<p class="tablebody1"><a name="50401315_pgfId-509347"></a>(when VM is not enabled)</p>
</td>
<td colspan="4" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-510343"></a>Same as default.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-503571"></a>Memory Allocation</h6>
</div>
</div>
<div>
<h2 class="head3"><a name="50401315_pgfId-520796"></a><a name="50401315_96567"></a>Using the CPU</h2>
<p class="paragraph"><a name="50401315_pgfId-520797"></a>Create <a name="50401315_marker-533439"></a>memory objects with <em class="filename"> CL_MEM_ALLOC_HOST_PTR</em> , and use <em class="filename"> map</em> /<em class="filename"> unmap</em> ; do not use <em class="filename"> read</em> /<em class="filename"> write</em> . The reason for this is that if the object is created with <em class="filename"> CL_MEM_USE_HOST_PTR</em> the CPU is running the kernel on the buffer provided by the application (a hack that all vendors use). This results in <a name="50401315_marker-533440"></a>zero copy between the CPU and the application buffer; the kernel updates the application buffer, and in this case a <em class="filename"> map</em> /<em class="filename"> unmap</em> is actually a no-op. Also, when allocating the buffer on the host, ensure that it is created with the correct alignment. For example, a buffer to be used as float4* must be 128-bit aligned.</p>
</div>
<div>
<h2 class="head3"><a name="50401315_pgfId-520798"></a>Using Both CPU and GPU Devices, or using an APU Device</h2>
<p class="paragraph"><a name="50401315_pgfId-520799"></a>When creating memory objects, create them with <em class="filename"> CL_MEM_USE_PERSISTENT_MEM_AMD</em> . This enables the <a name="50401315_marker-533438"></a>zero copy feature, as explained in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_96567">See Using the CPU</a>.</p>
</div>
<div>
<h2 class="head3"><a name="50401315_pgfId-520800"></a>Buffers vs Images</h2>
<p class="paragraph"><a name="50401315_pgfId-520801"></a>Unlike GPUs, CPUs do not contain dedicated hardware (samplers) for accessing images. Instead, image access is emulated in software. Thus, a developer may prefer using buffers instead of images if no sampling operation is needed.</p>
</div>
<div>
<h2 class="head3"><a name="50401315_pgfId-521010"></a>Choosing Execution Dimensions</h2>
<p class="paragraph"><a name="50401315_pgfId-521042"></a>Note the following <a name="50401315_marker-533441"></a>guidelines.</p>
<ul>
<li class="FM1bullet"><a name="50401315_pgfId-521011"></a>Make the number of work-groups a multiple of the number of logical CPU cores (device compute units) for maximum use.</li>
<li class="FM1bullet"><a name="50401315_pgfId-521012"></a>When work-groups number exceed the number of CPU cores, the CPU cores execute the work-groups sequentially.</li>
</ul>
<div>
<h6 class="head2"><a name="50401315_pgfId-520762"></a><a name="50401315_84727"></a>Mapping</h6>
<p class="paragraph"><a name="50401315_pgfId-503787"></a>The host application<a name="50401315_marker-514684"></a> can use <em class="filename"> clEnqueueMapBuffer</em> /<em class="filename"> clEnqueueMapImage</em> to obtain a pointer that can be used to access the memory object data<a name="50401315_marker-514685"></a>. When finished accessing, <em class="filename"> clEnqueueUnmapMemObject</em> must be used to make the data available to device kernel access<a name="50401315_marker-514686"></a>. When a memory object<a name="50401315_marker-514687"></a> is located on a device, the data either can be transferred to, and from, the host, or (as of SDK 2.4) be accessed directly from the host<a name="50401315_marker-514690"></a>. Memory objects that are located on the host, or located on the device but accessed directly by the host, are termed zero copy memory objects<a name="50401315_marker-514705"></a>. The data is never transferred, but is accessed directly by both the host and device. Memory objects that are located on the device and transferred to, and from, the device when mapped and unmapped are termed copy memory objects<a name="50401315_marker-514706"></a>. The Map Mode column of <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_24683">See OpenCL Memory Object Properties</a> specifies the transfer mode used for each kind of memory object, and the Map Location column indicates the kind of memory referenced by the pointer returned by the map operations.</p>
</div>
</div>
<div>
<h2 class="head3"><a name="50401315_pgfId-503784"></a>Zero Copy Memory Objects</h2>
<p class="paragraph"><a name="50401315_pgfId-531701"></a><em class="filename"> CL_MEM_USE_PERSISTENT_MEM_AMD</em> , <em class="filename"> CL_MEM_USE_HOST_PTR</em> , and <em class="filename"> CL_MEM_ALLOC_HOST_PTR</em> support zero copy memory objects<a name="50401315_marker-531702"></a>. The first provides device-resident zero copy memory objects; the other two provide host-resident zero copy memory objects.</p>
<p class="paragraph"><a name="50401315_pgfId-531703"></a>Zero copy memory objects can be used by an application to optimize data movement<a name="50401315_marker-531704"></a>. When <em class="filename"> clEnqueueMapBuffer</em> / <em class="filename"> clEnqueueMapImage</em> / <em class="filename"> clEnqueueUnmapMemObject</em> are used, no runtime transfers are performed, and the operations are very fast; however, the runtime can return a different pointer value each time a zero copy memory object is mapped.<a name="50401315_marker-531705"></a> Note that only images created with <em class="filename"> CL_MEM_USE_PERSISTENT_MEM_AMD</em> can be zero copy.</p>
<p class="paragraph"><a name="50401315_pgfId-531942"></a>From Southern Island on, devices support <a name="50401315_marker-533444"></a>zero copy memory objects under Linux; however, only images created with <em class="filename"> CL_MEM_USE_PERSISTENT_MEM_AMD</em> can be zero copy.</p>
<p class="paragraph"><a name="50401315_pgfId-504049"></a><a name="50401315_marker-533446"></a>Zero copy host resident memory objects<a name="50401315_marker-514710"></a> can boost performance when host memory is accessed by the device in a sparse manner or when a large host memory buffer is shared between multiple devices and the copies are too expensive. When choosing this, the cost of the transfer must be greater than the extra cost of the slower accesses.</p>
<p class="paragraph"><a name="50401315_pgfId-504065"></a>Streaming writes by the host to zero copy device resident memory objects are about as fast as the transfer rates, so this can be a good choice when the host does not read the memory object to avoid the host having to make a copy of the data to transfer. Memory objects requiring partial updates between kernel executions can also benefit. If the contents of the memory object must be read by the host, use <em class="filename"> clEnqueueCopyBuffer</em> to transfer the data to a separate <em class="filename"> CL_MEM_ALLOC_HOST_PTR</em> buffer.</p>
</div>
<div>
<h2 class="head3"><a name="50401315_pgfId-504154"></a>Copy Memory Objects</h2>
<p class="paragraph"><a name="50401315_pgfId-504155"></a>For memory objects with copy map mode<a name="50401315_marker-514713"></a>, the memory object location is on the device, and it is transferred to, and from, the host when <em class="filename"> clEnqueueMapBuffer</em> / <em class="filename"> clEnqueueMapImage</em> / <em class="filename"> clEnqueueUnmapMemObject</em> are called. <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_49190">See Transfer policy on clEnqueueMapBuffer / clEnqueueMapImage / clEnqueueUnmapMemObject for Copy Memory Objects</a> shows how the <em class="filename"> map_flags</em> argument<a name="50401315_marker-514714"></a> affects transfers. The runtime transfers<a name="50401315_marker-514715"></a> only the portion of the memory object requested in the <em class="filename"> offset</em> and <em class="filename"> cb</em> arguments<a name="50401315_marker-514716"></a>. When accessing only a portion of a memory object, only map that portion for improved performance.</p>
<div>
<h6 class="table"><a name="50401315_pgfId-504162"></a><a name="50401315_49190"></a>Transfer policy on <em class="filename"> clEnqueueMapBuffer</em> / <em class="filename"> clEnqueueMapImage</em> / <em class="filename"> clEnqueueUnmapMemObject</em> for Copy Memory<a name="50401315_marker-514718"></a> Objects</h6>
<table border="1">
<caption>
<h6 class="TableTitle"><a name="50401315_pgfId-544525"></a></h6>
</caption>
<tbody>
<tr>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-512152"></a>clEnqueueMapBuffer / clEnqueueMapImage map_flags argument</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-512157"></a>Transfer on clEnqueueMapBuffer / clEnqueueMapImage</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401315_pgfId-511575"></a>Transfer on clEnqueueUnmapMemObject</p>
</th>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-511578"></a>CL_MAP_READ</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-511580"></a>Device to host, if map location is not current.</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-511582"></a>None.</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-511584"></a>CL_MAP_WRITE</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-511586"></a>Device to host, if map location is not current.</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-511588"></a>Host to device.</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-511590"></a>CL_MAP_READ</p>
<p class="tablebody1"><a name="50401315_pgfId-512258"></a>CL_MAP_WRITE</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-511592"></a>Device to host if map location is not current.</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-511594"></a>Host to device.</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532752"></a>CL_MAP_WRITE_INVALIDATE_REGION</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532754"></a>None.</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-532756"></a>Host to device.</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401315_pgfId-504164"></a>For default memory objects<a name="50401315_marker-514719"></a>, the pointer returned by <em class="filename"> clEnqueueMapBuffer</em> / <em class="filename"> clEnqueueMapImage</em> may not be to the same memory area each time because different runtime buffers may be used.</p>
<p class="paragraph"><a name="50401315_pgfId-504388"></a>For <em class="filename"> CL_MEM_USE_HOST_PTR</em> and <em class="filename"> CL_MEM_ALLOC_HOST_PTR</em> the same map location is used for all maps; thus, the pointer returned is always in the same memory area. For other copy memory objects, the pointer returned may not always be to the same memory region.</p>
<p class="paragraph"><a name="50401315_pgfId-504393"></a>For <em class="filename"> CL_MEM_USE_HOST_PTR</em> and the <em class="filename"> CL_MEM_ALLOC_HOST_PTR</em> cases that use copy map mode<a name="50401315_marker-514720"></a>, the runtime tracks if the map location contains an up-to-date copy of the memory object contents and avoids doing a transfer from the device when mapping as <em class="filename"> CL_MAP_READ</em> . This determination is based on whether an operation such as <em class="filename"> clEnqueueWriteBuffer</em> /<em class="filename"> clEnqueueCopyBuffer</em> or a kernel execution has modified the memory object.<a name="50401315_marker-514722"></a> If a memory object is created with <em class="filename"> CL_MEM_READ_ONLY</em> , then a kernel execution with the memory object as an argument is not considered as modifying the memory object. Default memory objects<a name="50401315_marker-514723"></a> cannot be tracked because the map location changes between map calls; thus, they are always transferred on the map.</p>
<p class="paragraph"><a name="50401315_pgfId-504409"></a>For <em class="filename"> CL_MEM_USE_HOST_PTR</em> , <em class="filename"> clCreateBuffer</em> /<em class="filename"> clCreateImage</em> pins the host memory passed to the <em class="filename"> host_ptr</em> argument. It is unpinned when the memory object is deleted. To minimize pinning costs<a name="50401315_marker-514724"></a>, align the memory to 4KiB. This avoids the runtime having to pin/unpin on every map/unmap transfer, but does add to the total amount of <a name="50401315_marker-533447"></a>pinned memory.</p>
<p class="paragraph"><a name="50401315_pgfId-504509"></a>For <em class="filename"> CL_MEM_USE_HOST_PTR</em> , the host memory passed as the ptr argument<a name="50401315_marker-514725"></a> of <em class="filename"> clCreateBuffer</em> /<em class="filename"> clCreateImage</em> is used as the map location. As mentioned in section <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_92101">See Host Memory</a>, <a name="50401315_marker-533448"></a>host memory transfers incur considerable cost in pinning/unpinning on every transfer. If used, ensure the memory aligned to the data type size used in the kernels. If host memory that is updated once is required, use <em class="filename"> CL_MEM_ALLOC_HOST_PTR</em> with the <em class="filename"> CL_MEM_COPY_HOST_PTR</em> flag instead. If device memory is needed, use <em class="filename"> CL_MEM_USE_PERSISTENT_MEM_AMD</em> and <em class="filename"> clEnqueueWriteBuffer</em> .</p>
<p class="paragraph"><a name="50401315_pgfId-504510"></a>If <em class="filename"> CL_MEM_COPY_HOST_PTR</em> is specified with <em class="filename"> CL_MEM_ALLOC_HOST_PTR</em> when creating a memory object, the memory is allocated<a name="50401315_marker-514727"></a> in pinned host memory<a name="50401315_marker-514728"></a> and initialized with the passed data. For other kinds of memory objects, the deferred allocation means the memory is not yet allocated on a device, so the runtime has to copy the data into a temporary runtime buffer<a name="50401315_marker-514731"></a>. The memory is allocated on the device when the device first accesses the resource. At that time, any data that must be transferred to the resource is copied. For example, this would apply when a buffer was allocated with the flag <em class="filename"> CL_MEM_COPY_HOST_PTR</em> . Using <em class="filename"> CL_MEM_COPY_HOST_PTR</em> for these buffers is not recommended because of the extra copy. Instead, create the buffer without <em class="filename"> CL_MEM_COPY_HOST_PTR</em> , and initialize with <em class="filename"> clEnqueueWriteBuffer</em> /<em class="filename"> clEnqueueWriteImage</em> .</p>
<p class="paragraph"><a name="50401315_pgfId-504517"></a>When <a name="50401315_marker-533449"></a>images are transferred, additional costs are involved because the image must be converted to, and from, linear address mode for host access. The runtime<a name="50401315_marker-514733"></a> does this by executing kernels on the device.</p>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-504422"></a>Reading, Writing, and Copying</h6>
<p class="paragraph"><a name="50401315_pgfId-504778"></a>There are numerous OpenCL commands<a name="50401315_marker-514734"></a> to read, write<a name="50401315_marker-514737"></a>, and copy<a name="50401315_marker-514750"></a> buffers and images. The runtime performs transfers depending on the memory kind of the source and destination<a name="50401315_marker-514764"></a><a name="50401315_marker-514765"></a>. When transferring between host memory and device memory the methods described in section <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_92101">See Host Memory</a>, are used. <em class="filename"> Memcpy</em> <a name="50401315_marker-514768"></a> is used to transferring between the various kinds of host memory, this may be slow if reading from device visible host memory, as described in section <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_61103">See Device-Visible Host Memory</a>. Finally, device kernels are used to copy between device memory<a name="50401315_marker-514769"></a>. For images, device kernels are used to convert to and from the linear address mode when necessary.<a name="50401315_marker-514770"></a></p>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-504431"></a>Command Queue</h6>
<p class="paragraph"><a name="50401315_pgfId-504819"></a>It is best to use non-blocking commands<a name="50401315_marker-514771"></a> to allow multiple commands to be queued before the command queue is flushed to the GPU. This sends larger batches of commands, which amortizes the cost of preparing and submitting work to the GPU. Use event tracking to specify the dependence between operations. It is recommended to queue operations that do not depend of the results of previous copy and map operations. This can help keep the GPU busy with kernel execution and DMA transfers. Note that if a non-blocking copy or map is queued, it does not start until the <a name="50401315_marker-533450"></a>command queue is flushed. Use <em class="filename"> clFlush</em> <a name="50401315_marker-514772"></a> if necessary, but avoid unnecessary flushes because they cause small command batching.</p>
<p class="paragraph"><a name="50401315_pgfId-534686"></a>For Southern Islands and later, devices support at least two hardware compute queues. That allows an application to increase the throughput of small dispatches with two command queues for asynchronous submission and possibly execution. The hardware compute queues are selected in the following order: first queue = even OCL command queues, second queue = odd OCL queues.</p>
</div>
<div>
<h6 class="head1"><a name="50401315_pgfId-502559"></a>OpenCL Data Transfer Optimization</h6>
<p class="paragraph"><a name="50401315_pgfId-525048"></a>The AMD OpenCL implementation offers several optimized paths for data transfer to, and from, the device<a name="50401315_marker-525049"></a>. The following chapters describe buffer and image paths<a name="50401315_marker-525050"></a>, as well as how they map to common application scenarios. To find out where the application’s buffers are stored (and understand how the data transfer behaves), use the CodeXL GPU Profiler API Trace View, and look at the tool tips of the <em class="filename"> clEnqueueMapBuffer</em> calls.</p>
<div>
<h6 class="head2"><a name="50401315_pgfId-525051"></a>Definitions</h6>
<ul>
<li class="FM1bullet"><a name="50401315_pgfId-495990"></a>Deferred allocation<a name="50401315_marker-514778"></a> — The CL runtime attempts to minimize resource consumption by delaying buffer allocation until first use. As a side effect, the first accesses to a buffer may be more expensive than subsequent accesses.</li>
<li class="FM1bullet"><a name="50401315_pgfId-495991"></a>Peak interconnect bandwidth<a name="50401315_marker-514779"></a> — As used in the text below, this is the transfer bandwidth between host and device that is available under optimal conditions at the application level. It is dependent on the type of interconnect, the chipset, and the graphics chip. As an example, a high-performance PC with a PCIe 3.0 16x bus and a GCN architecture (AMD Radeon<em class="superscript"> </em> HD 7XXX<a name="50401315_marker-533511"></a> series) graphics card has a nominal interconnect bandwidth of 16 GB/s.</li>
<li class="FM1bullet"><a name="50401315_pgfId-495992"></a>Pinning<a name="50401315_marker-514780"></a> — When a range of host memory is prepared for transfer to the GPU, its pages are locked into system memory. This operation is called pinning; it can impose a high cost, proportional to the size of the memory range. One of the goals of optimizing <a name="50401315_marker-533461"></a>data transfer is to use pre-pinned buffers<a name="50401315_marker-514781"></a> whenever possible. However, if pre-pinned buffers are used excessively, it can reduce the available system memory and result in excessive swapping. Host side zero copy buffers<a name="50401315_marker-514782"></a> provide easy access to pre-pinned memory.</li>
<li class="FM1bullet"><a name="50401315_pgfId-517541"></a>WC — Write Combine<a name="50401315_marker-533462"></a> is a feature of the CPU write path to a select region of the address space. Multiple adjacent writes are combined into cache lines (for example, 64 bytes) before being sent to the external bus. This path typically provides fast streamed writes, but slower scattered writes. Depending on the chip set, <a name="50401315_marker-533463"></a>scattered writes across a graphics interconnect can be very slow. Also, some platforms require multi-core CPU writes to saturate the WC path over an interconnect.</li>
<li class="FM1bullet"><a name="50401315_pgfId-517542"></a><a name="50401315_marker-533464"></a>Uncached accesses — Host memory and I/O regions can be configured as uncached. CPU read accesses are typically very slow; for example: uncached CPU reads of graphics memory over an interconnect.</li>
<li class="FM1bullet"><a name="50401315_pgfId-496191"></a><a name="50401315_marker-533466"></a>USWC — Host memory from the <a name="50401315_marker-533465"></a>Uncached Speculative Write Combine heap can be accessed by the GPU without causing CPU cache coherency traffic. Due to the uncached WC access path, CPU streamed writes are fast, while CPU reads are very slow. On APU devices, this memory provides the fastest possible route for CPU writes followed by GPU reads.</li>
</ul>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-501699"></a>Buffers</h6>
<p class="paragraph"><a name="50401315_pgfId-501700"></a>OpenCL buffers<a name="50401315_marker-514784"></a> currently offer the widest variety of specialized buffer types and optimized paths, as well as slightly higher transfer performance.</p>
</div>
</div>
</div>
<div>
<h2 class="head3"><a name="50401315_pgfId-496787"></a>Regular Device Buffers</h2>
<p class="paragraph"><a name="50401315_pgfId-496807"></a><a name="50401315_marker-514785"></a>Buffers allocated using the flags <em class="filename"> CL_MEM_READ_ONLY</em> , <em class="filename"> CL_MEM_WRITE_ONLY</em> , or <em class="filename"> CL_MEM_READ_WRITE</em> are placed on the GPU device. These buffers can be accessed by a GPU kernel at very high bandwidths. For example, on a high-end graphics card, the OpenCL kernel read/write performance is significantly higher than 100 GB/s. When device buffers are accessed by the host through any of the OpenCL read/write/copy and map/unmap API calls, the result is an explicit transfer across the hardware interconnect.</p>
</div>
<div>
<h2 class="head3"><a name="50401315_pgfId-497032"></a>Zero Copy Buffers</h2>
<p class="paragraph"><a name="50401315_pgfId-497063"></a>AMD APP SDK 2.4 on Windows 7 and Vista introduces a new feature called zero copy buffers.<a name="50401315_marker-514786"></a></p>
<p class="paragraph"><a name="50401315_pgfId-497064"></a>If a buffer is of the zero copy type, the runtime<a name="50401315_marker-514787"></a> tries to leave its content in place, unless the application explicitly triggers a transfer (for example, through <em class="filename"> clEnqueueCopyBuffer()</em> ). Depending on its type, a zero copy buffer resides on the host or the device. Independent of its location, it can be accessed directly by the host CPU or a GPU device kernel, at a bandwidth determined by the capabilities of the hardware interconnect.</p>
<p class="paragraph"><a name="50401315_pgfId-497065"></a>Calling <em class="filename"> clEnqueueMapBuffer()</em> and <em class="filename"> clEnqueueUnmapMemObject()</em> on a zero copy buffer is typically a low-cost operation.<a name="50401315_marker-514788"></a></p>
<p class="paragraph"><a name="50401315_pgfId-497066"></a>Since not all possible read and write paths perform equally, check the application scenarios below for recommended usage. To assess performance on a given platform, use the BufferBandwidth sample.</p>
<p class="paragraph"><a name="50401315_pgfId-497067"></a>If a given platform supports the zero copy feature<a name="50401315_marker-514789"></a>, the following buffer types are available:</p>
<ul>
<li class="FM1bullet"><a name="50401315_pgfId-497068"></a>The <em class="filename"> CL_MEM_ALLOC_HOST_PTR</em> and <em class="filename"> CL_MEM_USE_HOST_PTR</em> buffers are:</li>
<li class="FM1dash"><a name="50401315_pgfId-497069"></a>zero copy buffers that resides on the host.</li>
<li class="FM1dash"><a name="50401315_pgfId-497348"></a>directly accessible by the host at host memory bandwidth.</li>
<li class="FM1dash"><a name="50401315_pgfId-497349"></a>directly accessible by the device across the interconnect.</li>
<li class="FM1dash"><a name="50401315_pgfId-497350"></a>a pre-pinned sources or destinations for CL read, write, and copy commands into device memory at peak interconnect bandwidth.</li>
</ul>
<p class="FM1bullet-cont"><a name="50401315_pgfId-532647"></a>Note that buffers created with the flag <em class="filename"> CL_MEM_ALLOC_HOST_PTR</em> together with <em class="filename"> CL_MEM_READ_ONLY</em> may reside in uncached write-combined memory. As a result, CPU can have high streamed write bandwidth, but low read and potentially low write scatter bandwidth, due to the uncached WC path.</p>
<ul>
<li class="FM1bullet"><a name="50401315_pgfId-497073"></a>The <em class="filename"> CL_MEM_USE_PERSISTENT_MEM_AMD</em> buffer is</li>
<li class="FM1dash"><a name="50401315_pgfId-497074"></a>a zero copy buffer that resides on the GPU device.</li>
<li class="FM1dash"><a name="50401315_pgfId-497075"></a>directly accessible by the GPU device at GPU memory bandwidth.</li>
<li class="FM1dash"><a name="50401315_pgfId-497076"></a>directly accessible by the host across the interconnect (typically with high streamed write bandwidth, but low read and potentially low write scatter bandwidth, due to the uncached WC path).</li>
<li class="FM1dash"><a name="50401315_pgfId-497077"></a>copyable to, and from, the device at peak interconnect bandwidth using CL read, write, and copy commands.</li>
</ul>
<p class="FM1bullet-cont"><a name="50401315_pgfId-497078"></a>There is a limit on the maximum size per buffer<a name="50401315_marker-514831"></a>, as well as on the total size of all buffers. This is platform-dependent, limited in size for each buffer, and also for the total size of all buffers of that type (a good working assumption is 64 MB for the per-buffer limit, and 128 MB for the total).</p>
<p class="paragraph"><a name="50401315_pgfId-519874"></a>Zero copy buffers work well on APU devices. SDK 2.5 introduced an optimization that is of particular benefit on APUs. The runtime uses USWC memory for buffers allocated as <em class="filename"> CL_MEM_ALLOC_HOST_PTR | CL_MEM_READ_ONLY</em> . On APU systems, this type of <a name="50401315_marker-533469"></a>zero copy buffer can be written to by the CPU at very high data rates, then handed over to the GPU at minimal cost for equally high GPU read-data rates over the Radeon memory bus. This path provides the highest data transfer rate for the CPU-to-GPU path. The use of multiple CPU cores may be necessary to achieve peak write performance.</p>
<div>
<h6 class="number1"><a name="50401315_pgfId-519878"></a>buffer = <em class="filename"> clCreateBuffer(CL_MEM_ALLOC_HOST_PTR | CL_MEM_READ_ONLY)</em></h6>
<ol>
<li class="number1-"><a name="50401315_pgfId-519879"></a>address = <em class="filename"> clMapBuffer</em> ( buffer )</li>
<li class="number1-"><a name="50401315_pgfId-519880"></a><em class="filename"> memset</em> ( address ) or <em class="filename"> memcpy</em> ( address ) (if possible, using multiple CPU cores)</li>
<li class="number1-"><a name="50401315_pgfId-519881"></a><em class="filename"> clEnqueueUnmapMemObject</em> ( buffer )</li>
<li class="number1-"><a name="50401315_pgfId-519882"></a><em class="filename"> clEnqueueNDRangeKernel</em> ( buffer )</li>
</ol>
<p class="paragraph"><a name="50401315_pgfId-519884"></a>As this memory is not cacheable, CPU read operations are very slow. This type of buffer also exists on discrete platforms, but transfer performance typically is limited by PCIe bandwidth.</p>
<p class="paragraph"><a name="50401315_pgfId-519864"></a>Zero copy buffers can provide low latency for small transfers, depending on the transfer path. For small buffers, the combined latency of map/CPU memory access/unmap can be smaller than the corresponding DMA latency.</p>
</div>
</div>
<div>
<h2 class="head3"><a name="50401315_pgfId-518336"></a>Pre-pinned Buffers</h2>
<p class="paragraph"><a name="50401315_pgfId-518338"></a>AMD APP SDK 2.5 introduces a new feature called <a name="50401315_marker-533470"></a>pre-pinned buffers. This feature is supported on Windows 7, Windows Vista, and Linux.</p>
<p class="paragraph"><a name="50401315_pgfId-518340"></a>Buffers of type <em class="filename"> CL_MEM_ALLOC_HOST_PTR</em> or <em class="filename"> CL_MEM_USE_HOST_PTR</em> are pinned at creation time. These buffers can be used directly as a source or destination for <em class="filename"> clEnqueueCopyBuffer</em> to achieve peak interconnect bandwidth. Mapped buffers also can be used as a source or destination for <em class="filename"> clEnqueueRead</em> /<em class="filename"> WriteBuffer</em> calls, again achieving peak interconnect bandwidth. Note that using <em class="filename"> CL_MEM_USE_HOST_PTR</em> permits turning an existing user memory region into pre-pinned memory. However, in order to stay on the fast path, that memory must be aligned to 256 bytes. Buffers of type <em class="filename"> CL_MEM_USE_HOST_PTR</em> remain pre-pinned as long as they are used only for data transfer, but not as kernel arguments. If the buffer is used in a kernel, the runtime creates a cached copy on the device, and subsequent copies are not on the fast path. The same restriction applies to <em class="filename"> CL_MEM_ALLOC_HOST_PTR</em> allocations under Linux.</p>
<p class="paragraph"><a name="50401315_pgfId-518342"></a>See usage examples described for various options below.</p>
<p class="paragraph"><a name="50401315_pgfId-518344"></a>The pre-pinned path is supported for the following calls.</p>
<ul>
<li class="FM1bullet"><a name="50401315_pgfId-518346"></a><em class="filename"> clEnqueueRead</em> /<em class="filename"> WriteBuffer</em></li>
<li class="FM1bullet"><a name="50401315_pgfId-518347"></a><em class="filename"> clEnqueueRead</em> /<em class="filename"> WriteImage</em></li>
<li class="FM1bullet"><a name="50401315_pgfId-518348"></a><em class="filename"> clEnqueueRead</em> /<em class="filename"> WriteBufferRect</em></li>
</ul>
<p class="paragraph"><a name="50401315_pgfId-518350"></a>Offsets into mapped buffer addresses are supported, too.</p>
<p class="paragraph"><a name="50401315_pgfId-517834"></a>Note that the CL image calls must use pre-pinned mapped buffers on the host side, and not pre-pinned images.</p>
</div>
<div>
<h2 class="head3"><a name="50401315_pgfId-517669"></a>Application Scenarios and Recommended OpenCL Paths</h2>
<p class="paragraph"><a name="50401315_pgfId-497430"></a><a name="50401315_marker-514790"></a>The following section describes various application scenarios, and the corresponding paths in the OpenCL API that are known to work well on AMD platforms. The various cases are listed, ordered from generic to more specialized.</p>
<p class="paragraph"><a name="50401315_pgfId-497431"></a>From an application point of view, two fundamental use cases exist, and they can be linked to the various options, described below.</p>
<ul>
<li class="FM1bullet"><a name="50401315_pgfId-497432"></a>An application wants to transfer a buffer that was already allocated through <em class="filename"> malloc()</em> or <em class="filename"> mmap()</em> . In this case, options 2), 3) and 4) below always consist of a <em class="filename"> memcpy()</em> plus a device transfer. Option 1) does not require a <em class="filename"> memcpy()</em> .</li>
<li class="FM1bullet"><a name="50401315_pgfId-497433"></a>If an application is able to let OpenCL allocate the buffer, options 2) and 4) below can be used to avoid the extra <em class="filename"> memcpy()</em> . In the case of option 5), <em class="filename"> memcpy()</em> and transfer are identical.</li>
</ul>
<p class="paragraph"><a name="50401315_pgfId-497434"></a>Note that the OpenCL runtime<a name="50401315_marker-514792"></a> uses deferred allocation to maximize memory resources. This means that a complete roundtrip chain, including data transfer and kernel compute, might take one or two iterations to reach peak performance.</p>
<p class="paragraph"><a name="50401315_pgfId-497435"></a>A code sample named BufferBandwidth<a name="50401315_marker-514793"></a> can be used to investigate and benchmark the various transfer options in combination with different buffer types.<a name="50401315_marker-514839"></a></p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-497653"></a>Option 1 – <em class="filename"> clEnqueueWriteBuffer()</em> and <em class="filename"> clEnqueueReadBuffer()</em></p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-518691"></a>This option is the easiest to use on the application side. <em class="filename"> CL_MEM_USE_HOST_PTR</em> is an ideal choice if the application wants to transfer a buffer that has already been allocated through <em class="filename"> malloc()</em> or <em class="filename"> mmap()</em> .</p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-518693"></a>There are two ways to use this option. The first uses <em class="filename"> clEnqueueRead</em> /<em class="filename"> WriteBuffer</em> on a pre-pinned, mapped host-side buffer:</p>
<div>
<h6 class="alphalist"><a name="50401315_pgfId-518695"></a>pinnedBuffer = <em class="filename"> clCreateBuffer( CL_MEM_ALLOC_HOST_PTR or CL_MEM_USE_HOST_PTR )</em></h6>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-518696"></a>deviceBuffer = <em class="filename"> clCreateBuffer()</em></h6>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-518697"></a>void *pinnedMemory = <em class="filename"> clEnqueueMapBuffer( pinnedBuffer )</em></h6>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-518698"></a><em class="filename"> clEnqueueRead</em> /<em class="filename"> WriteBuffer</em> ( deviceBuffer, pinnedMemory )</h6>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-518699"></a><em class="filename"> clEnqueueUnmapMemObject</em> ( pinnedBuffer, pinnedMemory )</h6>
<p class="FM1bullet-cont"><a name="50401315_pgfId-519460"></a>The <a name="50401315_marker-533479"></a>pinning cost is incurred at step c. Step d does not incur any pinning cost. Typically, an application performs steps a, b, c, and e once. It then repeatedly reads or modifies the data in pinnedMemory, followed by step d.</p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-497787"></a>For the second way to use this option, <em class="filename"> clEnqueueRead</em> /<em class="filename"> WriteBuffer</em> is used directly on a user memory buffer. The standard <em class="filename"> clEnqueueRead</em> /<em class="filename"> Write</em> calls require to pin (lock in memory) memory pages before they can be copied (by the DMA engine). This creates a performance penalty that is proportional to the buffer size. The performance of this path is currently about two-thirds of peak interconnect bandwidth.</p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-519576"></a>Option 2 – <em class="filename"> clEnqueueCopyBuffer()</em> on a pre-pinned host buffer (requires pre-pinned buffer support)</p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-519577"></a>This is analogous to Option 1. Performing a CL copy of a pre-pinned buffer to a device buffer (or vice versa) runs at peak interconnect bandwidth.</p>
</div>
<div>
<h6 class="alphalist"><a name="50401315_pgfId-519640"></a>pinnedBuffer = c<em class="filename"> lCreateBuffer( CL_MEM_ALLOC_HOST_PTR or CL_MEM_USE_HOST_PTR )</em></h6>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-519641"></a>deviceBuffer = <em class="filename"> clCreateBuffer()</em></h6>
<p class="FM1bullet-cont"><a name="50401315_pgfId-519643"></a>This is followed either by:</p>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-519645"></a>void *memory = <em class="filename"> clEnqueueMapBuffer</em> ( pinnedBuffer )</h6>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-519646"></a>Application writes or modifies memory.</h6>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-519647"></a><em class="filename"> clEnqueueUnmapMemObject</em> ( pinnedBuffer, memory )</h6>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-519648"></a><em class="filename"> clEnqueueCopyBuffer</em> ( pinnedBuffer, deviceBuffer )</h6>
<p class="FM1bullet-cont"><a name="50401315_pgfId-519650"></a>or by:</p>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-519652"></a><em class="filename"> clEnqueueCopyBuffer</em> ( deviceBuffer, pinnedBuffer )</h6>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-519653"></a>void *memory = <em class="filename"> clEnqueueMapBuffer</em> ( pinnedBuffer )</h6>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-519654"></a>Application reads memory.</h6>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-519655"></a><em class="filename"> clEnqueueUnmapMemObject</em> ( pinnedBuffer, memory )</h6>
<p class="FM1bullet-cont"><a name="50401315_pgfId-519613"></a>Since the pinnedBuffer resides in host memory, the <em class="filename"> clMap()</em> and <em class="filename"> clUnmap()</em> calls do not result in data transfers, and they are of very low latency. Sparse or dense memory operations by the application take place at host memory bandwidth.</p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-497826"></a>Option 3 – <em class="filename"> clEnqueueMapBuffer()</em> and <em class="filename"> clEnqueueUnmapMemObject() of a Device Buffer</em></p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-497851"></a>This is a good choice if the application fills in the data on the fly, or requires a pointer for calls to other library functions (such as <em class="filename"> fread()</em> or <em class="filename"> fwrite()</em> ). An optimized path exists for regular device buffers; this path provides peak interconnect bandwidth at map/unmap time.</p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-497852"></a>For buffers already allocated through <em class="filename"> malloc()</em> or <em class="filename"> mmap()</em> , the total transfer cost includes a <em class="filename"> memcpy()</em> into the mapped device buffer, in addition to the interconnect transfer. Typically, this is slower than option 1), above.</p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-497853"></a>The transfer sequence is as follows:</p>
</div>
<div>
<h6 class="alphalist"><a name="50401315_pgfId-497854"></a>Data transfer from host to device buffer.</h6>
<div>
<h6 class="number2"><a name="50401315_pgfId-497855"></a><em class="filename"> ptr = clEnqueueMapBuffer( .., buf, .., CL_MAP_WRITE, .. )<br>
</em><br>
Since the buffer is mapped write-only, no data is transferred from device buffer to host. The map operation is very low cost. A pointer to a pinned host buffer is returned.</h6>
<ol>
<li class="number2-"><a name="50401315_pgfId-497856"></a>The application fills in the host buffer through <em class="filename"> memset( ptr )</em> , <em class="filename"> memcpy ( ptr, srcptr )</em> , <em class="filename"> fread( ptr )</em> , or direct CPU writes. This happens at host memory bandwidth.</li>
<li class="number2-"><a name="50401315_pgfId-497857"></a><em class="filename"> clEnqueueUnmapMemObject( .., buf, ptr, .. )<br>
</em><br>
The pre-pinned buffer is transferred to the GPU device, at peak interconnect bandwidth.</li>
</ol>
</div>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-497858"></a>Data transfer from device buffer to host.</h6>
<div>
<h6 class="number2"><a name="50401315_pgfId-497859"></a><em class="filename"> ptr = clEnqueueMapBuffer(.., buf, .., CL_MAP_READ, .. )<br>
</em><br>
This command triggers a transfer from the device to host memory, into a pre-pinned temporary buffer, at peak interconnect bandwidth. A pointer to the pinned memory is returned.</h6>
<ol>
<li class="number2-"><a name="50401315_pgfId-497860"></a>The application reads and processes the data, or executes a <em class="filename"> memcpy( dstptr, ptr )</em> , <em class="filename"> fwrite (ptr)</em> , or similar function. Since the buffer resides in host memory, this happens at host memory bandwidth.</li>
<li class="number2-"><a name="50401315_pgfId-497861"></a><em class="filename"> clEnqueueUnmapMemObject( .., buf, ptr, .. )<br>
</em><br>
Since the buffer was mapped as read-only, no transfer takes place, and the unmap operation is very low cost.</li>
</ol>
<p class="FM1bullet-cont"><a name="50401315_pgfId-500492"></a>Option 4 – Direct host access to a <a name="50401315_marker-533480"></a>zero copy device buffer (requires zero copy support)</p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-500519"></a>This option allows overlapping of data transfers and GPU compute. It is also useful for sparse write updates under certain constraints.</p>
</div>
</div>
<div>
<h6 class="alphalist"><a name="50401315_pgfId-500520"></a>A zero copy buffer on the device is created using the following command:</h6>
<p class="alphalist-cont"><a name="50401315_pgfId-500521"></a><em class="filename"> buf = clCreateBuffer ( .., CL_MEM_USE_PERSISTENT_MEM_AMD, .. )</em></p>
<p class="alphalist-cont"><a name="50401315_pgfId-500522"></a>This buffer can be directly accessed by the host CPU, using the uncached WC path. This can take place at the same time the GPU executes a compute kernel. A common double buffering scheme has the kernel process data from one buffer while the CPU fills a second buffer. See the TransferOverlap code sample.</p>
<p class="alphalist-cont"><a name="50401315_pgfId-500523"></a>A zero copy device buffer can also be used to for sparse updates, such as assembling sub-rows of a larger matrix into a smaller, contiguous block for GPU processing. Due to the WC path, it is a good design choice to try to align writes to the cache line size, and to pick the write block size as large as possible.</p>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-500525"></a>Transfer from the host to the device.</h6>
<div>
<h6 class="number2"><a name="50401315_pgfId-500526"></a><em class="filename"> ptr = clEnqueueMapBuffer( .., buf, .., CL_MAP_WRITE, .. )<br>
</em><br>
This operation is low cost because the zero copy device buffer is directly mapped into the host address space.</h6>
<ol>
<li class="number2-"><a name="50401315_pgfId-500527"></a>The application transfers data via <em class="filename"> memset( ptr )</em> , <em class="filename"> memcpy( ptr, srcptr )</em> , or direct CPU writes.The CPU writes directly across the interconnect into the zero copy device buffer. Depending on the chipset, the bandwidth can be of the same order of magnitude as the interconnect bandwidth, although it typically is lower than peak.</li>
<li class="number2-"><a name="50401315_pgfId-500528"></a><em class="filename"> clEnqueueUnmapMemObject( .., buf, ptr, .. )<br>
</em><br>
As with the preceding map, this operation is low cost because the buffer continues to reside on the device.</li>
</ol>
</div>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-500529"></a>If the buffer content must be read back later, use</h6>
<p><em class="filename"> clEnqueueReadBuffer( .., buf, ..)</em> or<br>
<em class="filename"> clEnqueueCopyBuffer( .., buf, zero copy host buffer, .. )</em> .</p>
<p>This bypasses slow host reads through the uncached path.</p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-501056"></a>Option 5 – Direct GPU access to a <a name="50401315_marker-533481"></a>zero copy host buffer (requires zero copy support)</p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-501068"></a>This option allows direct reads or writes of host memory by the GPU. A GPU kernel can import data from the host without explicit transfer, and write data directly back to host memory. An ideal use is to perform small I/Os straight from the kernel, or to integrate the transfer latency directly into the kernel execution time.</p>
</div>
<div>
<h6 class="alphalist"><a name="50401315_pgfId-501069"></a>The application creates a zero copy host buffer.</h6>
<p class="alphalist-cont"><a name="50401315_pgfId-501811"></a><em class="filename"> buf = clCreateBuffer( .., CL_MEM_ALLOC_HOST_PTR, .. )</em></p>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-501070"></a>Next, the application modifies or reads the zero copy host buffer.</h6>
<div>
<h6 class="number2"><a name="50401315_pgfId-501071"></a><em class="filename"> ptr = clEnqueueMapBuffer( .., buf, .., CL_MAP_READ | CL_MAP_WRITE, .. )<br>
</em><br>
This operation is very low cost because it is a map of a buffer already residing in host memory.</h6>
<ol>
<li class="number2-"><a name="50401315_pgfId-501072"></a>The application modifies the data through <em class="filename"> memset( ptr )</em> ,<br>
<em class="filename"> memcpy(</em> in either direction<em class="filename"> )</em> , sparse or dense CPU reads or writes. Since the application is modifying a host buffer, these operations take place at host memory bandwidth.</li>
<li class="number2-"><a name="50401315_pgfId-501073"></a><em class="filename"> clEnqueueUnmapMemObject( .., buf, ptr, .. )</em></li>
</ol>
<p class="number2-cont"><a name="50401315_pgfId-501818"></a>As with the preceding map, this operation is very low cost because the buffer continues to reside in host memory.</p>
</div>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-501074"></a>The application runs <em class="filename"> clEnqueueNDRangeKernel()</em> , using buffers of this type as input or output. GPU kernel reads and writes go across the interconnect to host memory, and the data transfer becomes part of the kernel execution.</h6>
<p>The achievable bandwidth depends on the platform and chipset, but can be of the same order of magnitude as the peak interconnect bandwidth. For discrete graphics cards, it is important to note that resulting GPU kernel bandwidth is an order of magnitude lower compared to a kernel accessing a regular device buffer located on the device.</p>
</div>
<div>
<h6 class="alphalist-"><a name="50401315_pgfId-501075"></a>Following kernel execution, the application can access data in the host buffer in the same manner as described above.</h6>
</div>
<div>
<h6 class="head1"><a name="50401315_pgfId-531115"></a>Using Multiple OpenCL Devices</h6>
<p class="paragraph"><a name="50401315_pgfId-531117"></a>The AMD OpenCL runtime supports both CPU and GPU devices<a name="50401315_marker-531116"></a>. This section introduces techniques for appropriately partitioning the workload<a name="50401315_marker-531118"></a> and balancing it<a name="50401315_marker-531119"></a> across the devices in the system.</p>
<div>
<h6 class="head2"><a name="50401315_pgfId-531120"></a>CPU and GPU Devices</h6>
<p class="paragraph"><a name="50401315_pgfId-531125"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_58344">See CPU and GPU Performance Characteristics</a> lists some key performance characteristic<a name="50401315_marker-531124"></a>s of two exemplary CPU and GPU devices: a quad-core AMD Phenom II X4 processo<a name="50401315_marker-531126"></a>r running at 2.8 GHz, and a mid-range <a name="50401315_marker-533513"></a>AMD Radeon<em class="superscript"> </em> HD 7770 GPU running at 1 GHz. The “best” device in each characteristic is highlighted, and the ratio of the best/other device is shown in the final column.</p>
<p class="paragraph"><a name="50401315_pgfId-533155"></a>The GPU excels at high-throughput<a name="50401315_marker-533154"></a>: the peak execution rate (measured in FLOPS) is 7X higher than the CPU, and the memory bandwidth is 2.5X higher than the CPU. The GPU also consumes approximately 65% the power of the CPU; thus, for this comparison, the power efficiency in flops/watt is 10X higher. While power efficiency can vary significantly with different devices, GPUs generally provide greater power efficiency (flops/watt) than CPUs because they optimize for throughput and eliminate hardware designed to hide latency. <a name="50401315_marker-533156"></a></p>
<div>
<h6 class="table"><a name="50401315_pgfId-531128"></a><a name="50401315_58344"></a>CPU and GPU Performance Characteristics</h6>
<div>
<h6 class="anchor"><a name="50401315_pgfId-531277"></a></h6>
<table>
<tbody>
<tr>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401315_pgfId-531131"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401315_pgfId-531133"></a>CPU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401315_pgfId-531135"></a>GPU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401315_pgfId-531137"></a>Winner Ratio</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-531139"></a>Example Device</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531141"></a>AMD Phenom<em class="superscript"> </em> II X4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531143"></a><a name="50401315_marker-533516"></a>AMD Radeon<em class="symbol"> </em> HD 7770</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531145"></a></p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-531147"></a>Core Frequency</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531149"></a>2800 MHz</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531151"></a>1 GHz</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531153"></a>3 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-531155"></a>Compute Units</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531157"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531159"></a>10</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531161"></a>2.5 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-531166"></a>Approx. Power<a class="footnote" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#pgfId-531165">1</a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531168"></a>95 W</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531170"></a>80 W</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531172"></a>1.2 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-531174"></a>Approx. Power/Compute Unit</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531176"></a>19 W</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531178"></a>8 W</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531180"></a>2.4 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-531182"></a>Peak Single-Precision Billion Floating-Point Ops/Sec</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531184"></a>90</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531186"></a>1280</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531188"></a>14 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-531190"></a>Approx GFLOPS/Watt</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531192"></a>0.9</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531194"></a>16</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531196"></a>18 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-531198"></a>Max In-flight HW Threads</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531200"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531202"></a>25600</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531204"></a>6400 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-531206"></a>Simultaneous Executing Threads</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531208"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531210"></a>640</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531212"></a>160 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-531214"></a>Memory Bandwidth</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531216"></a>26 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531218"></a>72 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531220"></a>2.8 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-531222"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531224"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531226"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531228"></a></p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-531230"></a>Int Add latency</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531232"></a>0.4 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531234"></a>4 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531236"></a>10 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-531238"></a>FP Add Latency</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531240"></a>1.4 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531242"></a>4 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531244"></a>2.9 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-531246"></a>Approx DRAM Latency</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531248"></a>50 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531250"></a>270 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531252"></a>5.4 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-531254"></a>L2+L3 (GPU only L2) cache capacity</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531256"></a>8192 KB</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531258"></a>128 kB</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531260"></a>64 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401315_pgfId-531262"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531264"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531266"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531268"></a></p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401315_pgfId-531270"></a>Approx Kernel Launch Latency</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531272"></a>25 <em class="symbol"> μ</em> s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531274"></a>50 <em class="symbol"> μ</em> s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-531276"></a>2 X</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401315_pgfId-533975"></a>Table 4.5 provides a comparison of the CPU and GPU performance charac-teristics in an AMD A8-4555M “Trinity” APU (19 W, 21 GB/s memory bandwidth).</p>
</div>
</div>
<div>
<h6 class="table"><a name="50401315_pgfId-533785"></a>CPU and GPU Performance Characteristics on APU</h6>
<div>
<h6 class="anchor"><a name="50401315_pgfId-533935"></a></h6>
<table>
<tbody>
<tr>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401315_pgfId-533788"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401315_pgfId-533790"></a>CPU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401315_pgfId-533792"></a>GPU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401315_pgfId-533794"></a>Winner Ratio</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-533796"></a>Core Frequency</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533798"></a>2400 MHz</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533801"></a>424 MHz</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533803"></a>5.7 x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-533805"></a>Compute Units</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533807"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533809"></a>6</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533811"></a>1.5 x</p>
</td>
</tr>
<tr>
<td colspan="4" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-533813"></a>Peak Single Precision</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-533824"></a>Floating-Point Ops/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533826"></a>77 GFLOPs</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533828"></a>326 GFLOPs</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533830"></a>4.2 x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-533832"></a>Approx. GFLOPs/W</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533834"></a>4.0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533836"></a>17.1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533838"></a>4.2 x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-533840"></a>Max Inflight HW Threads</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533842"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533844"></a>15872</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533846"></a>3968 x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-533848"></a>Simultaneous Executing Threads</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533850"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533852"></a>96</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533854"></a>24 x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-534073"></a>Int Add Latency</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-534075"></a>0.4 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-534077"></a>18.9 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-534079"></a>45.3 x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-534081"></a>FP Add Latency</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-534083"></a>1.7 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-534085"></a>9.4 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-534087"></a>5.7 x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-533856"></a>Approx. DRAM Latency</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533858"></a>50 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533860"></a>270 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533862"></a>5.4 x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401315_pgfId-533864"></a>L2 + L3 Cache Capacity</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533866"></a>4192 kB</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533868"></a>256 kB</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401315_pgfId-533870"></a>16.4 x</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401315_pgfId-533777"></a>Conversely, CPUs excel at latency-sensitive tasks<a name="50401315_marker-531281"></a>. For example, an integer add is 10X faster on the CPU than on the GPU. This is a product of both the CPUs higher clock rate (2800 MHz vs 1000 MHz for this comparison), as well as the operation latency; the CPU is optimized to perform an integer add in just one cycle, while the GPU requires four cycles. The CPU also has a latency-optimized path to DRAM, while the GPU<a name="50401315_marker-531283"></a> optimizes for bandwidth and relies on many in-flight threads to hide the latency. The AMD Radeon<em class="superscript"> </em> HD 7770 GPU<a name="50401315_marker-531284"></a>, for example, supports more than 25,000 in-flight work-items and can switch to a new wavefront (containing up to 64 work-items) in a single cycle. The CPU<a name="50401315_marker-531285"></a> supports only four hardware threads, and thread-switching requires saving and restoring the CPU registers from memory. The GPU requires many active threads to both keep the execution resources busy, as well as provide enough threads to hide the long latency of cache misses.</p>
<p class="paragraph"><a name="50401315_pgfId-531286"></a>Each GPU wavefront has its own register state, which enables the fast single-cycle switching between threads<a name="50401315_marker-531287"></a>. Also, GPUs can be very efficient at gather/scatter operations<a name="50401315_marker-531288"></a>: each work-item can load from any arbitrary address, and the registers are completely decoupled from the other threads. This is substantially more flexible and higher-performing than a classic Vector ALU-style architecture (such as SSE on the CPU),<a name="50401315_marker-531289"></a> which typically requires that data be accessed from contiguous and aligned memory locations. SSE supports instructions<a name="50401315_marker-531290"></a> that write parts of a register (for example, <em class="filename"> MOVLPS</em> and <em class="filename"> MOVHPS</em> , which write the upper and lower halves, respectively, of an SSE register), but these instructions generate additional microarchitecture dependencies and frequently require additional pack instructions to format the data correctly.</p>
<p class="Normal"><a name="50401315_pgfId-531291"></a>In contrast, each GPU thread shares the same program counter with 63 other threads in a wavefront. Divergent control-flow on a GPU<a name="50401315_marker-531292"></a> can be quite expensive and can lead to significant under-utilization of the GPU device. When control flow substantially narrows the number of valid work-items in a wave-front, it can be faster to use the CPU device.</p>
<p class="paragraph"><a name="50401315_pgfId-533484"></a>CPUs<a name="50401315_marker-533483"></a> also tend to provide significantly more on-chip cache than GPUs. In this example, the CPU device contains 512 kB L2 cache/core plus a 6 MB L3 cache that is shared among all cores, for a total of 8 MB of cache. In contrast, the <a name="50401315_marker-533490"></a>GPU device contains only 128 kB cache shared by the five compute units. The larger <a name="50401315_marker-533489"></a>CPU cache serves both to reduce the average memory latency and to reduce memory bandwidth in cases where data can be re-used from the caches.</p>
<p class="paragraph"><a name="50401315_pgfId-533486"></a>Finally, note the approximate 2X difference in kernel launch latency. The GPU<a name="50401315_marker-533485"></a> launch time includes both the latency through the software stack, as well as the time to transfer the compiled kernel and associated arguments across the PCI-express bus to the discrete GPU. Notably, the launch time does not include the time to compile the kernel. The CPU can be the device-of-choice for small, quick-running problems when the overhead to launch the work on the GPU outweighs the potential speedup. Often, the work size is data-dependent, and the choice of device can be data-dependent as well. For example, an image-processing algorithm may run faster on the GPU if the images are large, but faster on the CPU when the images are small.</p>
<p class="paragraph"><a name="50401315_pgfId-531298"></a>The differences in performance characteristics<a name="50401315_marker-531297"></a> present interesting optimization opportunities. Workloads that are large and data parallel can run orders of magnitude faster on the GPU, and at higher power efficiency. Serial or small parallel workloads (too small to efficiently use the GPU resources) often run significantly faster on the CPU devices. In some cases, the same algorithm can exhibit both types of workload. A simple example is a reduction operation such as a sum of all the elements in a large array. The beginning phases of the operation can be performed in parallel and run much faster on the GPU. The end of the operation requires summing together the partial sums that were computed in parallel; eventually, the width becomes small enough so that the overhead to parallelize outweighs the computation cost, and it makes sense to perform a serial add. For these serial operations, the CPU can be significantly faster than the GPU.</p>
</div>
</div>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-531299"></a>When to Use Multiple Devices</h6>
<p class="paragraph"><a name="50401315_pgfId-531301"></a><a name="50401315_marker-531300"></a>One of the features of GPU computing is that some algorithms can run substantially faster and at better energy efficiency compared to a CPU device. Also, once an algorithm has been coded in the data-parallel task style for OpenCL, the same code typically can scale to run on GPUs with increasing compute capability (that is more compute units) or even multiple GPUs (with a little more work). <a name="50401315_marker-531302"></a></p>
<p class="paragraph"><a name="50401315_pgfId-531303"></a>For some algorithms, the advantages of the GPU (high computation throughput, latency hiding)<a name="50401315_marker-531304"></a> are offset by the advantages of the CPU<a name="50401315_marker-531305"></a> (low latency, caches, fast launch time), so that the performance on either devices is similar. This case is more common for mid-range GPUs and when running more mainstream algorithms. If the CPU and the GPU deliver similar performance, the user can get the benefit of either improved power efficiency (by running on the GPU) or higher peak performance (use both devices).</p>
<p class="paragraph"><a name="50401315_pgfId-531306"></a>Usually, when the data size is small, it is faster to use the CPU because the <a name="50401315_marker-533492"></a>start-up time is quicker than on the GPU due to a smaller driver overhead and avoiding the need to copy buffers from the host to the device.</p>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-531308"></a><a name="50401315_25230"></a>Partitioning Work for Multiple Devices</h6>
<p class="paragraph"><a name="50401315_pgfId-531309"></a>By design, each OpenCL command queue can only schedule work on a single OpenCL device. Thus, using multiple devices<a name="50401315_marker-531310"></a> requires the developer to create a separate queue for each device, then partition<a name="50401315_marker-531311"></a> the work between the available command queues.</p>
<p class="paragraph"><a name="50401315_pgfId-531312"></a>A simple scheme for partitioning work between devices would be to statically determine the relative performance of each device, partition the work so that faster devices received more work, launch all the kernels, and then wait for them to complete. In practice, however, this rarely yields optimal performance. The relative performance of devices can be difficult to determine, in particular for kernels whose performance depends on the data input. Further, the device <a name="50401315_marker-533493"></a>performance can be affected by dynamic frequency scaling, OS thread scheduling decisions, or contention for shared resources, such as shared caches and DRAM bandwidth. Simple static partitioning<a name="50401315_marker-531313"></a> algorithms<a name="50401315_marker-531314"></a> which “guess wrong” at the beginning can result in significantly lower performance, since some devices finish and become idle while the whole system waits for the single, unexpectedly slow device.</p>
<p class="paragraph"><a name="50401315_pgfId-531316"></a>For these reasons, a dynamic scheduling algorithm<a name="50401315_marker-531315"></a> is recommended. In this approach, the workload is partitioned into smaller parts that are periodically scheduled onto the hardware. As each device completes a part of the workload, it requests a new part to execute from the pool of remaining work. Faster devices, or devices which work on easier parts of the workload, request new input faster, resulting in a natural <a name="50401315_marker-533494"></a>workload balancing across the system. The approach creates some additional scheduling and kernel submission overhead, but dynamic scheduling generally helps avoid the performance cliff from a single bad initial scheduling decision, as well as higher performance in real-world system environments (since it can adapt to system conditions as the algorithm runs).</p>
<p class="paragraph"><a name="50401315_pgfId-531318"></a>Multi-core runtimes, such as Cilk<a name="50401315_marker-531317"></a>, have already introduced dynamic scheduling algorithms<a name="50401315_marker-531319"></a> for multi-core CPU<a name="50401315_marker-531320"></a>s, and it is natural to consider extending these scheduling algorithms to GPUs as well as CPUs. A GPU introduces several new aspects to the scheduling process:<a name="50401315_marker-531321"></a></p>
<ul>
<li class="FM1bullet"><a name="50401315_pgfId-531323"></a>Heterogeneous Compute Devices<a name="50401315_marker-531322"></a></li>
</ul>
<p class="FM1bullet-cont"><a name="50401315_pgfId-531325"></a>Most existing multi-core schedulers<a name="50401315_marker-531324"></a> target only homogenous computing devices. When scheduling across both CPU and GPU devices<a name="50401315_marker-531326"></a>, the scheduler must be aware that the devices can have very different performance characteristics (10X or more) for some algorithms. To some extent, dynamic scheduling is already designed to deal with heterogeneous workloads<a name="50401315_marker-531327"></a> (based on data input the same algorithm can have very different performance, even when run on the same device), but a system with heterogeneous devices<a name="50401315_marker-531328"></a> makes these cases more common and more extreme. Here are some suggestions for these situations.</p>
<ul>
<li class="FM1dash"><a name="50401315_pgfId-531330"></a>The scheduler <a name="50401315_marker-531329"></a>should support sending different workload sizes to different devices<a name="50401315_marker-531331"></a>. GPUs typically prefer larger grain sizes, and higher-performing GPUs prefer still larger grain sizes.</li>
<li class="FM1dash"><a name="50401315_pgfId-531334"></a>The scheduler should be conservative<a name="50401315_marker-531332"></a> about allocating work<a name="50401315_marker-531333"></a> until after it has examined how the work is being executed. In particular, it is important to avoid the performance cliff that occurs when a slow device is assigned an important long-running task. One technique is to use <a name="50401315_marker-533495"></a>small grain allocations at the beginning of the algorithm, then switch to larger grain allocations when the device characteristics are well-known.</li>
<li class="FM1dash"><a name="50401315_pgfId-531336"></a>As a special case<a name="50401315_marker-531335"></a> of the above rule, when the devices are substantially different in performance (perhaps 10X), load-balancing has only a small potential performance upside, and the overhead of scheduling the load probably eliminates the advantage. In the case where one device is far faster than everything else in the system, use only the fast device.<a name="50401315_marker-531337"></a></li>
<li class="FM1dash"><a name="50401315_pgfId-531339"></a>The scheduler<a name="50401315_marker-531338"></a> must balance small-grain-size (which increase the adaptiveness of the schedule and can efficiently use heterogeneous devices) with larger grain sizes<a name="50401315_marker-531340"></a> (which reduce scheduling overhead). Note that the grain size must be large enough to efficiently use the GPU.</li>
<li class="FM1bullet"><a name="50401315_pgfId-531342"></a>Asynchronous Launch<a name="50401315_marker-531341"></a></li>
</ul>
<p class="FM1bullet-cont"><a name="50401315_pgfId-531343"></a>OpenCL devices are designed to be scheduled asynchronously from a command-queue<a name="50401315_marker-531344"></a>. The host application can enqueue multiple kernels<a name="50401315_marker-531345"></a>, flush the kernels so they begin executing on the device, then use the host core for other work. The AMD OpenCL implementation uses a separate thread for each command-queue<a name="50401315_marker-531346"></a>, so work can be transparently scheduled to the GPU in the background.</p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-531348"></a>Avoid starving the high-performance GPU devices. This can occur if the physical CPU core, which must re-fill the device queue, is itself being used as a device. A simple approach to this problem is to dedicate a physical CPU core for scheduling chores<a name="50401315_marker-531349"></a>. The device fission extension<a name="50401315_marker-531350"></a> (see the Extensions appendix in the AMD OpenCL User Guide) can be used to reserve a core for scheduling. For example, on a quad-core device, device fission can be used to create an OpenCL device with only three cores.</p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-531354"></a>Another approach is to schedule enough work to the device so that it can tolerate latency in additional scheduling. Here, the scheduler maintains a watermark of uncompleted work that has been sent to the device, and refills the queue when it drops below the watermark. This effectively increase the grain size, but can be very effective at reducing or eliminating device starvation<a name="50401315_marker-531355"></a>. Developers cannot directly query the list of commands in the OpenCL command queues; however, it is possible to pass an event to each <em class="filename"> clEnqueue</em> call<a name="50401315_marker-531356"></a> that can be queried, in order to determine the execution status (in particular the command completion time); developers also can maintain their own queue of outstanding requests.</p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-531357"></a>For many algorithms, this technique can be effective enough at <a name="50401315_marker-533496"></a>hiding latency so that a core does not need to be reserved for scheduling. In particular, algorithms where the work-load is largely known up-front often work well with a deep queue and watermark. Algorithms in which work is dynamically created may require a dedicated thread to provide low-latency scheduling.</p>
<ul>
<li class="FM1bullet"><a name="50401315_pgfId-531359"></a>Data Location<a name="50401315_marker-531358"></a></li>
</ul>
<p class="FM1bullet-cont"><a name="50401315_pgfId-531361"></a>Discrete GPUs<a name="50401315_marker-531360"></a> use dedicated high-bandwidth memory that exists in a separate address space. Moving data between the device address space and the host requires time-consuming transfers over a relatively slow PCI-Express bus. Schedulers should be aware of this cost and, for example, attempt to schedule work that consumes the result on the same device producing it.</p>
<p class="FM1bullet-cont"><a name="50401315_pgfId-531362"></a>CPU and GPU devices share the same memory bandwidth, which results in additional interactions of kernel executions.</p>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-531363"></a>Synchronization Caveats</h6>
<p class="paragraph"><a name="50401315_pgfId-531365"></a><a name="50401315_marker-531364"></a>The OpenCL functions that enqueue work (<em class="filename"> clEnqueueNDRangeKernel</em> ) merely enqueue the requested work in the command queue; they do not cause it to begin executing. Execution begins<a name="50401315_marker-531366"></a> when the user executes a synchronizing command, such as <em class="filename"> clFlush</em> or <em class="filename"> clWaitForEvents</em> . <a name="50401315_marker-533497"></a>Enqueuing several commands before flushing can enable the host CPU to batch together the command submission, which can reduce launch overhead.</p>
<p class="paragraph"><a name="50401315_pgfId-531368"></a>Command-queues<a name="50401315_marker-531367"></a> that are configured to execute in-order are guaranteed to complete execution of each command before the next command begins. This synchronization guarantee can often be leveraged to avoid explicit <em class="filename"> clWaitForEvents()</em> calls between command submissions. Using <em class="filename"> clWaitForEvents()</em> requires intervention by the host CPU and additional synchronization cost between the host and the GPU; by leveraging the in-order queue property<a name="50401315_marker-531369"></a>, back-to-back kernel executions can be efficiently handled directly on the GPU hardware.</p>
<p class="paragraph"><a name="50401315_pgfId-531370"></a>AMD Southern Islands GPUs can execute multiple kernels simultaneously when there are no dependencies.</p>
<p class="paragraph"><a name="50401315_pgfId-531373"></a>The AMD OpenCL implementation spawns<a name="50401315_marker-531371"></a> a new thread<a name="50401315_marker-531372"></a> to manage each command queue. Thus, the OpenCL host code is free to manage multiple devices from a single host thread. Note that <em class="filename"> clFinish</em> is a blocking operation; the thread that calls <em class="filename"> clFinish</em> blocks<a name="50401315_marker-531374"></a> until all commands in the specified command-queue have been processed and completed. If the host thread is managing multiple devices, it is important to call <em class="filename"> clFlush</em> <a name="50401315_marker-531375"></a> for each command-queue before calling <em class="filename"> clFinish</em> , so that the commands are flushed and execute in parallel on the devices. Otherwise, the first call to <em class="filename"> clFinish</em> blocks, the commands on the other devices are not flushed, and the devices appear to execute serially rather than in parallel.</p>
<p class="paragraph"><a name="50401315_pgfId-531377"></a>For low-latency CPU response<a name="50401315_marker-531376"></a>, it can be more efficient to use a dedicated spin loop and not call <em class="filename"> clFinish()</em> Calling <em class="filename"> clFinish()</em> indicates that the application wants to wait for the GPU, putting the thread to sleep. For low latency, the application should use <em class="filename"> clFlush()</em> , followed by a loop to wait for the event to complete. This is also true for blocking maps. The application should use non-blocking maps<a name="50401315_marker-531378"></a> followed by a loop waiting on the event. The following provides sample code for this.</p>
<p class="paragraph"><a name="50401315_pgfId-531379"></a><em class="filename"> if (sleep)</em></p>
<p class="paragraph"><a name="50401315_pgfId-531380"></a><em class="filename"> {</em></p>
<p class="paragraph"><a name="50401315_pgfId-531381"></a><em class="filename"> // this puts host thread to sleep, useful if power is a consideration<br>
or overhead is not a concern</em></p>
<p class="paragraph"><a name="50401315_pgfId-531382"></a><em class="filename"> clFinish(cmd_queue_);</em></p>
<p class="paragraph"><a name="50401315_pgfId-531383"></a><em class="filename"> }</em></p>
<p class="paragraph"><a name="50401315_pgfId-531384"></a><em class="filename"> else</em></p>
<p class="paragraph"><a name="50401315_pgfId-531385"></a><em class="filename"> {</em></p>
<p class="paragraph"><a name="50401315_pgfId-531386"></a><em class="filename"> // this keeps the host thread awake, useful if latency is a concern</em></p>
<p class="paragraph"><a name="50401315_pgfId-531387"></a><em class="filename"> clFlush(cmd_queue_);</em></p>
<p class="paragraph"><a name="50401315_pgfId-531388"></a><em class="filename"> error_ = clGetEventInfo(event, CL_EVENT_COMMAND_EXECUTION_STATUS,<br>
sizeof(cl_int), &amp;eventStatus, NULL);</em></p>
<p class="paragraph"><a name="50401315_pgfId-531389"></a><em class="filename"> while (eventStatus &gt; 0)</em></p>
<p class="paragraph"><a name="50401315_pgfId-531390"></a><em class="filename"> {</em></p>
<p class="paragraph"><a name="50401315_pgfId-531391"></a><em class="filename"> error_ = clGetEventInfo(event, CL_EVENT_COMMAND_EXECUTION_STATUS,<br>
sizeof(cl_int), &amp;eventStatus, NULL);</em></p>
<p class="paragraph"><a name="50401315_pgfId-531392"></a><em class="filename"> Sleep(0); // be nice to other threads, allow scheduler to find<br>
other work if possible</em></p>
<p class="paragraph"><a name="50401315_pgfId-531393"></a><em class="filename"> // Choose your favorite way to yield, SwitchToThread() for example,<br>
in place of Sleep(0)</em></p>
<p class="paragraph"><a name="50401315_pgfId-531394"></a><em class="filename"> }</em></p>
<p class="paragraph"><a name="50401315_pgfId-531395"></a><em class="filename"> }</em></p>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-531396"></a>GPU and CPU Kernels</h6>
<p class="paragraph"><a name="50401315_pgfId-531398"></a><a name="50401315_marker-531397"></a>While OpenCL provides functional portability so that the same kernel can run on any device, peak performance for each device is typically obtained by tuning the OpenCL kernel<a name="50401315_marker-531399"></a> for the target device.</p>
<p class="paragraph"><a name="50401315_pgfId-531401"></a>Code optimized for the Tahiti device<a name="50401315_marker-531400"></a> (the <a name="50401315_marker-533520"></a>AMD Radeon<em class="superscript"> ™</em> HD 7970 GPU) typically runs well across other members of the Southern Islands family.</p>
<p class="paragraph"><a name="50401315_pgfId-531402"></a>CPUs and GPUs have very different <a name="50401315_marker-533498"></a>performance characteristics, and some of these impact how one writes an optimal kernel. Notable differences<a name="50401315_marker-531403"></a> include:<a name="50401315_marker-531404"></a></p>
<ul>
<li class="FM1bullet"><a name="50401315_pgfId-531406"></a>The Vector ALU floating point resources in a CPU<a name="50401315_marker-531405"></a> (SSE/AVX) require the use of vectorized types (such as float4) to enable packed SSE code generation and extract good performance from the Vector ALU hardware. The GPU Vector ALU hardware is more flexible and can efficiently use the floating-point hardware; however, code that can use float4 often generates hi-quality code for both the CPU and the AMD GPUs.</li>
<li class="FM1bullet"><a name="50401315_pgfId-531410"></a>The AMD OpenCL CPU implementation runs work-items from the same work-group back-to-back on the same physical CPU core.<a name="50401315_marker-531411"></a> For optimally coalesced memory patterns, a common access pattern for GPU-optimized algorithms is for work-items in the same wavefront to access memory locations from the same cache line. On a GPU, these work-items execute in parallel and generate a coalesced access pattern. On a CPU, the first work-item runs to completion (or until hitting a barrier) before switching to the next. Generally, if the working set for the data used by a work-group fits in the CPU caches, this <a name="50401315_marker-533499"></a>access pattern can work efficiently: the first work-item brings a line into the cache hierarchy, which the other work-items later hit. For large working-sets that exceed the capacity of the cache hierarchy, this access pattern does not work as efficiently; each work-item refetches cache lines that were already brought in by earlier work-items but were evicted from the cache hierarchy before being used. Note that AMD CPUs typically provide 512 kB to 2 MB of L2+L3 cache for each compute unit.</li>
<li class="FM1bullet"><a name="50401315_pgfId-531412"></a>CPUs do not contain any hardware resources specifically designed to accelerate local memory accesses. On a CPU, local memory is mapped<a name="50401315_marker-531413"></a> to the same cacheable DRAM used for global memory, and there is no performance benefit from using the <em class="filename"> __local</em> qualifier. The additional memory operations to write to LDS, and the associated barrier operations can reduce performance. One notable exception is when local memory is used to pack values to avoid non-coalesced memory patterns.</li>
<li class="FM1bullet"><a name="50401315_pgfId-531414"></a>CPU devices only support a small number of hardware threads, typically two to eight. Small numbers of active work-group sizes reduce the CPU switching overhead, although for larger kernels this is a second-order effect.<a name="50401315_marker-531415"></a></li>
</ul>
<p class="paragraph"><a name="50401315_pgfId-531416"></a>For a balanced solution that runs reasonably well on both devices, developers are encouraged to write the algorithm using float4 vectorization<a name="50401315_marker-531417"></a>. The GPU is more sensitive to algorithm tuning; it also has higher peak performance potential. Thus, one strategy is to target optimizations to the GPU and aim for reasonable performance on the CPU. For peak performance on all devices<a name="50401315_marker-531418"></a>, developers can choose to use conditional compilation for key code loops in the kernel, or in some cases even provide two separate kernels. Even with device-specific kernel optimizations, the surrounding host code for allocating memory, launching kernels, and interfacing with the rest of the program generally only needs to be written once.</p>
<p class="paragraph"><a name="50401315_pgfId-531420"></a>Another approach is to leverage a CPU-targeted<a name="50401315_marker-531419"></a> routine written in a standard high-level language, such as C++. In some cases, this code path may already exist for platforms that do not support an OpenCL device. The program uses OpenCL for GPU devices, and the standard routine for CPU devices. Load-balancing between devices can still leverage the techniques described in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_25230">See Partitioning Work for Multiple Devices</a>.</p>
</div>
<div>
<h6 class="head2"><a name="50401315_pgfId-531424"></a>Contexts and Devices</h6>
<p class="paragraph"><a name="50401315_pgfId-531427"></a><a name="50401315_marker-531425"></a>The AMD OpenCL program creates at least one context<a name="50401315_marker-531426"></a>, and each context can contain multiple devices. Thus, developers must choose whether to place all devices in the same context or create a new context for each device<a name="50401315_marker-531428"></a>. Generally, it is easier to extend a <a name="50401315_marker-533500"></a>context to support additional devices rather than duplicating the context for each device: buffers are allocated at the context level (and automatically across all devices), programs are associated with the context, and kernel compilation (via <em class="filename"> clBuildProgram</em> ) can easily be done for all devices in a context. However, with current OpenCL implementations, creating a separate <a name="50401315_marker-533501"></a>context for each device provides more flexibility, especially in that buffer allocations can be targeted to occur on specific devices. Generally, placing the devices in the same context is the preferred solution.<a name="50401315_marker-531429"></a></p>
<ol>
<li class="chapter"><a name="50401334_pgfId-412605"></a><a name="50401334_18986"></a><br>
OpenCL Performance and Optimization for GCN Devices</li>
</ol>
<p class="paragraph"><a name="50401334_pgfId-442672"></a>This chapter discusses <a name="50401334_marker-442668"></a>performance and <a name="50401334_marker-490476"></a>optimization when programming for AMD Accelerated Parallel Processing GPU<a name="50401334_marker-490495"></a> <a name="50401334_marker-490528"></a>compute devices that are based on the Graphic Core Next (GCN) architecture (such as the Southern Islands devices and Kabini APUs), as well as CPUs<a name="50401334_marker-490548"></a><a name="50401334_marker-490535"></a><a name="50401334_marker-490575"></a> and multiple devices.<a name="50401334_marker-490553"></a><a name="50401334_marker-490560"></a><a name="50401334_marker-490580"></a> Details specific to the Evergreen and Northern Islands families of GPUs are provided in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_18986">See OpenCL Performance and Optimization for Evergreen and Northern Islands Devices</a></p>
</div>
</div>
<div>
<h6 class="head1"><a name="50401334_pgfId-472054"></a><a name="50401334_90380"></a>Global Memory Optimization</h6>
<p class="paragraph"><a name="50401334_pgfId-538212"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_33541">See Memory System</a> is a block diagram of the <a name="50401334_marker-538211"></a>GPU memory system. The up arrows are read paths, the down arrows are write paths. WC is the write combine<a name="50401334_marker-538213"></a> cache.<a name="50401334_marker-538214"></a></p>
</div>
<div>
<h6 class="anchor34"><a name="50401334_pgfId-538218"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-22.gif" alt=""></div>
<div>
<h6 class="figure"><a name="50401334_pgfId-538220"></a><a name="50401334_33541"></a>Memory System</h6>
<p class="paragraph"><a name="50401334_pgfId-537174"></a>The GPU consists of multiple compute units<a name="50401334_marker-537173"></a>. Each compute unit (CU) contains local (on-chip) memory, L1 cache, registers, and <a name="50401334_marker-537654"></a>four SIMDs. Each SIMD consists of 16 processing element (PEs). Individual work-items execute on a single processing element<a name="50401334_marker-537175"></a>; one or more work-groups execute on a single compute unit<a name="50401334_marker-537176"></a>. On a GPU, hardware schedules groups of work-items<a name="50401334_marker-537177"></a>, called wavefronts, onto compute units; thus, <a name="50401334_marker-537655"></a>work-items within a wavefront execute in lock-step; the same instruction is executed on different data.</p>
<p class="paragraph"><a name="50401334_pgfId-526911"></a>Each <a name="50401334_marker-537656"></a>compute unit contains 64 kB local memory, 16 kB of read/write L1 cache, four vector units, and one scalar unit. The maximum local memory allocation is 32 kB per work-group. Each vector unit contains 512 scalar registers (SGPRs) for handling branching, constants, and other data constant across a wavefront. Vector units also contain 256 vector registers (VGPRs). VGPRs actually are scalar registers, but they are replicated across the whole wavefront. Vector units contain 16 processing elements (PEs). Each PE is scalar.</p>
<p class="paragraph"><a name="50401334_pgfId-526913"></a>Since the L1 cache is 16 kB per compute unit, the total L1 cache size is<br>
16 kB * (# of compute units). For the <a name="50401334_marker-537749"></a>AMD Radeon<em class="superscript"> ™</em> HD 7970, this means a total of 512 kB L1 cache. L1 bandwidth can be computed as:</p>
<p class="paragraph"><a name="50401334_pgfId-526914"></a>L1 peak bandwidth = Compute Units * (4 threads/clock) * (128 bits per thread) *<br>
(1 byte / 8 bits) * Engine Clock</p>
<p class="paragraph"><a name="50401334_pgfId-526916"></a>For the <a name="50401334_marker-537827"></a>AMD Radeon<em class="superscript"> </em> HD 7970, this is ~1.9 TB/s.</p>
<p class="paragraph"><a name="50401334_pgfId-474522"></a>If two memory access requests are directed to the same controller, the hardware serializes the access. This is called a channel conflict<a name="50401334_marker-490794"></a>. Similarly, if two memory access requests go to the same memory bank, hardware serializes the access. This is called a bank conflict<a name="50401334_marker-490797"></a>. From a developer’s point of view, there is not much difference between channel and bank conflicts<a name="50401334_marker-491852"></a>. Often, a large power of two stride results in a channel conflict. The size of the power of two stride that causes a specific type of conflict depends on the chip. A stride that results in a channel conflict on a machine with eight channels might result in a bank conflict on a machine with four.</p>
<p class="paragraph"><a name="50401334_pgfId-472078"></a>In this document, the term bank conflict is used to refer to either kind of conflict.</p>
</div>
<div>
<h6 class="head2"><a name="50401334_pgfId-472173"></a>Channel Conflicts</h6>
<p class="paragraph"><a name="50401334_pgfId-492063"></a>The important concept is memory stride<a name="50401334_marker-492062"></a>: the increment in memory address, measured in elements, between successive elements fetched or stored by consecutive work-items in a kernel. Many important kernels do not exclusively use simple stride one accessing patterns; instead, they feature large non-unit strides<a name="50401334_marker-492071"></a>. For instance, many codes perform similar operations on each dimension of a two- or three-dimensional array. Performing computations on the low dimension can often be done with unit stride<a name="50401334_marker-492072"></a>, but the strides of the computations in the other dimensions are typically large values. This can result in significantly degraded performance when the <a name="50401334_marker-537657"></a>codes are ported unchanged to GPU systems. A CPU with caches presents the same problem, large power-of-two strides force data into only a few cache lines.</p>
<p class="paragraph"><a name="50401334_pgfId-472175"></a>One solution is to rewrite the code to employ array transpositions<a name="50401334_marker-490875"></a> between the kernels. This allows all computations to be done at unit stride<a name="50401334_marker-490868"></a>. Ensure that the time required for the transposition is relatively small compared to the time to perform the kernel calculation.</p>
<p class="paragraph"><a name="50401334_pgfId-472176"></a>For many kernels, the reduction in performance is sufficiently large that it is worthwhile to try to understand and solve this problem.</p>
<p class="paragraph"><a name="50401334_pgfId-472177"></a>In GPU programming, it is best to have adjacent work-items read or write adjacent memory addresses<a name="50401334_marker-491895"></a>. This is one way to avoid channel conflicts. <a name="50401334_marker-490869"></a></p>
<p class="paragraph"><a name="50401334_pgfId-472178"></a>When the application has complete control of the access pattern and address generation, the developer must arrange the data structures<a name="50401334_marker-490870"></a> to minimize bank conflicts. Accesses that differ in the lower bits can run in parallel; those that differ only in the upper bits can be serialized.</p>
<p class="paragraph"><a name="50401334_pgfId-472179"></a>In this example:</p>
<p class="code"><a name="50401334_pgfId-472180"></a>for (ptr=base; ptr&lt;max; ptr += 16KB)</p>
<p class="code"><a name="50401334_pgfId-472181"></a> R0 = *ptr ;</p>
<p class="code"><a name="50401334_pgfId-472182"></a></p>
<p class="paragraph"><a name="50401334_pgfId-472183"></a>where the lower bits are all the same, the memory requests all access the same bank on the same channel and are processed serially.<a name="50401334_marker-514868"></a></p>
<p class="paragraph"><a name="50401334_pgfId-472184"></a>This is a low-performance <a name="50401334_marker-537658"></a>pattern to be avoided. When the stride is a power of 2 (and larger than the channel interleave), the loop above only accesses one channel of memory.</p>
<p class="paragraph"><a name="50401334_pgfId-472255"></a>The hardware byte address bits are:</p>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-23.gif" alt=""></div>
<ul>
<li class="FM1bullet"><a name="50401334_pgfId-530708"></a>On all <a name="50401334_marker-537755"></a>AMD Radeon<em class="superscript"> </em> HD 79XX-series GPUs, there are 12 <a name="50401334_marker-537662"></a>channels. A <a name="50401334_marker-537660"></a>crossbar distributes the load to the appropriate memory channel. Each <a name="50401334_marker-537659"></a>memory channel has a read/write global L2 cache, with 64 kB per channel. The cache line size is 64 bytes.</li>
</ul>
<p class="FM1bullet-cont"><a name="50401334_pgfId-536061"></a>Because 12 channels are not a part of the power of two memory and bank channel <a name="50401334_marker-537661"></a>addressing, this is not straightforward for the <a name="50401334_marker-537758"></a>AMD Radeon<em class="superscript"> </em> HD 79XX series. The memory channels are grouped in four quadrants, each which consisting of three channels. Bits 8, 9, and 10 of the address select a “virtual pipe.” The top two bits of this pipe select the quadrant; then, the channel within the quadrant is selected using the low bit of the pipe and the row and bank address modulo three, according to the following conditional equation.</p>
<p class="code"><a name="50401334_pgfId-536115"></a> If (({ row, bank} %3) == 1)</p>
<p class="code"><a name="50401334_pgfId-536116"></a> channel_within_quadrant = 1</p>
<p class="code"><a name="50401334_pgfId-536117"></a> else</p>
<p class="code"><a name="50401334_pgfId-536118"></a> channel_within_quadrant = 2 * pipe[0]
</p><p class="FM1bullet-cont"><a name="50401334_pgfId-536073"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_19750">See Channel Remapping/Interleaving</a> illustrates the <a name="50401334_marker-537663"></a>memory channel mapping.</p>
<div>
<h6 class="anchor"><a name="50401334_pgfId-536074"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-24.gif" alt=""></div>
</div>
<div>
<h6 class="figure"><a name="50401334_pgfId-536233"></a><a name="50401334_19750"></a>Channel Remapping/Interleaving</h6>
<p class="FM1bullet-cont"><a name="50401334_pgfId-537763"></a>Note that an increase of the address by 2048 results in a 1/3 probability the same channel is hit; increasing the address by 256 results in a 1/6 probability the same channel is hit, etc.</p>
<p class="paragraph"><a name="50401334_pgfId-530736"></a>On <a name="50401334_marker-537770"></a>AMD Radeon<em class="superscript"> </em> HD 78XX GPUs, the channel selection are bits 10:8 of the byte address. For the <a name="50401334_marker-537771"></a>AMD Radeon<em class="superscript"> </em> HD 77XX, the channel selection are bits 9:8 of the byte address. This means a linear burst switches channels every 256 bytes. Since the wavefront size is 64, channel conflicts are avoided if each work-item in a wave reads a different address from a 64-word region. All <a name="50401334_marker-537776"></a>AMD Radeon<em class="superscript"> </em> HD 7XXX series GPUs have the same layout: channel ends at bit 8, and the memory bank is to the left of the channel.</p>
<p class="paragraph"><a name="50401334_pgfId-527902"></a>For <a name="50401334_marker-537779"></a>AMD Radeon<em class="superscript"> </em> HD 77XX and <a name="50401334_marker-537780"></a>78XX GPUs, a burst<a name="50401334_marker-527901"></a> of 2 kB (# of channels * 256 bytes) cycles through all the channels.</p>
<p class="paragraph"><a name="50401334_pgfId-530759"></a>For AMD Radeon<em class="superscript"> </em> HD 77XX and 78XX GPUs, when calculating an address as y*width+x, but reading a burst on a column (incrementing y), only one memory channel of the system is used, since the width is likely a multiple of 256 words = 2048 bytes. If the width is an odd multiple of 256B, then it cycles through all channels.</p>
<p class="paragraph"><a name="50401334_pgfId-530761"></a>If every <a name="50401334_marker-537666"></a>work-item in a work-group references consecutive memory addresses and the address of work-item 0 is aligned to 256 bytes and each work-item fetches 32 bits, the entire <a name="50401334_marker-537667"></a>wavefront accesses one channel. Although this seems slow, it actually is a fast pattern because it is necessary to consider the memory access over the entire device, not just a single wavefront.</p>
<p class="paragraph"><a name="50401334_pgfId-528405"></a>One or more work-groups execute on each compute unit. On the AMD Radeon<em class="superscript"> </em> HD 7000-series GPUs, <a name="50401334_marker-537668"></a>work-groups are dispatched in a linear order, with x changing most rapidly. For a single dimension, this is:</p>
<p class="paragraph"><a name="50401334_pgfId-472267"></a>DispatchOrder = <em class="filename"> get_group_id(0)</em></p>
<p class="paragraph"><a name="50401334_pgfId-472268"></a>For two dimensions, this is:</p>
<p class="paragraph"><a name="50401334_pgfId-472269"></a>DispatchOrder = <em class="filename"> get_group_id(0) + get_group_id(1) * get_num_groups(0)</em></p>
<p class="paragraph"><a name="50401334_pgfId-472270"></a>This is row-major-ordering of the blocks in the index space. Once all compute units are in use, additional <a name="50401334_marker-537665"></a>work-groups are assigned to compute units as needed. Work-groups retire in order<a name="50401334_marker-514896"></a>, so active work-groups are contiguous.</p>
<p class="paragraph"><a name="50401334_pgfId-472271"></a>At any time, each compute unit is executing an instruction from a single wavefront. In memory intensive kernels, it is likely that the instruction is a memory access. Since there are 12 channels<a name="50401334_marker-514897"></a> on the <a name="50401334_marker-537784"></a>AMD Radeon<em class="superscript"> </em> HD 7970 GPU, at most 12 of the compute units can issue a memory access operation in one cycle. It is most efficient if the accesses from 12 <a name="50401334_marker-537669"></a>wavefronts go to different channels. One way to achieve this is for each wavefront to access consecutive groups of 256 = 64 * 4 bytes. Note, as shown in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_19750">See Channel Remapping/Interleaving</a>, fetching 256 * 12 bytes in a row does not always cycle through all channels.</p>
<p class="paragraph"><a name="50401334_pgfId-472272"></a>An inefficient access pattern<a name="50401334_marker-514898"></a> is if each wavefront accesses all the channels. This is likely to happen if consecutive work-items access data that has a large power of two strides.</p>
<p class="paragraph"><a name="50401334_pgfId-479533"></a>In the next example of a kernel for copying, the input and output buffers are interpreted as though they were 2D, and the work-group size is organized as 2D.</p>
<p class="paragraph"><a name="50401334_pgfId-479544"></a>The kernel code is:</p>
<p class="code"><a name="50401334_pgfId-472284"></a>#define WIDTH 1024</p>
<p class="code"><a name="50401334_pgfId-472285"></a>#define DATA_TYPE float</p>
<p class="code"><a name="50401334_pgfId-472286"></a>#define A(y , x ) A[ (y) * WIDTH + (x ) ]
</p><p class="code"><a name="50401334_pgfId-472287"></a>#define C(y , x ) C[ (y) * WIDTH+(x ) ]
</p><p class="code"><a name="50401334_pgfId-472288"></a>kernel void copy_float (__global const</p>
<p class="code"><a name="50401334_pgfId-472289"></a> DATA_TYPE * A,</p>
<p class="code"><a name="50401334_pgfId-472290"></a> __global DATA_TYPE* C)</p>
<p class="code"><a name="50401334_pgfId-472291"></a>{</p>
<p class="code"><a name="50401334_pgfId-472292"></a> int idx = get_global_id(0);</p>
<p class="code"><a name="50401334_pgfId-472293"></a> int idy = get_global_id(1);</p>
<p class="code"><a name="50401334_pgfId-472294"></a> C(idy, idx) = A( idy, idx);</p>
<p class="code"><a name="50401334_pgfId-472295"></a>}</p>
<p class="code"><a name="50401334_pgfId-472296"></a></p>
<p class="paragraph"><a name="50401334_pgfId-472297"></a>By changing the width, the data type and the work-group dimensions, we get a set of kernels<a name="50401334_marker-514899"></a> out of this code.</p>
<p class="paragraph"><a name="50401334_pgfId-472298"></a>Given a 64×1 work-group size, each work-item reads a consecutive 32-bit address. Given a 1×64 work-group size, each work-item reads a value separated by the width in a power of two bytes.</p>
<p class="paragraph"><a name="50401334_pgfId-472332"></a>To avoid power of two strides:<a name="50401334_marker-514870"></a></p>
<ul>
<li class="FM1bullet"><a name="50401334_pgfId-472333"></a>Add an extra column to the data matrix.</li>
<li class="FM1bullet"><a name="50401334_pgfId-472337"></a>Change the work-group size so that it is not a power of 2<a class="footnote" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#pgfId-472336">2</a>.</li>
<li class="FM1bullet"><a name="50401334_pgfId-472338"></a>It is best to use a width that causes a rotation through all of the memory channels, instead of using the same one repeatedly.</li>
<li class="FM1bullet"><a name="50401334_pgfId-472339"></a>Change the kernel to access the matrix with a staggered offset.</li>
</ul>
</div>
</div>
</div>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-472340"></a>Staggered Offsets</h2>
<p class="paragraph"><a name="50401334_pgfId-472341"></a>Staggered offsets<a name="50401334_marker-490876"></a> apply a coordinate transformation to the kernel so that the data is processed in a different order<a name="50401334_marker-490877"></a>. Unlike adding a column, this technique does not use extra space. It is also relatively simple to add to existing code.</p>
<p class="paragraph"><a name="50401334_pgfId-513543"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_65362">See Transformation to Staggered Offsets</a> illustrates the transformation to staggered offsets.<a name="50401334_marker-514873"></a></p>
<div>
<h6 class="anchor34"><a name="50401334_pgfId-513547"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-25.gif" alt=""></div>
<div>
<h6 class="figure"><a name="50401334_pgfId-513550"></a><a name="50401334_65362"></a>Transformation to Staggered Offsets<a name="50401334_marker-513549"></a></h6>
<p class="paragraph"><a name="50401334_pgfId-472342"></a>The global ID values reflect the order that the hardware initiates work-groups. The values of get group ID<a name="50401334_marker-514901"></a> are in ascending launch order.<a name="50401334_marker-514900"></a></p>
<p class="paragraph"><a name="50401334_pgfId-472343"></a><em class="filename"> global_id(0) = get_group_id(0) * get_local_size(0) + get_local_id(0)<br>
global_id(1) = get_group_id(1) * get_local_size(1) + get_local_id(1)</em></p>
<p class="paragraph"><a name="50401334_pgfId-472345"></a>The hardware launch order is fixed, but it is possible to change the launch order, as shown in the following example.<a name="50401334_marker-514875"></a></p>
<p class="paragraph"><a name="50401334_pgfId-472346"></a>Assume a work-group size of k x k, where k is a power of two, and a large 2D matrix of size 2n x 2m in row-major order. If each work-group<a name="50401334_marker-514902"></a> must process a block in column-order, the launch order does not work out correctly: consecutive work-groups execute down the columns, and the columns are a large power-of-two apart; so, consecutive work-groups access the same channel.</p>
<p class="paragraph"><a name="50401334_pgfId-472347"></a>By introducing a transformation, it is possible to stagger the work-groups<a name="50401334_marker-490878"></a> to avoid channel conflicts<a name="50401334_marker-490880"></a>. Since we are executing 2D work-groups, each work group is identified by four numbers.<a name="50401334_marker-514906"></a></p>
<div>
<h6 class="number1"><a name="50401334_pgfId-472348"></a><em class="filename"> get_group_id(0) </em> – the x coordinate or the block within the column of the matrix.</h6>
<ol>
<li class="number1-"><a name="50401334_pgfId-472349"></a><em class="filename"> get_group_id(1</em> ) – the y coordinate or the block within the row of the matrix.</li>
<li class="number1-"><a name="50401334_pgfId-472350"></a><em class="filename"> get_global_id(0)</em> – the x coordinate or the column of the matrix.</li>
<li class="number1-"><a name="50401334_pgfId-472351"></a><em class="filename"> get_global_id(1)</em> – the y coordinate or the row of the matrix.</li>
</ol>
<p class="paragraph"><a name="50401334_pgfId-472362"></a>To transform the code, add the following four lines to the top of the kernel.</p>
<p class="code"><a name="50401334_pgfId-472363"></a>get_group_id_0 = get_group_id(0);</p>
<p class="code"><a name="50401334_pgfId-472364"></a>get_group_id_1 = (get_group_id(0) + get_group_id(1)) % get_local_size(0);</p>
<p class="code"><a name="50401334_pgfId-472365"></a>get_global_id_0 = get_group_id_0 * get_local_size(0) + get_local_id(0);</p>
<p class="code"><a name="50401334_pgfId-472366"></a>get_global_id_1 = get_group_id_1 * get_local_size(1) + get_local_id(1);</p>
<p class="paragraph"><a name="50401334_pgfId-472367"></a>Then, change the global IDs and group IDs to the staggered form. The result is:</p>
<p class="code"><a name="50401334_pgfId-484355"></a>__kernel void</p>
<p class="code"><a name="50401334_pgfId-484356"></a>copy_float (</p>
<p class="code"><a name="50401334_pgfId-484357"></a> __global const DATA_TYPE * A,</p>
<p class="code"><a name="50401334_pgfId-484358"></a> __global DATA_TYPE * C)</p>
<p class="code"><a name="50401334_pgfId-484359"></a>{</p>
<p class="code"><a name="50401334_pgfId-484360"></a> size_t get_group_id_0 = get_group_id(0);</p>
<p class="code"><a name="50401334_pgfId-484361"></a> size_t get_group_id_1 = (get_group_id(0) + get_group_id(1)) %<br>
get_local_size(0);</p>
<p class="code"><a name="50401334_pgfId-484362"></a></p>
<p class="code"><a name="50401334_pgfId-484363"></a> size_t get_global_id_0 = get_group_id_0 * get_local_size(0) +<br>
get_local_id(0);</p>
<p class="code"><a name="50401334_pgfId-484364"></a> size_t get_global_id_1 = get_group_id_1 * get_local_size(1) +<br>
get_local_id(1);</p>
<p class="code"><a name="50401334_pgfId-484365"></a></p>
<p class="code"><a name="50401334_pgfId-484366"></a> int idx = get_global_id_0; //changed to staggered form</p>
<p class="code"><a name="50401334_pgfId-484367"></a> int idy = get_global_id_1; //changed to staggered form</p>
<p class="code"><a name="50401334_pgfId-484368"></a></p>
<p class="code"><a name="50401334_pgfId-484369"></a> C(idy , idx) = A( idy , idx);</p>
<p class="code"><a name="50401334_pgfId-472384"></a>}</p>
</div>
</div>
</div>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-472385"></a>Reads Of The Same Address</h2>
<p class="paragraph"><a name="50401334_pgfId-472386"></a>Under certain conditions, one unexpected case of a channel conflict is that reading from the same address is a conflict, even on the <a name="50401334_marker-514878"></a>FastPath.<a name="50401334_marker-490882"></a><a name="50401334_marker-491910"></a></p>
<p class="paragraph"><a name="50401334_pgfId-472387"></a>This does not happen on the read-only memories, such as constant buffers, textures, or shader resource view (SRV)<a name="50401334_marker-514876"></a>; but it is possible on the read/write UAV memory or OpenCL global memory.<a name="50401334_marker-514912"></a></p>
<p class="paragraph"><a name="50401334_pgfId-472388"></a>From a hardware standpoint, <a name="50401334_marker-537670"></a>reads from a fixed address have the same upper bits, so they collide and are serialized. To read in a single value<a name="50401334_marker-514907"></a>, read the value in a single work-item, place it in local memory, and then use that location:</p>
<p class="paragraph"><a name="50401334_pgfId-472389"></a>Avoid:</p>
<p class="code"><a name="50401334_pgfId-472390"></a> temp = input[3] // if input is from global space</p>
<p class="paragraph"><a name="50401334_pgfId-472391"></a>Use:</p>
<p class="code"><a name="50401334_pgfId-472392"></a> if (get_local_id(0) == 0) {</p>
<p class="code"><a name="50401334_pgfId-472393"></a> local = input[3]
</p><p class="code"><a name="50401334_pgfId-472394"></a> }</p>
<p class="code"><a name="50401334_pgfId-472395"></a> barrier(CLK_LOCAL_MEM_FENCE);</p>
<p class="code"><a name="50401334_pgfId-472396"></a> temp = local</p>
<div>
<h6 class="head2"><a name="50401334_pgfId-472466"></a>Coalesced Writes</h6>
<p class="paragraph"><a name="50401334_pgfId-528549"></a>Southern Island devices do not support coalesced writes; however, continuous addresses within work-groups provide maximum performance.</p>
<p class="paragraph"><a name="50401334_pgfId-472468"></a>Each compute unit accesses the memory system<a name="50401334_marker-490891"></a> in quarter-wavefront units<a name="50401334_marker-490890"></a>. The compute unit transfers a 32-bit address and one element-sized piece of data for each work-item. This results in a total of 16 elements + 16 addresses per quarter-wavefront. On GCN-based devices, processing quarter-wavefront requires two cycles before the data is transferred to the memory controller.</p>
</div>
<div>
<h6 class="head1"><a name="50401334_pgfId-481974"></a><a name="50401334_21250"></a>Local Memory (LDS) Optimization</h6>
<p class="paragraph"><a name="50401334_pgfId-481975"></a>AMD Southern Islands GPUs include a Local Data Store (LDS) cache, which accelerates local memory accesses<a name="50401334_marker-490903"></a>. LDS provides high-bandwidth access (more than 10X higher than global memory), efficient data transfers between work-items in a work-group, and high-performance atomic support. <a name="50401334_marker-537672"></a>LDS is much faster than L1 cache access as it has twice the peak bandwidth and far lower latency. Additionally, using LDS memory can reduce global memory bandwidth usage. Local memory offers significant advantages when the data is re-used; for example, subsequent accesses can read from local memory, thus reducing global memory bandwidth. Another advantage is that local memory does not require coalescing.</p>
<p class="paragraph"><a name="50401334_pgfId-481976"></a>To determine local memory size<a name="50401334_marker-490912"></a>:</p>
<p class="code"><a name="50401334_pgfId-481977"></a>clGetDeviceInfo( …, CL_DEVICE_LOCAL_MEM_SIZE, … );</p>
<p class="paragraph"><a name="50401334_pgfId-531626"></a>All AMD Southern Islands GPUs<a name="50401334_marker-531625"></a> contain a 64 kB LDS for each compute unit; although only 32 kB can be allocated per work-group. The LDS contains 32-banks<a name="50401334_marker-531627"></a>, each bank is four bytes wide and 256 bytes deep; the bank address is determined by bits 6:2 in the address. As shown below, programmers must carefully control the bank bits to avoid bank conflicts<a name="50401334_marker-531631"></a> as much as possible. Bank conflicts are determined by what addresses are accessed on each half wavefront boundary. Threads 0 through 31 are checked for conflicts as are threads 32 through 63 within a wavefront.</p>
<p class="paragraph"><a name="50401334_pgfId-531632"></a>In a single cycle, local memory can service a request for each bank (up to 32 accesses each cycle on the <a name="50401334_marker-537787"></a>AMD Radeon<em class="superscript"> </em> HD 7970 GPU). For an AMD Radeon<em class="superscript"> </em> HD 7970 GPU<a name="50401334_marker-531633"></a>, this delivers a memory bandwidth of over 100 GB/s for each compute unit, and more than 3.5 TB/s for the whole chip. This is more than 14X the global memory bandwidth. However, <a name="50401334_marker-537673"></a>accesses that map to the same bank are serialized and serviced on consecutive cycles. LDS operations do not stall; however, the compiler inserts wait operations prior to issuing operations that depend on the results. A wavefront that generated bank conflicts does not stall implicitly, but may stall explicitly in the kernel if the compiler has inserted a wait command for the outstanding memory access. The GPU reprocesses<a name="50401334_marker-531634"></a> the wavefront on subsequent cycles, enabling only the lanes receiving data, until all the conflicting accesses complete. The bank with the most conflicting accesses determines the latency for the wavefront to complete the local memory operation. The worst case occurs when all 64 work-items map to the same bank, since each access then is serviced at a rate of one per clock cycle; this case takes 64 cycles to complete the local memory access for the wavefront. A program with a large number of bank conflicts<a name="50401334_marker-531635"></a> (as measured by the <em class="filename"> LDSBankConflict</em> performance counter<a name="50401334_marker-531636"></a> in the CodeXL GPU Profiler statistics) might benefit from using the constant or image memory rather than LDS.</p>
<p class="paragraph"><a name="50401334_pgfId-532209"></a>Thus, the key to effectively using the LDS is to control the access pattern, so that accesses generated on the same cycle map to different banks in the LDS. One notable exception is that accesses to the same address (even though they have the same bits 6:2) can be broadcast to all requestors and do not generate a bank conflict. The LDS hardware<a name="50401334_marker-532210"></a> examines the requests generated over two cycles (32 work-items of execution) for bank conflicts. Ensure, as much as possible, that the memory requests generated from a quarter-wavefront avoid bank conflicts by using unique address bits 6:2. A simple sequential address pattern, where each work-item reads a float2 value from LDS, generates a conflict-free access pattern on the <a name="50401334_marker-537791"></a>AMD Radeon<em class="superscript"> </em> HD 7XXX GPU. Note that a <a name="50401334_marker-537675"></a>sequential access pattern, where each work-item reads a float4 value from LDS, uses only half the banks on each cycle on the AMD Radeon<em class="superscript"> </em> HD 7XXX GPU and delivers half the performance of the float access pattern.</p>
<p class="Body"><a name="50401334_pgfId-534916"></a>Each stream processor<a name="50401334_marker-491939"></a> can generate up to two 4-byte LDS requests per cycle. Byte and short reads consume four bytes of LDS bandwidth. Developers can use the large register file: each compute unit has 256 kB of register space available (8X the LDS size) and can provide up to twelve 4-byte values/cycle (6X the LDS bandwidth). Registers do not offer the same indexing flexibility as does the LDS<a name="50401334_marker-491941"></a>, but for some algorithms this can be overcome with loop unrolling and explicit addressing.</p>
<p class="paragraph"><a name="50401334_pgfId-481985"></a>LDS reads require one ALU operation to initiate them<a name="50401334_marker-491942"></a>. Each operation can initiate two loads of up to four bytes each.</p>
<p class="paragraph"><a name="50401334_pgfId-481986"></a>The CodeXL GPU Profiler provides the following performance counter to help optimize local memory usage<a name="50401334_marker-490916"></a>:</p>
<p class="FM1bullet-cont"><a name="50401334_pgfId-481987"></a><em class="filename"> LDSBankConflict</em> :<a name="50401334_marker-491944"></a> The percentage of time accesses to the LDS are stalled due to bank conflicts relative to GPU Time. In the ideal case, there are no bank conflicts in the local memory access, and this number is zero.</p>
<p class="Body"><a name="50401334_pgfId-481989"></a>Local memory is software-controlled “scratchpad” memory<a name="50401334_marker-490917"></a>. In contrast, caches typically used on CPUs monitor the access stream and automatically capture recent accesses in a tagged cache. The scratchpad allows the kernel to explicitly load items into the memory; they exist in local memory until the kernel replaces them, or until the work-group ends. To declare a block of local memory, use the <em class="filename"> __local</em> keyword; for example:</p>
<p class="code"><a name="50401334_pgfId-481990"></a>__local float localBuffer[64]
</p><p class="code"><a name="50401334_pgfId-481991"></a></p>
<p class="paragraph"><a name="50401334_pgfId-481992"></a>These declarations can be either in the parameters to the kernel call or in the body of the kernel. The <em class="filename"> __local</em> syntax<a name="50401334_marker-491949"></a> allocates a single block of memory, which is shared across all work-items in the workgroup.</p>
<p class="paragraph"><a name="50401334_pgfId-481993"></a>To write data into local memory<a name="50401334_marker-490919"></a>, write it into an array allocated with <em class="filename"> __local</em> . For example:</p>
<p class="code"><a name="50401334_pgfId-481994"></a>localBuffer[i] = 5.0;</p>
<p class="code"><a name="50401334_pgfId-481995"></a></p>
<p class="paragraph"><a name="50401334_pgfId-481996"></a>A typical <a name="50401334_marker-537677"></a>access pattern is for each work-item to collaboratively write to the local memory: each work-item writes a subsection, and as the work-items execute in parallel they write the entire array. Combined with proper consideration for the access pattern and bank alignment, these collaborative write approaches can lead to highly efficient <a name="50401334_marker-537679"></a>memory accessing.</p>
<p class="paragraph"><a name="50401334_pgfId-481997"></a>The following example is a simple kernel section<a name="50401334_marker-514914"></a> that collaboratively writes, then reads from, local memory:</p>
<p class="codelong"><a name="50401334_pgfId-481998"></a>__kernel void localMemoryExample (__global float *In, __global float *Out) {</p>
<p class="codelong"><a name="50401334_pgfId-481999"></a> __local float localBuffer[64];</p>
<p class="codelong"><a name="50401334_pgfId-482000"></a> uint tx = get_local_id(0);</p>
<p class="codelong"><a name="50401334_pgfId-482001"></a> uint gx = get_global_id(0);</p>
<p class="codelong"><a name="50401334_pgfId-482002"></a></p>
<p class="codelong"><a name="50401334_pgfId-482003"></a> // Initialize local memory:</p>
<p class="codelong"><a name="50401334_pgfId-482004"></a> // Copy from this work-group’s section of global memory to local:</p>
<p class="codelong"><a name="50401334_pgfId-482005"></a> // Each work-item writes one element; together they write it all</p>
<p class="codelong"><a name="50401334_pgfId-482006"></a> localBuffer[tx] = In[gx];</p>
<p class="codelong"><a name="50401334_pgfId-482007"></a></p>
<p class="codelong"><a name="50401334_pgfId-482008"></a> // Ensure writes have completed:</p>
<p class="codelong"><a name="50401334_pgfId-482009"></a> barrier(CLK_LOCAL_MEM_FENCE);</p>
<p class="codelong"><a name="50401334_pgfId-482010"></a></p>
<p class="codelong"><a name="50401334_pgfId-482011"></a> // Toy computation to compute a partial factorial, shows re-use from local</p>
<p class="codelong"><a name="50401334_pgfId-482012"></a> float f = localBuffer[tx];</p>
<p class="codelong"><a name="50401334_pgfId-482013"></a> for (uint i=tx+1; i&lt;64; i++) {</p>
<p class="codelong"><a name="50401334_pgfId-482014"></a> f *= localBuffer[i];</p>
<p class="codelong"><a name="50401334_pgfId-482015"></a> }</p>
<p class="codelong"><a name="50401334_pgfId-482016"></a> Out[gx] = f;</p>
<p class="codelong"><a name="50401334_pgfId-482017"></a>}</p>
<p class="codelong"><a name="50401334_pgfId-482018"></a></p>
<p class="paragraph"><a name="50401334_pgfId-482019"></a>Note the host code cannot read from, or write to, local memory. Only the kernel can access local memory.<a name="50401334_marker-514915"></a></p>
<p class="paragraph"><a name="50401334_pgfId-487530"></a>Local memory is consistent across work-items only at a work-group barrier; thus, before reading the values written collaboratively, the kernel must include a <em class="filename"> barrier()</em> instruction. An important optimization<a name="50401334_marker-490923"></a> is the case where the local work-group size is less than, or equal to, the wavefront size. Because the wavefront executes as an atomic unit<a name="50401334_marker-514916"></a>, the explicit barrier operation is not required. The compiler automatically removes these barriers if the kernel specifies a <em class="filename"> reqd_work_group_size</em> <a name="50401334_marker-491951"></a>(see section 5.8 of the OpenCL Specification) that is less than the wavefront size. Developers are strongly encouraged to include the barriers where appropriate, and rely on the compiler<a name="50401334_marker-491952"></a> to remove the barriers when possible, rather than manually removing the <em class="filename"> barriers()</em> . This technique results in more portable code, including the ability to run kernels on CPU devices.</p>
</div>
<div>
<h6 class="head1"><a name="50401334_pgfId-448213"></a><a name="50401334_marker-537681"></a>Constant Memory Optimization</h6>
<p class="paragraph"><a name="50401334_pgfId-475404"></a>Constants (data from read-only buffers shared by a wavefront) are loaded to SGPRs from memory through the L1 (and L2) cache using scalar memory read instructions. The scalar instructions can use up to two SGPR sources per cycle; vector instructions can use one SGPR source per cycle. (There are 512 SGPRs per SIMD, 4 SIMDs per CU; so a 32 CU configuration like Tahiti has 256 kB of SGPRs.)</p>
<p class="paragraph"><a name="50401334_pgfId-535711"></a>Southern Islands hardware supports specific <a name="50401334_marker-537680"></a>inline literal constants. These constants are “free” in that they do not increase code size:</p>
<p class="paragraph"><a name="50401334_pgfId-535820"></a>0<br>
integers 1.. 64<br>
integers -1 .. -16<br>
0.5 single or double floats<br>
-0.5<br>
1.0<br>
-1.0<br>
2.0<br>
-2.0<br>
4.0<br>
-4.0</p>
<p class="paragraph"><a name="50401334_pgfId-535724"></a>Any other <a name="50401334_marker-537683"></a>literal constant increases the code size by at least 32 bits.</p>
<p class="paragraph"><a name="50401334_pgfId-535934"></a>The AMD implementation of OpenCL provides three levels of performance for the “constant” memory type.<a name="50401334_marker-535725"></a></p>
<div>
<h6 class="number1"><a name="50401334_pgfId-535380"></a>Simple Direct-Addressing Patterns<a name="50401334_marker-490925"></a></h6>
<p class="number1-cont"><a name="50401334_pgfId-538273"></a>Very high bandwidth can be attained when the compiler has available the constant address at compile time and can embed the <a name="50401334_marker-538274"></a>constant address into the instruction. Each processing element can load up to 4×4-byte direct-addressed constant values each cycle. Typically, these cases are limited to simple non-array constants and function parameters. The executing kernel loads the constants into scalar registers and concurrently populates the constant cache. The constant cache is a tagged cache. Typically each 16 8k cache is shared among four compute units. If the constant data is already present in the constant cache, the load is serviced by the cache and does not require any global memory bandwidth. The constant cache size varies from 4k to 48k per GPU.</p>
<ol>
<li class="number1-"><a name="50401334_pgfId-538279"></a>Same Index<a name="50401334_marker-538278"></a></li>
</ol>
<p class="number1-cont"><a name="50401334_pgfId-450155"></a><a name="50401334_marker-537686"></a>Hardware acceleration also takes place when all work-items in a wavefront reference the same constant address. In this case, the data is loaded from memory one time, stored in the L1 cache, and then broadcast to all wave-fronts. This can reduce significantly the required memory bandwidth.</p>
<ol>
<li class="number1-"><a name="50401334_pgfId-450383"></a>Varying Index<a name="50401334_marker-490937"></a></li>
</ol>
<p class="number1-cont"><a name="50401334_pgfId-450384"></a>More sophisticated addressing patterns, including the case where each work-item accesses different indices, are not hardware accelerated and deliver the same performance as a global memory read with the potential for cache hits.</p>
<p class="paragraph"><a name="50401334_pgfId-448215"></a>To further improve the performance of the AMD OpenCL stack<a name="50401334_marker-490947"></a>, two methods allow users to take advantage of <a name="50401334_marker-537687"></a>hardware constant buffers. These are:</p>
</div>
<div>
<h6 class="number1"><a name="50401334_pgfId-448216"></a>Globally scoped constant arrays<a name="50401334_marker-490948"></a>.<a name="50401334_marker-490950"></a> These arrays are initialized, globally scoped, and in the constant address space (as specified in section 6.5.3 of the OpenCL specification). If the size of an array is below 64 kB, it is placed in hardware constant buffers; otherwise, it uses global memory. An example of this is a lookup table for math functions.</h6>
<ol>
<li class="number1-"><a name="50401334_pgfId-448217"></a>Per-pointer attribute specifying the maximum pointer size.<a name="50401334_marker-490953"></a> <a name="50401334_marker-490964"></a>This is specified using the <em class="filename"> max_constant_size(N)</em> attribute. The attribute form conforms to section 6.10 of the OpenCL 1.0 specification. This attribute is restricted to top-level kernel function arguments in the constant address space. This restriction prevents a pointer of one size from being passed as an argument to a function that declares a different size. It informs the compiler that indices into the pointer remain inside this range and it is safe to allocate a constant buffer in hardware, if it fits. Using a constant pointer that goes outside of this range results in undefined behavior. All allocations are aligned on the 16-byte boundary. For example:</li>
</ol>
<p class="code"><a name="50401334_pgfId-448254"></a>kernel void mykernel(global int* a,</p>
<p class="code"><a name="50401334_pgfId-448255"></a>constant int* b __attribute__((max_constant_size (65536)))</p>
<p class="code"><a name="50401334_pgfId-448256"></a>)</p>
<p class="code"><a name="50401334_pgfId-448257"></a>{</p>
<p class="code"><a name="50401334_pgfId-448258"></a>size_t idx = get_global_id(0);</p>
<p class="code"><a name="50401334_pgfId-448259"></a>a[idx] = b[idx &amp; 0x3FFF];</p>
<p class="code"><a name="50401334_pgfId-448252"></a>}</p>
<p class="code"><a name="50401334_pgfId-448299"></a></p>
<p class="paragraph"><a name="50401334_pgfId-448225"></a>A kernel that uses <a name="50401334_marker-537688"></a>constant buffers must use <em class="filename"> CL_DEVICE_MAX_CONSTANT_ARGS</em> to query the device for the maximum number of constant buffers the kernel can support.<a name="50401334_marker-514917"></a> This value might differ from the maximum number of hardware constant buffers available. In this case, if the number of hardware constant buffers is less than the <em class="filename"> CL_DEVICE_MAX_CONSTANT_ARGS</em> , the compiler allocates the largest constant buffers in hardware first and allocates the rest of the constant buffers in global memory. As an optimization, if a constant pointer A uses n bytes of memory, where n is less than 64 kB, and constant pointer B uses m bytes of memory, where m is less than (64 kB – n) bytes of memory, the compiler can allocate the constant buffer pointers in a single hardware constant buffer. This <a name="50401334_marker-537689"></a>optimization can be applied recursively by treating the resulting allocation as a single allocation and finding the next smallest constant pointer that fits within the space left in the constant buffer.</p>
</div>
</div>
<div>
<h6 class="head1"><a name="50401334_pgfId-449206"></a>OpenCL Memory Resources: Capacity and Performance</h6>
<p class="paragraph"><a name="50401334_pgfId-451813"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_72194">See Hardware Performance Parameters</a> summarizes the hardware capacity and associated performance for the structures associated with the five OpenCL Memory Types<a name="50401334_marker-490974"></a>. This information specific to the AMD Radeon<em class="superscript"> </em> HD 7970 GPUs<a name="50401334_marker-491957"></a> with 3 GB video memory.</p>
<div>
<h6 class="table"><a name="50401334_pgfId-474734"></a><a name="50401334_72194"></a>Hardware Performance Parameters</h6>
<table>
<tbody>
<tr>
<td colspan="1" rowspan="2">
<p class="tablehead-center"><a name="50401334_pgfId-474635"></a>OpenCL Memory Type</p>
</td>
<td colspan="1" rowspan="2">
<p class="tablehead-center"><a name="50401334_pgfId-474637"></a>Hardware Resource</p>
</td>
<td colspan="1" rowspan="2">
<p class="tablehead-center"><a name="50401334_pgfId-474639"></a>Size/CU</p>
</td>
<td colspan="1" rowspan="2">
<p class="tablehead-center"><a name="50401334_pgfId-474641"></a>Size/GPU</p>
</td>
<td colspan="1" rowspan="2">
<p class="tablehead-center"><a name="50401334_pgfId-474643"></a>Peak Read Bandwidth/ Stream Core</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474655"></a>Private</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474657"></a>GPRs</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474659"></a>256k</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474661"></a>8192k</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474663"></a>12 bytes/cycle</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474665"></a>Local</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474667"></a>LDS</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474669"></a>64k</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474671"></a>2048k</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474673"></a>8 bytes/cycle</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="3">
<p class="tablebody1"><a name="50401334_pgfId-474675"></a>Constant</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474677"></a>Direct-addressed constant</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474679"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474681"></a>48k</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474683"></a>4 bytes/cycle</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474687"></a>Same-indexed constant</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474689"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474691"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474693"></a>4 bytes/cycle</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474697"></a>Varying-indexed constant</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474699"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474701"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474703"></a>~0.14 bytes/cycle</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="3">
<p class="tablebody1"><a name="50401334_pgfId-474705"></a>Images</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474707"></a>L1 Cache</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474709"></a>16k</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474711"></a>512k<a class="footnote" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#pgfId-527092">3</a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474713"></a>1 bytes/cycle</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474717"></a>L2 Cache</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474719"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474721"></a>768<a class="footnote" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#pgfId-527103">4</a>k</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474723"></a>~0.4 bytes/cycle</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474727"></a>Global Memory</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474729"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474731"></a>3G</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-474733"></a>~0.14 bytes/cycle</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401334_pgfId-478147"></a>The compiler tries to map private memory allocations<a name="50401334_marker-490975"></a> to the pool of GPRs<a name="50401334_marker-491961"></a> in the GPU. In the event GPRs are not available, private memory is mapped to the “scratch” region, which has the same performance as global memory. <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_40175">See Resource Limits on Active Wavefronts</a>, has more information on register allocation and identifying when the compiler uses the scratch region. <a name="50401334_marker-537690"></a>GPRs provide the highest-bandwidth access of any hardware resource. In addition to reading up to 12 bytes/cycle per processing element from the register file, the hardware can access results produced in the previous cycle without consuming any register file bandwidth.</p>
<p class="paragraph"><a name="50401334_pgfId-451919"></a>Same-indexed constants can be cached<a name="50401334_marker-490976"></a> in the L1 and L2 cache. Note that “same-indexed” refers to the case where all work-items in the wavefront reference the same constant index on the same cycle. The performance shown assumes an L1 cache hit.</p>
<p class="paragraph"><a name="50401334_pgfId-451920"></a>Varying-indexed constants<a name="50401334_marker-514918"></a>, which are cached only in L2, use the same path as global memory access and are subject to the same bank and alignment constraints described in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_90380">See Global Memory Optimization</a>.</p>
<p class="paragraph"><a name="50401334_pgfId-451921"></a>The L1 and L2 read/write caches<a name="50401334_marker-490977"></a> are constantly enabled. As of SDK 2.4, read only buffers can be cached in L1 and L2.</p>
<p class="paragraph"><a name="50401334_pgfId-451922"></a>The L1 cache can service up to four address requests per cycle, each delivering up to 16 bytes. The bandwidth shown assumes an access size of 16 bytes; smaller access sizes/requests result in a lower peak bandwidth for the L1 cache. Using float4 with images increases the request size and can deliver higher L1 cache bandwidth.</p>
<p class="paragraph"><a name="50401334_pgfId-451923"></a>Each memory channel<a name="50401334_marker-491966"></a> on the GPU contains an L2 cache that can deliver up to 64 bytes/cycle. The AMD Radeon<em class="superscript"> </em> HD 7970 GPU<a name="50401334_marker-491967"></a> has 12 memory channels; thus, it can deliver up to 768 bytes/cycle; divided among 2048 stream cores, this provides up to ~0.4 bytes/cycle for each stream core.</p>
<p class="paragraph"><a name="50401334_pgfId-451924"></a>Global Memory bandwidth<a name="50401334_marker-490978"></a> is limited by external pins, not internal bus bandwidth. The AMD Radeon<em class="superscript"> </em> HD 7970 GPU<a name="50401334_marker-491969"></a> supports up to 264 GB/s of memory bandwidth which is an average of 0.14 bytes/cycle for each stream core.</p>
<p class="paragraph"><a name="50401334_pgfId-538465"></a>Note that <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_72194">See Hardware Performance Parameters</a> shows the performance for the <a name="50401334_marker-538464"></a>AMD Radeon<em class="superscript"> </em> HD 7970 GPU. The “Size/Compute Unit” column and many of the bandwidths/processing element apply to all Southern Islands-class GPUs; however, the “Size/GPU” column and the bandwidths for varying-indexed constant, L2, and global memory vary across different GPU devices.</p>
</div>
</div>
<div>
<h6 class="head1"><a name="50401334_pgfId-538469"></a>Using LDS or L1 Cache</h6>
<p class="paragraph"><a name="50401334_pgfId-487797"></a>There are a number of considerations when deciding between LDS and L1 cache for a given algorithm.<a name="50401334_marker-490979"></a></p>
<p class="paragraph"><a name="50401334_pgfId-487799"></a>LDS supports read/modify/write operations, as well as atomics. It is well-suited for code that requires fast read/write, read/modify/write, or scatter operations that otherwise are directed to global memory. On current AMD hardware, L1<a name="50401334_marker-514925"></a> is part of the read path; hence, it is suited to cache-read-sensitive algorithms, such as matrix multiplication or convolution.</p>
<p class="paragraph"><a name="50401334_pgfId-487801"></a>LDS<a name="50401334_marker-514926"></a> is typically larger than L1 (for example: 64 kB vs 16 kB on Southern Islands devices). If it is not possible to obtain a high L1 cache hit rate for an algorithm, the larger LDS size can help. On the <a name="50401334_marker-537801"></a>AMD Radeon<em class="superscript"> </em> HD 7970 device, the theoretical LDS peak bandwidth is 3.8 TB/s, compared to L1 at 1.9 TB/sec.</p>
<p class="paragraph"><a name="50401334_pgfId-488036"></a>The native data type<a name="50401334_marker-490980"></a> for L1 is a four-vector of 32-bit words. On L1, fill and read addressing are linked. It is important that L1 is initially filled from global memory with a coalesced access pattern; once filled, random accesses come at no extra processing cost.</p>
<p class="paragraph"><a name="50401334_pgfId-487805"></a>Currently, the native format of LDS<a name="50401334_marker-490981"></a> is a 32-bit word. The theoretical LDS peak bandwidth is achieved when each thread operates on a two-vector of 32-bit words (16 threads per clock operate on 32 banks). If an algorithm requires coalesced 32-bit quantities, it maps well to <a name="50401334_marker-537691"></a>LDS. The use of four-vectors or larger can lead to bank conflicts, although the compiler can mitigate some of these.</p>
<p class="paragraph"><a name="50401334_pgfId-487807"></a>From an application point of view, filling LDS from global memory<a name="50401334_marker-514928"></a>, and reading from it, are independent operations that can use independent addressing. Thus, LDS can be used to explicitly convert a scattered access pattern to a coalesced pattern for read and write to global memory<a name="50401334_marker-491971"></a>. Or, by taking advantage of the LDS read broadcast feature<a name="50401334_marker-491972"></a>, LDS can be filled with a coalesced pattern from global memory, followed by all threads iterating through the same LDS words simultaneously.</p>
<p class="paragraph"><a name="50401334_pgfId-487811"></a>LDS reuses the data already pulled into cache by other wavefronts. Sharing across work-groups<a name="50401334_marker-491976"></a> is not possible because OpenCL does not guarantee that LDS is in a particular state at the beginning of work-group execution. L1 content, on the other hand, is independent of work-group execution, so that successive work-groups can share the content in the L1 cache of a given Vector ALU<a name="50401334_marker-491977"></a>. However, it currently is not possible to explicitly control L1 sharing across work-groups.</p>
<p class="paragraph"><a name="50401334_pgfId-487813"></a>The use of LDS<a name="50401334_marker-491978"></a> is linked to GPR usage and wavefront-per-Vector ALU count. Better sharing efficiency requires a larger work-group, so that more work-items share the same LDS. Compiling kernels for larger work-groups typically results in increased register use, so that fewer wavefronts can be scheduled simultaneously per Vector ALU. This, in turn, reduces memory latency hiding<a name="50401334_marker-491979"></a>. Requesting larger amounts of LDS per work-group results in fewer wavefronts per Vector ALU, with the same effect.</p>
<p class="paragraph"><a name="50401334_pgfId-487815"></a>LDS typically involves the use of barriers<a name="50401334_marker-490984"></a>, with a potential performance impact. This is true even for read-only use cases, as LDS must be explicitly filled in from global memory (after which a barrier is required before reads can commence).</p>
</div>
<div>
<h6 class="head1"><a name="50401334_pgfId-487709"></a>NDRange and Execution Range Optimization<a name="50401334_marker-492010"></a></h6>
<p class="paragraph"><a name="50401334_pgfId-473707"></a>Probably the most effective way to exploit the potential performance<a name="50401334_marker-490985"></a> of the GPU is to provide enough threads<a name="50401334_marker-491983"></a> to keep the device completely busy. The programmer specifies a three-dimensional NDRange over which to execute the kernel; bigger problems with larger NDRanges certainly help to more effectively use the machine. The programmer also controls how the global NDRange<a name="50401334_marker-490986"></a> is divided into local ranges, as well as how much work is done in each work-item, and which resources (registers and local memory) are used by the kernel. All of these can play a role in how the work is balanced across the machine<a name="50401334_marker-490987"></a> and how well it is used. This section introduces the concept of latency hiding, how many wavefronts<a name="50401334_marker-491986"></a> are required to hide latency on AMD GPUs, how the resource usage in the kernel can impact the active wavefronts, and how to choose appropriate global and local work-group dimensions.</p>
<div>
<h6 class="head2"><a name="50401334_pgfId-473708"></a>Hiding ALU and Memory Latency</h6>
<p class="paragraph"><a name="50401334_pgfId-473709"></a><a name="50401334_marker-490988"></a>The read-after-write latency for most arithmetic operations (a floating-point add, for example) is only four cycles. For most Southern Island devices, each CU can execute 64 vector ALU instructions per cycle, 16 per wavefront. Also, a wavefront can issue a scalar ALU instruction every four cycles. To achieve peak ALU power, a minimum of four wavefronts must be scheduled for each CU.</p>
<p class="paragraph"><a name="50401334_pgfId-452276"></a>Global memory reads generate a reference to the off-chip memory and experience a latency of 300 to 600 cycles. The wavefront<a name="50401334_marker-491990"></a> that generates the global memory access is made idle until the memory request completes. During this time, the compute unit<a name="50401334_marker-491991"></a> can process other independent wavefronts, if they are available.</p>
<p class="paragraph"><a name="50401334_pgfId-452277"></a>Kernel execution time<a name="50401334_marker-490990"></a> also plays a role in hiding memory latency: longer chains of ALU instructions keep the functional units busy and effectively hide more latency. To better understand this concept, consider a global memory access which takes 400 cycles to execute. Assume the compute unit contains many other wavefronts, each of which performs five ALU instructions<a name="50401334_marker-514930"></a> before generating another global memory reference. As discussed previously, the hardware executes each instruction in the wavefront in four cycles; thus, all five instructions occupy the ALU for 20 cycles. Note the compute unit interleaves two of these wavefronts and executes the five instructions from both wavefronts (10 total instructions) in 40 cycles. To fully hide the 400 cycles of latency, the compute unit requires (400/40) = 10 pairs of wavefronts, or 20 total wavefronts. If the wavefront contains 10 instructions rather than 5, the wavefront pair would consume 80 cycles of latency, and only 10 wavefronts would be required to hide the 400 cycles of latency.</p>
<p class="paragraph"><a name="50401334_pgfId-495586"></a>Generally, it is not possible to predict how the compute unit <a name="50401334_marker-495585"></a>schedules the available wavefronts, and thus it is not useful to try to predict exactly which ALU block executes when trying to hide latency. Instead, consider the overall ratio of ALU operations to fetch operations – this metric is reported by the CodeXL GPU Profiler in the <em class="filename"> ALUFetchRatio</em> counter<a name="50401334_marker-495587"></a>. Each ALU operation keeps the compute unit busy for four cycles, so you can roughly divide 500 cycles of latency by (<em class="filename"> 4*ALUFetchRatio</em> ) to determine how many <a name="50401334_marker-537693"></a>wavefronts must be in-flight to hide that latency. Additionally, a low value for the <em class="filename"> ALUBusy</em> performance counter<a name="50401334_marker-495588"></a> can indicate that the compute unit is not providing enough wavefronts to keep the execution resources in full use. (This counter also can be low if the kernel exhausts the available DRAM bandwidth. In this case, generating more wavefronts does not improve performance; it can reduce performance by creating more contention.)</p>
<p class="paragraph"><a name="50401334_pgfId-452279"></a>Increasing the wavefronts/compute unit does not indefinitely improve performance; once the GPU<a name="50401334_marker-490991"></a> has enough wavefronts to hide latency, additional active wavefronts provide little or no performance benefit. A closely related metric to wavefronts/compute unit is “occupancy<a name="50401334_marker-491997"></a>,” which is defined as the ratio of active wavefronts to the maximum number of possible wavefronts supported by the hardware. Many of the important optimization targets and resource limits are expressed in wavefronts/compute units, so this section uses this metric rather than the related “occupancy” term.</p>
</div>
<div>
<h6 class="head2"><a name="50401334_pgfId-452280"></a><a name="50401334_40175"></a>Resource Limits on Active Wavefronts</h6>
<p class="paragraph"><a name="50401334_pgfId-452281"></a>AMD GPUs have two important global resource constraints that limit the number of in-flight wavefronts:<a name="50401334_marker-490992"></a><a name="50401334_marker-490995"></a></p>
<ul>
<li class="FM1bullet"><a name="50401334_pgfId-452282"></a>Southern Islands devices support a maximum of 16 work-groups per CU if a work-group is larger than one wavefront.</li>
<li class="FM1bullet"><a name="50401334_pgfId-452283"></a>The maximum number of wavefronts that can be scheduled to a CU is 40, or 10 per Vector Unit.</li>
</ul>
<p class="paragraph"><a name="50401334_pgfId-452284"></a>These limits are largely properties of the hardware and, thus, difficult for developers to control directly. Fortunately, these are relatively generous limits. Frequently, the register and LDS usage in the kernel determines the limit on the number of active wavefronts/compute unit, and these can be controlled by the developer.<a name="50401334_marker-492016"></a></p>
</div>
</div>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-452285"></a>GPU Registers</h2>
<p class="paragraph"><a name="50401334_pgfId-527308"></a>Southern Islands registers are scalar, so each is 32-bits. Each wavefront can have at most 256 registers (VGPRs). To compute the number of <a name="50401334_marker-537694"></a>wavefronts per CU, take (256/# registers)*4.</p>
<p class="paragraph"><a name="50401334_pgfId-452411"></a>For example, a kernel that uses 120 registers (120×32-bit values) can run with eight active wavefronts on each compute unit. Because of the global limits described earlier, each compute unit is limited to 40 wavefronts; thus, kernels can use up to 25 registers (25×32-bit values) without affecting the number of wavefronts/compute unit.</p>
<p class="paragraph"><a name="50401334_pgfId-452412"></a>AMD provides the following tools to examine the number of general-purpose registers (GPRs) used by the kernel.<a name="50401334_marker-491011"></a></p>
<ul>
<li class="FM1bullet"><a name="50401334_pgfId-452413"></a>The CodeXL GPU Profiler<a name="50401334_marker-491012"></a> displays the number of GPRs used by the kernel.</li>
<li class="FM1bullet"><a name="50401334_pgfId-452414"></a>Alternatively, the CodeXL GPU Profiler generates the ISA dump<a name="50401334_marker-491015"></a> (described in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_78967">See Analyzing Processor Kernels</a>), which then can be searched for the string <em class="filename"> :NUM_GPRS</em> .</li>
<li class="FM1bullet"><a name="50401334_pgfId-452416"></a>The AMD APP KernelAnalyzer2<a name="50401334_marker-491020"></a> also shows the GPR used by the kernel, across a wide variety of GPU compilation targets.</li>
</ul>
<p class="paragraph"><a name="50401334_pgfId-458288"></a>The compiler generates spill code (shuffling values to, and from, memory) if it cannot fit all the live values into registers. Spill code<a name="50401334_marker-491026"></a> uses long-latency global memory and can have a large impact on performance. <a name="50401334_marker-537699"></a>Spilled registers can be cached in Southern Island devices, thus reducing the impact on performance. The CodeXL GPU Profiler reports the static number of register spills in the <em class="filename"> ScratchReg</em> field<a name="50401334_marker-492041"></a>. Generally, it is a good idea to re-write the algorithm to use fewer GPRs<a name="50401334_marker-492043"></a>, or tune the work-group dimensions specified at launch time to expose more registers/kernel to the compiler, in order to reduce the scratch register usage to 0.</p>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-458289"></a>Specifying the Default Work-Group Size at Compile-Time</h2>
<p class="paragraph"><a name="50401334_pgfId-458472"></a>The number of registers used by a <a name="50401334_marker-537700"></a>work-item is determined when the kernel is compiled. The user later specifies the size of the work-group. Ideally, the OpenCL compiler knows the size of the work-group at compile-time, so it can make optimal register allocation decisions. Without knowing the work-group size, the compiler must assume<a name="50401334_marker-491027"></a> an upper-bound size to avoid allocating more registers in the work-item than the hardware actually contains.</p>
<p class="paragraph"><a name="50401334_pgfId-458508"></a>OpenCL provides a mechanism to specify a work-group size that the compiler can use to optimize the register allocation<a name="50401334_marker-491028"></a>. In particular, specifying a smaller work-group size at compile time allows the compiler to allocate more registers for each kernel, which can avoid spill code and improve performance<a name="50401334_marker-514934"></a>. The kernel attribute syntax<a name="50401334_marker-514933"></a> is:</p>
<p class="code"><a name="50401334_pgfId-458307"></a>__attribute__((reqd_work_group_size(X, Y, Z)))</p>
<p class="code"><a name="50401334_pgfId-458517"></a></p>
<p class="paragraph"><a name="50401334_pgfId-458308"></a>Section 6.7.2 of the OpenCL specification explains the attribute in more detail.</p>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-458253"></a>Local Memory (LDS) Size</h2>
<p class="paragraph"><a name="50401334_pgfId-492596"></a><a name="50401334_marker-492595"></a>In addition to registers, shared memory can also serve to limit the active wavefronts/compute unit. Each compute unit has 64 kB of LDS, which is shared among all active work-groups. Note that the maximum allocation size is 32 kB. LDS is allocated on a per-work-group granularity<a name="50401334_marker-492597"></a>, so it is possible (and useful) for multiple wavefronts to share the same local memory allocation. However, large LDS allocations eventually limits the number of workgroups that can be active<a name="50401334_marker-514935"></a>. <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_85125">See Effect of LDS Usage on Wavefronts/CU1 </a> provides more details about how <a name="50401334_marker-537702"></a>LDS usage can impact the wavefronts/compute unit.</p>
<div>
<h6 class="table"><a name="50401334_pgfId-492694"></a><a name="50401334_85125"></a>Effect of LDS Usage<a name="50401334_marker-492602"></a> on Wavefronts/CU1</h6>
<table border="1">
<tbody>
<tr>
<th colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401334_pgfId-538032"></a>Local Memory / Work-Group</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401334_pgfId-538034"></a>LDS-Limited Wavefronts/ Compute-Unit (Assume 4 Wavefronts/ Work-Group)</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401334_pgfId-538036"></a>LDS-Limited Wavefronts/ Compute-Unit (Assume 3 Wavefronts/ Work-Group)</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401334_pgfId-538038"></a>LDS-Limited Wavefronts/ Compute-Unit (Assume 2 Wavefronts/ Work-Group)</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401334_pgfId-538040"></a>LDS-Limited Wavefronts / Compute Unit<br>
(Assume 1 Wavefront / Work-Group)</p>
</th>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538042"></a>&lt;=4K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538044"></a>40</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538046"></a>40</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538048"></a>32</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538050"></a>16</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538052"></a>4.0K-4.2K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538054"></a>40</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538056"></a>40</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538058"></a>30</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538060"></a>15</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538062"></a>4.2K-4.5K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538064"></a>40</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538066"></a>40</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538068"></a>28</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538070"></a>14</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538072"></a>4.5K-4.9K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538074"></a>40</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538076"></a>39</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538078"></a>26</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538080"></a>13</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538082"></a>4.9K-5.3K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538084"></a>40</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538086"></a>36</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538088"></a>24</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538090"></a>12</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538092"></a>5.3K-5.8K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538094"></a>40</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538096"></a>33</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538098"></a>22</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538100"></a>11</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538102"></a>5.8K-6.4K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538104"></a>40</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538106"></a>30</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538108"></a>20</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538110"></a>10</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538112"></a>6.4K-7.1K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538114"></a>36</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538116"></a>27</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538118"></a>18</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538120"></a>9</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538122"></a>7.1K-8.0K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538124"></a>32</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538126"></a>24</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538128"></a>16</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538130"></a>8</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538132"></a>8.0K-9.1K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538134"></a>28</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538136"></a>21</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538138"></a>14</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538140"></a>7</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538142"></a>9.1K-10.6K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538144"></a>24</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538146"></a>18</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538148"></a>12</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538150"></a>6</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538152"></a>10.6K-12.8K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538154"></a>20</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538156"></a>15</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538158"></a>10</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538160"></a>5</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538162"></a>12.8K-16.0K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538164"></a>16</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538166"></a>12</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538168"></a>8</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538170"></a>4</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538172"></a>16.0K-21.3K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538174"></a>12</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538176"></a>9</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538178"></a>6</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538180"></a>3</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538182"></a>21.3K-32.0K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538184"></a>8</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538186"></a>6</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538188"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-538190"></a>2</p>
</td>
</tr>
</tbody>
</table>
<ol>
<li class="tablenote"><a name="50401334_pgfId-492695"></a>Assumes each work-group uses four wavefronts (the maximum supported by the AMD OpenCL SDK).</li>
</ol>
<p class="paragraph"><a name="50401334_pgfId-458825"></a>AMD provides the following tools to examine the amount of LDS used by the kernel:<a name="50401334_marker-491033"></a></p>
<ul>
<li class="FM1bullet"><a name="50401334_pgfId-458826"></a>The CodeXL GPU Profiler displays the LDS usage. See the <em class="filename"> LocalMem</em> counter.<a name="50401334_marker-491034"></a></li>
<li class="FM1bullet"><a name="50401334_pgfId-458827"></a>Alternatively, use the CodeXL GPU Profiler to generate the ISA dump<a name="50401334_marker-491035"></a> (described in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_78967">See Analyzing Processor Kernels</a>), then search for the string <em class="filename"> SQ_LDS_ALLOC:SIZE</em> in the ISA dump. Note that the value is shown in hexadecimal format.</li>
</ul>
</div>
<div>
<h6 class="head2"><a name="50401334_pgfId-458820"></a>Partitioning the Work</h6>
<p class="paragraph"><a name="50401334_pgfId-482139"></a>In OpenCL, each kernel executes on an index point that exists in a global NDRange. The partition<a name="50401334_marker-491036"></a> of the NDRange can have a significant impact on performance; thus, it is recommended that the developer explicitly specify the global (<em class="filename"> #work-groups</em> ) and local (<em class="filename"> #work-items/work-group</em> ) dimensions, rather than rely on OpenCL to set these automatically (by setting <em class="filename"> local_work_size</em> to NULL in <em class="filename"> clEnqueueNDRangeKernel</em> ). This section explains the guidelines for partitioning at the global<a name="50401334_marker-491042"></a>, local<a name="50401334_marker-491047"></a>, and work/kernel<a name="50401334_marker-491052"></a> levels.</p>
</div>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-452491"></a>Global Work Size<a name="50401334_marker-491058"></a></h2>
<p class="paragraph"><a name="50401334_pgfId-530784"></a>OpenCL does not explicitly limit the number of <a name="50401334_marker-537703"></a>work-groups that can be submitted with a <em class="filename"> clEnqueueNDRangeKernel</em> command. The hardware limits the available in-flight threads, but the OpenCL SDK automatically partitions a large number of work-groups into smaller pieces that the hardware can process<a name="50401334_marker-530785"></a>. For some large workloads, the amount of memory available to the GPU can be a limitation<a name="50401334_marker-530786"></a>; the problem might require so much memory capacity that the GPU cannot hold it all. In these cases, the programmer must partition the workload into multiple <em class="filename"> clEnqueueNDRangeKernel</em> commands<a name="50401334_marker-530787"></a>. The available device memory can be obtained by querying <em class="filename"> clDeviceInfo</em> .<a name="50401334_marker-530788"></a></p>
<p class="paragraph"><a name="50401334_pgfId-530789"></a>At a minimum, ensure that the workload contains at least as many work-groups as the number of compute units in the hardware. Work-groups cannot be split across multiple compute units, so if the number of work-groups<a name="50401334_marker-530790"></a> is less than the available compute units, some units are idle. Use <em class="filename"> clGetDeviceInfo(…CL_DEVICE_MAX_COMPUTE_UNITS)</em> to determine the value dynamically.</p>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-452494"></a>Local Work Size<a name="50401334_marker-491061"></a> (#Work-Items per Work-Group)</h2>
<p class="paragraph"><a name="50401334_pgfId-473848"></a>OpenCL limits the number of work-items in each group<a name="50401334_marker-514938"></a>. Call <em class="filename"> clDeviceInfo</em> with the <em class="filename"> CL_DEVICE_MAX_WORK_GROUP_SIZE</em> to determine the maximum number of work-groups supported by the hardware. Currently, AMD GPUs with SDK 2.1 return 256 as the maximum number of work-items per work-group. Note the number of <a name="50401334_marker-537704"></a>work-items is the product of all work-group dimensions; for example, a work-group with dimensions 32×16 requires 512 work-items, which is not allowed with the current AMD OpenCL SDK.</p>
<p class="paragraph"><a name="50401334_pgfId-514319"></a>The fundamental unit of work on AMD GPUs is called a wavefront<a name="50401334_marker-514317"></a>.<a name="50401334_marker-514318"></a> Each wavefront consists of 64 work-items; thus, the optimal local work size is an integer multiple of 64 (specifically 64, 128, 192, or 256) work-items per work-group.</p>
<p class="paragraph"><a name="50401334_pgfId-514322"></a>Work-items in the same work-group<a name="50401334_marker-514320"></a> can share data<a name="50401334_marker-514321"></a> through LDS memory and also use high-speed local atomic operations<a name="50401334_marker-514323"></a>. Thus, larger work-groups enable more work-items to efficiently share data, which can reduce the amount of slower global communication. However, larger work-groups reduce the number of global work-groups, which, for small workloads, could result in idle compute units. Generally, larger work-groups are better as long as the global range is big enough to provide 1-2 Work-Groups for each compute unit in the system; for small workloads it generally works best to reduce the work-group size in order to avoid idle compute units. Note that it is possible to make the decision dynamically, when the kernel is launched<a name="50401334_marker-514324"></a>, based on the launch dimensions<a name="50401334_marker-514325"></a> and the target device characteristics.</p>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-457158"></a>Work-Group Dimensions vs Size</h2>
<p class="paragraph"><a name="50401334_pgfId-457159"></a><a name="50401334_marker-491131"></a>The local NDRange can contain up to three dimensions, here labeled X, Y, and Z. The X dimension is returned by <em class="filename"> get_local_id(0)</em> , Y is returned by <em class="filename"> get_local_id(1)</em> , and Z is returned by <em class="filename"> get_local_id(2)</em> . The GPU hardware schedules the kernels so that the X dimension moves fastest as the work-items are packed into wavefronts. For example, the 128 threads in a 2D work-group of dimension 32×4 (X=32 and Y=4) are packed into two wavefronts as follows (notation shown in X,Y order).</p>
<div>
<h6 class="anchor34"><a name="50401334_pgfId-452776"></a></h6>
<table>
<tbody>
<tr>
<td colspan="1" rowspan="4">
<p class="tablehead"><a name="50401334_pgfId-452505"></a>WaveFront0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452507"></a>0,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452509"></a>1,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452511"></a>2,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452513"></a>3,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452515"></a>4,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452517"></a>5,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452519"></a>6,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452521"></a>7,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452523"></a>8,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452525"></a>9,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452527"></a>10,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452529"></a>11,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452531"></a>12,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452533"></a>13,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452535"></a>14,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452537"></a>15,0</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452541"></a>16,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452543"></a>17,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452545"></a>18,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452547"></a>19,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452549"></a>20,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452551"></a>21,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452553"></a>22,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452555"></a>23,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452557"></a>24,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452559"></a>25,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452561"></a>26,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452563"></a>27,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452565"></a>28,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452567"></a>29,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452569"></a>30,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452571"></a>31,0</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452575"></a>0,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452577"></a>1,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452579"></a>2,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452581"></a>3,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452583"></a>4,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452585"></a>5,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452587"></a>6,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452589"></a>7,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452591"></a>8,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452593"></a>9,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452595"></a>10,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452597"></a>11,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452599"></a>12,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452601"></a>13,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452603"></a>14,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452605"></a>15,1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452609"></a>16,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452611"></a>17,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452613"></a>18,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452615"></a>19,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452617"></a>20,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452619"></a>21,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452621"></a>22,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452623"></a>23,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452625"></a>24,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452627"></a>25,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452629"></a>26,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452631"></a>27,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452633"></a>28,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452635"></a>29,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452637"></a>30,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452639"></a>31,1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="4">
<p class="tablehead"><a name="50401334_pgfId-452641"></a>WaveFront1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452643"></a>0,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452645"></a>1,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452647"></a>2,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452649"></a>3,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452651"></a>4,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452653"></a>5,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452655"></a>6,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452657"></a>7,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452659"></a>8,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452661"></a>9,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452663"></a>10,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452665"></a>11,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452667"></a>12,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452669"></a>13,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452671"></a>14,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452673"></a>15,2</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452677"></a>16,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452679"></a>17,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452681"></a>18,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452683"></a>19,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452685"></a>20,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452687"></a>21,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452689"></a>22,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452691"></a>23,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452693"></a>24,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452695"></a>25,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452697"></a>26,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452699"></a>27,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452701"></a>28,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452703"></a>29,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452705"></a>30,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452707"></a>31,2</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452711"></a>0,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452713"></a>1,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452715"></a>2,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452717"></a>3,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452719"></a>4,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452721"></a>5,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452723"></a>6,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452725"></a>7,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452727"></a>8,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452729"></a>9,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452731"></a>10,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452733"></a>11,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452735"></a>12,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452737"></a>13,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452739"></a>14,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452741"></a>15,3</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452745"></a>16,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452747"></a>17,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452749"></a>18,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452751"></a>19,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452753"></a>20,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452755"></a>21,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452757"></a>22,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452759"></a>23,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452761"></a>24,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452763"></a>25,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452765"></a>26,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452767"></a>27,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452769"></a>28,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452771"></a>29,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452773"></a>30,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-452775"></a>31,3</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401334_pgfId-452779"></a>The total number of work-items in the work-group is typically the most important parameter to consider, in particular when optimizing to hide latency by increasing wavefronts/compute unit. However, the choice of XYZ dimensions for the same overall work-group size<a name="50401334_marker-514953"></a> can have the following second-order effects.</p>
<ul>
<li class="FM1bullet"><a name="50401334_pgfId-452780"></a>Work-items in the same quarter-wavefront<a name="50401334_marker-514956"></a> execute on the same cycle in the processing engine<a name="50401334_marker-514954"></a>. Thus, global memory coalescing and local memory bank conflicts can be impacted by dimension, particularly if the fast-moving X dimension is small. Typically, it is best to choose an X dimension of at least 16, then optimize the memory patterns for a block of 16 work-items which differ by 1 in the X dimension.</li>
<li class="FM1bullet"><a name="50401334_pgfId-452781"></a>Work-items in the same wavefront have the same program counter and execute the same instruction on each cycle<a name="50401334_marker-514955"></a>. The packing order<a name="50401334_marker-514965"></a> can be important if the kernel<a name="50401334_marker-514957"></a> contains divergent branches. If possible, pack together work-items that are likely to follow the same direction when control-flow is encountered. For example, consider an image-processing kernel where each work-item processes one pixel, and the control-flow depends on the color of the pixel. It might be more likely that a square of 8×8 pixels is the same color than a 64×1 strip; thus, the 8×8 would see less divergence and higher performance.</li>
<li class="FM1bullet"><a name="50401334_pgfId-452782"></a>When in doubt, a square 16×16 work-group size is a good start.<a name="50401334_marker-514969"></a></li>
</ul>
<div>
<h6 class="head2"><a name="50401334_pgfId-457368"></a>Summary of NDRange Optimizations</h6>
<p class="paragraph"><a name="50401334_pgfId-452824"></a>As shown above, execution range optimization is a complex topic with many interacting variables and which frequently requires some experimentation to determine the optimal values. Some general guidelines are:<a name="50401334_marker-491135"></a><a name="50401334_marker-491136"></a></p>
<ul>
<li class="FM1bullet"><a name="50401334_pgfId-452825"></a>Select the work-group size<a name="50401334_marker-514977"></a> to be a multiple of 64, so that the wavefronts are fully populated.</li>
<li class="FM1bullet"><a name="50401334_pgfId-452826"></a>Schedule at least four wavefronts per compute unit.</li>
<li class="FM1bullet"><a name="50401334_pgfId-452827"></a>Latency hiding<a name="50401334_marker-514973"></a> depends on both the number of wavefronts/compute unit<a name="50401334_marker-514975"></a>, as well as the execution time for each kernel.<a name="50401334_marker-514974"></a> Generally, 8 to 32 wavefronts/compute unit is desirable, but this can vary significantly, depending on the complexity of the kernel and the available memory bandwidth. The CodeXL GPU Profiler and associated performance counters can help to select an optimal value.<a name="50401334_marker-514976"></a></li>
</ul>
</div>
<div>
<h6 class="head1"><a name="50401334_pgfId-451154"></a>Instruction Selection Optimizations</h6>
<div>
<h6 class="head2"><a name="50401334_pgfId-459510"></a>Instruction Bandwidths<a name="50401334_marker-492086"></a></h6>
<p class="paragraph"><a name="50401334_pgfId-460052"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_43738">See Instruction Throughput (Operations/Cycle for Each Stream Processor)</a> lists the throughput of instructions for GPUs.<a name="50401334_marker-491192"></a></p>
<div>
<h6 class="table"><a name="50401334_pgfId-459713"></a><a name="50401334_43738"></a>Instruction Throughput (Operations/Cycle for Each Stream Processor)</h6>
<table>
<tbody>
<tr>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401334_pgfId-460485"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401334_pgfId-460487"></a></p>
</td>
<td colspan="2" rowspan="1">
<p class="tablehead-center"><a name="50401334_pgfId-460489"></a>Rate (Operations/Cycle) for each Stream Processor</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablehead"><a name="50401334_pgfId-460493"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead"><a name="50401334_pgfId-460495"></a>Instruction</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401334_pgfId-460497"></a>One Quarter-Double-Precision-Speed Devices</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401334_pgfId-460499"></a>Full Double-Precision-Speed Devices</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="7">
<p class="tablehead-center"><a name="50401334_pgfId-460501"></a>Single Precision</p>
<p class="tablehead-center"><a name="50401334_pgfId-460502"></a>FP Rates</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460504"></a>SPFP FMA</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460506"></a>1/4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460508"></a>4</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460512"></a>SPFP MAD</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460514"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460516"></a>4</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460520"></a>ADD</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460522"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460524"></a>4</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460528"></a>MUL</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460530"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460532"></a>4</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460536"></a>INV</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460538"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460540"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460544"></a>RQSRT</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460546"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460548"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460552"></a>LOG</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460554"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460556"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="6">
<p class="tablehead-center"><a name="50401334_pgfId-460558"></a>Double Precision</p>
<p class="tablehead-center"><a name="50401334_pgfId-460559"></a>FP Rates</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460561"></a>FMA</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460563"></a>1/4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460565"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460569"></a>MAD</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460571"></a>1/4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460573"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460577"></a>ADD</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460579"></a>1/2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460581"></a>2</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460585"></a>MUL</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460587"></a>1/4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460589"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460593"></a>INV (approx.)</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460595"></a>1/4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460597"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460601"></a>RQSRT (approx.)</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460603"></a>1/4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460605"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="5">
<p class="tablehead-center"><a name="50401334_pgfId-460607"></a>Integer</p>
<p class="tablehead-center"><a name="50401334_pgfId-513769"></a>Instruction</p>
<p class="tablehead-center"><a name="50401334_pgfId-513768"></a>Rates</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460609"></a>MAD</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460611"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460613"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460617"></a>ADD</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460619"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460621"></a>4</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460625"></a>MUL</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460627"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460629"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460633"></a>Bit-shift</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460635"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460637"></a>4</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460641"></a>Bitwise XOR</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460643"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460645"></a>4</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="2">
<p class="tablehead-center"><a name="50401334_pgfId-460647"></a>Conversion</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460649"></a>Float-to-Int</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460651"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460653"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460657"></a>Int-to-Float</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460659"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460661"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="3">
<p class="tablehead-center"><a name="50401334_pgfId-460663"></a>24-Bit Integer</p>
<p class="tablehead-center"><a name="50401334_pgfId-460664"></a>Inst Rates</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460666"></a>MAD</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460668"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460670"></a>4</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460674"></a>ADD</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460676"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460678"></a>4</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-460682"></a>MUL</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460684"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401334_pgfId-460686"></a>4</p>
</td>
</tr>
</tbody>
</table>
<div>
<h6 class="anchor"><a name="50401334_pgfId-460715"></a></h6>
<p class="paragraph"><a name="50401334_pgfId-478287"></a><a name="50401334_marker-537711"></a>Double-precision is supported on all Southern Islands devices at varying rates. The use of single-precision calculation is encouraged, if that precision is acceptable. Single-precision data is also half the size of double-precision, which requires less chip bandwidth and is not as demanding on the cache structures.</p>
<p class="paragraph"><a name="50401334_pgfId-459717"></a>Generally, the throughput and latency for 32-bit integer operations is the same as for single-precision floating point operations.</p>
<p class="paragraph"><a name="50401334_pgfId-459718"></a>24-bit integer MULs and MADs<a name="50401334_marker-515243"></a> have four times the throughput of 32-bit integer multiplies. 24-bit signed and unsigned integers are natively supported on the Southern Islands family of devices. The use of OpenCL<a name="50401334_marker-515244"></a> built-in functions for <em class="filename"> mul24</em> and <em class="filename"> mad24</em> is encouraged. Note that <em class="filename"> mul24</em> can be useful for array indexing operations.</p>
<p class="paragraph"><a name="50401334_pgfId-459719"></a><a name="50401334_marker-537712"></a>Packed 16-bit and 8-bit operations are not natively supported; however, in cases where it is known that no overflow will occur, some algorithms may be able to effectively pack 2 to 4 values into the 32-bit registers natively supported by the hardware.</p>
<p class="paragraph"><a name="50401334_pgfId-459720"></a>The MAD instruction<a name="50401334_marker-491193"></a> is an IEEE-compliant multiply followed by an IEEE-compliant add; it has the same accuracy as two separate MUL/ADD operations. No special compiler flags are required for the compiler to convert separate MUL/ADD operations to use the MAD instruction.<a name="50401334_marker-515453"></a></p>
<p class="paragraph"><a name="50401334_pgfId-539388"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_43738">See Instruction Throughput (Operations/Cycle for Each Stream Processor)</a> shows the throughput for each stream processing core. To obtain the peak throughput for the whole device<a name="50401334_marker-539389"></a>, multiply the number of stream cores and the engine clock. For example, according to <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_43738">See Instruction Throughput (Operations/Cycle for Each Stream Processor)</a>, a Tahiti device can perform one double-precision ADD operations/2 cycles in each stream core. An <a name="50401334_marker-539396"></a>AMD Radeon<em class="superscript"> </em> HD 7970 GPU has 2048 Stream Cores and an engine clock of 925 MHz, so the entire GPU has a throughput rate of (.5*2048*925 MHz) = 947 GFlops for double-precision adds.</p>
</div>
</div>
</div>
<div>
<h6 class="head2"><a name="50401334_pgfId-459722"></a>AMD Media Instructions</h6>
<p class="paragraph"><a name="50401334_pgfId-459723"></a>AMD provides a set of media instructions<a name="50401334_marker-491195"></a> for accelerating media processing. Notably, the sum-of-absolute differences (SAD)<a name="50401334_marker-491196"></a> operation is widely used in motion estimation algorithms. For the Southern Islands family of devices, new media instructions have been added; these are available under the <em class="filename"> cl_amd_media_ops2</em> extensions.</p>
</div>
<div>
<h6 class="head2"><a name="50401334_pgfId-459778"></a>Math Libraries</h6>
<p class="paragraph"><a name="50401334_pgfId-525093"></a>The Southern Islands environment contains new instructions for increasing the previous performance of floating point division, trigonometric range reduction, certain type conversions with double-precision values, floating-point classification, and frexp/ldexp.</p>
<p class="paragraph"><a name="50401334_pgfId-459779"></a>OpenCL<a name="50401334_marker-515452"></a> supports two types of math library operation<a name="50401334_marker-491197"></a>: <em class="filename"> native_function()</em> and <em class="filename"> function()</em> . Native_functions<a name="50401334_marker-491198"></a> are generally supported in hardware and can run substantially faster, although at somewhat lower accuracy. The accuracy for the non-native functions is specified in section 7.4 of the OpenCL Specification. The accuracy for the native functions is implementation-defined. Developers are encouraged to use the native functions when performance is more important than accuracy.</p>
<p class="paragraph"><a name="50401334_pgfId-525179"></a>Compared to previous families of GPUs, the accuracy of certain native functions is increased in the Southern Islands family. We recommend retesting applications where native function accuracy was insufficient on previous GPU devices.</p>
</div>
<div>
<h6 class="head2"><a name="50401334_pgfId-451159"></a>Compiler Optimizations</h6>
<p class="paragraph"><a name="50401334_pgfId-517143"></a>The OpenCL compiler currently recognizes a few <a name="50401334_marker-537713"></a>patterns and transforms them into a single instruction. By following these patterns, a developer can generate highly efficient code. The currently accepted patterns are:</p>
<ul>
<li class="FM1bullet"><a name="50401334_pgfId-517144"></a>Bitfield extract on signed/unsigned integers.</li>
</ul>
<p class="code"><a name="50401334_pgfId-517145"></a> (A &gt;&gt; B) &amp; C ==&gt; [u]bit_extract</p>
<p class="FM1bullet-cont"><a name="50401334_pgfId-517146"></a>where</p>
<ul>
<li class="FM1dash"><a name="50401334_pgfId-517203"></a>B and C are compile time constants,</li>
<li class="FM1dash"><a name="50401334_pgfId-517204"></a>A is a 8/16/32bit integer type, and</li>
<li class="FM1dash"><a name="50401334_pgfId-517205"></a>C is a mask.</li>
<li class="FM1bullet"><a name="50401334_pgfId-517151"></a>Bitfield insert on signed/unsigned integers</li>
</ul>
<p class="code"><a name="50401334_pgfId-517152"></a> ((A &amp; B) &lt;&lt; C) | ((D &amp; E) &lt;&lt; F ==&gt; ubit_insert</p>
<p class="FM1bullet-cont"><a name="50401334_pgfId-517153"></a>where</p>
<ul>
<li class="FM1dash"><a name="50401334_pgfId-517154"></a>B and E have no conflicting bits (<em class="filename"> B^E == 0</em> ),</li>
<li class="FM1dash"><a name="50401334_pgfId-517155"></a>B, C, E, and F are compile-time constants, and</li>
<li class="FM1dash"><a name="50401334_pgfId-517156"></a>B and E are masks.</li>
<li class="FM1dash"><a name="50401334_pgfId-517157"></a>The first bit set in B is greater than the number of bits in E plus the first bit set in E, or the first bit set in E is greater than the number of bits in B plus the first bit set in B.</li>
<li class="FM1dash"><a name="50401334_pgfId-517158"></a>If B, C, E, or F are equivalent to the value 0, this optimization is also supported.</li>
</ul>
</div>
</div>
<div>
<h6 class="head1"><a name="50401334_pgfId-520751"></a>Additional Performance Guidance</h6>
<p class="paragraph"><a name="50401334_pgfId-446670"></a>This section is a collection of performance tips for GPU compute<a name="50401334_marker-491225"></a> and AMD-specific optimizations.<a name="50401334_marker-491242"></a></p>
<div>
<h6 class="head2"><a name="50401334_pgfId-448804"></a>Loop Unroll <em class="filename"> pragma</em></h6>
<p class="paragraph"><a name="50401334_pgfId-490425"></a>The compiler directive<a name="50401334_marker-491259"></a><em class="filename"> #pragma unroll &lt;unroll-factor&gt;</em> can be placed immediately prior to a loop as a hint to the compiler to unroll a loop. <em class="filename"> &lt;unroll-factor&gt;</em> must be a positive integer, 1 or greater. When <em class="filename"> &lt;unroll-factor&gt;</em> is 1, loop unrolling is disabled. When <em class="filename"> &lt;unroll-factor&gt;</em> is 2 or greater, the compiler uses this as a hint for the number of times the <a name="50401334_marker-537714"></a>loop is to be unrolled.</p>
<p class="paragraph"><a name="50401334_pgfId-490426"></a>Examples for using this loop follow.</p>
<p class="FM1bullet-cont"><a name="50401334_pgfId-488543"></a>No unrolling example:</p>
<p class="FM1bullet-cont"><a name="50401334_pgfId-488545"></a><em class="filename"> #pragma unroll 1<br>
for (int i = 0; i &lt; n; i++) {<br>
…<br>
}</em></p>
<p class="FM1bullet-cont"><a name="50401334_pgfId-488551"></a>Partial unrolling example:</p>
<p class="FM1bullet-cont"><a name="50401334_pgfId-495356"></a><em class="filename"> #pragma unroll 4<br>
for (int i = 0; i &lt; 128; i++) {<br>
…<br>
}</em></p>
<p class="paragraph"><a name="50401334_pgfId-520716"></a>Currently, the <a name="50401334_marker-537715"></a>unroll pragma requires that the loop boundaries can be determined at compile time. Both loop bounds must be known at compile time. If n is not given, it is equivalent to the number of iterations of the loop when both loop bounds are known. If the unroll-factor is not specified, and the compiler can determine the loop count, the compiler fully unrolls the loop. If the unroll-factor is not specified, and the compiler cannot determine the loop count, the compiler does no unrolling.</p>
</div>
<div>
<h6 class="head2"><a name="50401334_pgfId-495342"></a>Memory Tiling</h6>
<p class="paragraph"><a name="50401334_pgfId-489347"></a>There are many possible <a name="50401334_marker-489343"></a>physic<a name="50401334_marker-489344"></a>al m<a name="50401334_marker-489345"></a>emory layouts for images. AMD Accelerated Parallel Processing devices can access memory in a tiled<a name="50401334_marker-491277"></a> or in a linear arrangement.<a name="50401334_marker-491294"></a></p>
<ul>
<li class="FM1bullet"><a name="50401334_pgfId-447122"></a>Linear – A <a name="50401334_marker-447121"></a>linear layout format arranges the data linearly in memory such that element addresses are sequential. This is the layout that is familiar to CPU programmers. This format must be used for OpenCL buffers; it can be used for images.</li>
<li class="FM1bullet"><a name="50401334_pgfId-447124"></a>Tiled – A <a name="50401334_marker-447123"></a>tiled layout format has a pre-defined sequence of element blocks arranged in sequential memory addresses (see <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_78556">See One Example of a Tiled Layout Format</a> for a conceptual illustration). A <a name="50401334_marker-537717"></a>microtile consists of ABIJ; a macrotile consists of the top-left 16 squares for which the arrows are red. Only images can use this format. Translating from user address space to the tiled arrangement is transparent to the user. <a name="50401334_marker-537718"></a>Tiled memory layouts provide an optimized memory access pattern to make more efficient use of the RAM attached to the GPU compute device. This can contribute to lower latency.</li>
</ul>
<div>
<h6 class="anchor"><a name="50401334_pgfId-447131"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-26.gif" alt=""></div>
</div>
<div>
<h6 class="figure"><a name="50401334_pgfId-447133"></a><a name="50401334_78556"></a>One Example of a Tiled Layout Format</h6>
<div>
<h6 class="head4"><a name="50401334_pgfId-447134"></a>Memory Access Pattern</h6>
<p class="paragraph"><a name="50401334_pgfId-447161"></a></p>
<p class="paragraph"><a name="50401334_pgfId-447135"></a><a name="50401334_marker-491330"></a>Memory access patterns<a name="50401334_marker-491333"></a> in compute kernels are usually different from those in the pixel shaders. Whereas the access pattern for pixel shaders is in a hierarchical, space-filling curve pattern and is tuned for tiled memory performance (generally for textures), the access pattern for a compute kernel is linear across each row before moving to the next row in the global id space. This has an effect on performance, since pixel shaders have implicit blocking, and compute kernels do not. If accessing a tiled image<a name="50401334_marker-515261"></a>, best performance is achieved if the application tries to use workgroups with 16×16 (or 8×8) work-items.</p>
</div>
</div>
</div>
<div>
<h6 class="head2"><a name="50401334_pgfId-446673"></a>General Tips<a name="50401334_marker-492095"></a></h6>
<ul>
<li class="FM1bullet"><a name="50401334_pgfId-538689"></a>Using dynamic pointer assignment in kernels that are executed on the GPU cause inefficient code generation.</li>
<li class="FM1bullet"><a name="50401334_pgfId-538643"></a>Many OpenCL specification compiler options that are accepted by the AMD OpenCL compiler are not implemented. The implemented options are <em class="filename"> -D</em> ,<br>
<em class="filename"> -I</em> , <em class="filename"> w</em> , <em class="filename"> Werror</em> , <em class="filename"> -clsingle-precision-constant</em> , <em class="filename"> -cl-opt-disable</em> , and<br>
<em class="filename"> -cl-fp32-correctly-rounded-divide-sqrt</em> .</li>
<li class="FM1bullet"><a name="50401334_pgfId-446674"></a>Avoid declaring global arrays<a name="50401334_marker-515263"></a> on the kernel’s stack frame as these typically cannot be allocated in registers and require expensive global memory operations.</li>
<li class="FM1bullet"><a name="50401334_pgfId-446675"></a>Use predication<a name="50401334_marker-515267"></a> rather than control-flow. The predication allows the GPU to execute both paths of execution in parallel, which can be faster than attempting to minimize the work through clever control-flow. The reason for this is that if no memory operation exists in a <em class="filename"> ?:</em> operator (also called a ternary operator), this operation is translated into a single <em class="filename"> cmov_logical</em> instruction, which is executed in a single cycle. An example of this is:</li>
</ul>
<p class="code"><a name="50401334_pgfId-446676"></a> If (A&gt;B) {<br>
C += D;</p>
<p class="code"><a name="50401334_pgfId-446677"></a> } else {</p>
<p class="code"><a name="50401334_pgfId-446678"></a> C -= D;<br>
}</p>
<p class="code"><a name="50401334_pgfId-446679"></a></p>
<p class="FM1bullet-cont"><a name="50401334_pgfId-446680"></a>Replace this with:</p>
<p class="code"><a name="50401334_pgfId-446681"></a> int factor = (A&gt;B) ? 1:-1;</p>
<p class="code"><a name="50401334_pgfId-526494"></a> C += factor*D;</p>
<p class="FM1bullet-cont"><a name="50401334_pgfId-526511"></a>In the first block of code, this translates into an IF/ELSE/ENDIF sequence of conditional code, each taking ~8 cycles. If divergent, this code executes in ~36 clocks; otherwise, in ~28 clocks. A branch not taken costs four cycles (one instruction slot); a branch taken adds four slots of latency to fetch instructions from the instruction cache, for a total of 16 clocks. Since the execution mask is saved, then modified, then restored for the branch, ~12 clocks are added when divergent, ~8 clocks when not.</p>
<p class="FM1bullet-cont"><a name="50401334_pgfId-483388"></a>In the second block of code, the <em class="filename"> ?:</em> operator executes in the vector units, so no extra CF instructions are generated. Since the instructions are sequentially dependent, this block of code executes in 12 cycles, for a 1.3x speed improvement. To see this, the first cycle is the (A&gt;B) comparison, the result of which is input to the second cycle, which is the <em class="filename"> cmov_logical</em> factor, bool, 1, -1. The final cycle is a MAD instruction that: mad C, factor, D, C. If the ratio between conditional code and ALU instructions is low, this is a good pattern to remove the control flow.</p>
<ul>
<li class="FM1bullet"><a name="50401334_pgfId-446684"></a>Loop Unrolling <a name="50401334_marker-515273"></a></li>
<li class="FM1dash"><a name="50401334_pgfId-446685"></a>OpenCL kernels typically are high instruction-per-clock applications. Thus, the overhead to evaluate control-flow and execute branch instructions can consume a significant part of resource that otherwise can be used for high-throughput compute operations.</li>
<li class="FM1dash"><a name="50401334_pgfId-446686"></a>The AMD Accelerated Parallel Processing OpenCL compiler performs simple <a name="50401334_marker-537719"></a>loop unrolling optimizations; however, for more complex loop unrolling, it may be beneficial to do this manually.</li>
<li class="FM1bullet"><a name="50401334_pgfId-446687"></a>If possible, create a reduced-size version of your data set<a name="50401334_marker-515279"></a> for easier debugging and faster turn-around on performance experimentation. GPUs do not have automatic caching mechanisms and typically scale well as resources are added. In many cases, performance optimization for the reduced-size data implementation also benefits the full-size algorithm.</li>
<li class="FM1bullet"><a name="50401334_pgfId-446688"></a>When tuning an algorithm, it is often beneficial to code a simple but accurate algorithm that is retained and used for functional comparison<a name="50401334_marker-515288"></a>. GPU tuning can be an iterative process, so success requires frequent experimentation, verification, and performance measurement.</li>
<li class="FM1bullet"><a name="50401334_pgfId-446689"></a>The profiling and analysis tools report statistics on a per-kernel granularity. To narrow the problem further, it might be useful to remove or comment-out sections of code, then re-run the timing and profiling tool.<a name="50401334_marker-515295"></a></li>
<li class="FM1bullet"><a name="50401334_pgfId-488875"></a>Avoid writing code with dynamic pointer assignment on the GPU.<a name="50401334_marker-515320"></a> For example:</li>
</ul>
<p class="FM1bullet-cont"><a name="50401334_pgfId-488896"></a><em class="filename"> kernel void dyn_assign(global int* a, global int* b, global int* c)<br>
{<br>
global int* d;<br>
size_t idx = get_global_id(0);<br>
if (idx &amp; 1) {<br>
d = b;<br>
} else {<br>
d = c;<br>
}<br>
a[idx] = d[idx];<br>
}</em></p>
<p class="FM1bullet-cont"><a name="50401334_pgfId-488908"></a>This is inefficient because the GPU compiler must know the base pointer that every load comes from and in this situation, the compiler cannot determine what ‘d’ points to. So, both B and C are assigned to the same GPU resource, removing the ability to do certain optimizations.</p>
<ul>
<li class="FM1bullet"><a name="50401334_pgfId-521160"></a>If the <a name="50401334_marker-537720"></a>algorithm allows changing the work-group size, it is possible to get better performance by using larger work-groups (more work-items in each work-group) because the workgroup creation overhead is reduced. On the other hand, the OpenCL CPU runtime uses a task-stealing algorithm at the work-group level, so when the kernel execution time differs because it contains conditions and/or loops of varying number of iterations, it might be better to increase the number of work-groups. This gives the runtime more flexibility in scheduling work-groups to idle CPU cores. Experimentation might be needed to reach optimal work-group size.</li>
<li class="FM1bullet"><a name="50401334_pgfId-521168"></a>Since the AMD OpenCL runtime supports only in-order queuing, using <em class="filename"> clFinish()</em> on a queue and queuing a blocking command gives the same result. The latter saves the overhead of another API command.</li>
</ul>
<p class="FM1bullet-cont"><a name="50401334_pgfId-521169"></a>For example:</p>
<p class="FM1bullet-cont"><a name="50401334_pgfId-521170"></a><em class="filename"> clEnqueueWriteBuffer(myCQ, buff, CL_FALSE, 0, buffSize, input, 0, NULL, NULL); </em></p>
<p class="FM1bullet-cont"><a name="50401334_pgfId-521171"></a><em class="filename"> clFinish(myCQ); </em></p>
<p class="FM1bullet-cont"><a name="50401334_pgfId-521172"></a>is equivalent, for the AMD OpenCL runtime, to:</p>
<p class="FM1bullet-cont"><a name="50401334_pgfId-521173"></a> <em class="filename"> clEnqueueWriteBuffer(myCQ, buff, CL_TRUE, 0, buffSize, input, 0, NULL, NULL); </em></p>
</div>
<div>
<h6 class="head2"><a name="50401334_pgfId-521164"></a>Guidance for CUDA<a name="50401334_marker-521163"></a> Programmers Using OpenCL</h6>
<ul>
<li class="FM1bullet"><a name="50401334_pgfId-446691"></a>Porting from CUDA to OpenCL is relatively straightforward. Multiple vendors have documents describing how to do this, including AMD:</li>
</ul>
<p class="codelong1"><a name="50401334_pgfId-446692"></a>https://developer.amd.com/documentation/articles/pages/OpenCL-and-the-ATI-Stream-v2.0-Beta.aspx#four</p>
<ul>
<li class="FM1bullet"><a name="50401334_pgfId-446693"></a>Some specific performance recommendations<a name="50401334_marker-515342"></a> which differ from other GPU architectures:</li>
<li class="FM1dash"><a name="50401334_pgfId-501621"></a>Use a workgroup size that is a multiple of 64. CUDA code<a name="50401334_marker-515343"></a> can use a workgroup size of 32; this uses only half the available compute resources on an <a name="50401334_marker-537807"></a>AMD Radeon<em class="superscript"> </em> HD 7970 GPU.</li>
<li class="FM1dash"><a name="50401334_pgfId-446697"></a>AMD GPUs have a very high single-precision flops<a name="50401334_marker-515345"></a> capability (3.788 teraflops in a single <a name="50401334_marker-537810"></a>AMD Radeon<em class="superscript"> </em> HD 7970 GPU). Algorithms that benefit from such throughput can deliver excellent performance on AMD Accelerated Parallel Processing hardware.</li>
</ul>
</div>
<div>
<h6 class="head2"><a name="50401334_pgfId-446698"></a>Guidance for CPU Programmers<a name="50401334_marker-491347"></a> Using OpenCL to Program GPUs</h6>
<p class="paragraph"><a name="50401334_pgfId-446699"></a>OpenCL is the industry-standard toolchain for programming GPUs and parallel devices from many vendors. It is expected that many programmers skilled in CPU programming will program GPUs for the first time using OpenCL. This section provides some guidance for experienced programmers who are programming a GPU for the first time. It specifically highlights the key differences in optimization strategy.<a name="50401334_marker-515347"></a></p>
<ul>
<li class="FM1bullet"><a name="50401334_pgfId-446700"></a>Study the local memory (LDS)<a name="50401334_marker-515349"></a> optimizations. These greatly affect the GPU performance<a name="50401334_marker-515348"></a>. Note the difference in the organization of local memory on the GPU as compared to the CPU cache. Local memory is shared by many work-items (64 on Tahiti). This contrasts with a CPU cache that normally is dedicated to a single work-item. GPU kernels run well when they collaboratively load the shared memory.</li>
<li class="FM1bullet"><a name="50401334_pgfId-446707"></a>GPUs have a large amount of raw compute horsepower<a name="50401334_marker-515350"></a>, compared to memory bandwidth and to “control flow” bandwidth. This leads to some high-level differences in GPU programming strategy.</li>
<li class="FM1dash"><a name="50401334_pgfId-446708"></a>A CPU-optimized algorithm may test branching conditions to minimize the workload. On a GPU, it is frequently faster simply to execute the workload.<a name="50401334_marker-515352"></a></li>
<li class="FM1dash"><a name="50401334_pgfId-446709"></a>A CPU-optimized version can use memory to store and later load pre-computed values. On a GPU, it frequently is faster to recompute values rather than saving them in registers.<a name="50401334_marker-515353"></a> Per-thread registers are a scarce resource on the CPU; in contrast, GPUs have many available per-thread register resources.</li>
<li class="FM1bullet"><a name="50401334_pgfId-446710"></a>Use <em class="filename"> float4</em> and the OpenCL built-ins for vector types<a name="50401334_marker-515356"></a> (<em class="filename"> vload</em> , <em class="filename"> vstore</em> , etc.). These enable the AMD Accelerated Parallel Processing OpenCL implementation to generate efficient, packed SSE instructions<a name="50401334_marker-515357"></a> when running on the CPU. Vectorization is an optimization that benefits both the AMD CPU and GPU.</li>
</ul>
</div>
<div>
<h6 class="head2"><a name="50401334_pgfId-521316"></a>Optimizing Kernel Code</h6>
</div>
</div>
</div>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-521317"></a>Using Vector Data Types</h2>
<p class="paragraph"><a name="50401334_pgfId-521252"></a>The CPU contains a vector unit, which can be efficiently used if the developer is writing the code using vector data types.</p>
<p class="paragraph"><a name="50401334_pgfId-521253"></a>For architectures before Bulldozer, the instruction set is called SSE, and the vector width is 128 bits. For Bulldozer, there the instruction set is called AVX, for which the vector width is increased to 256 bits.</p>
<p class="paragraph"><a name="50401334_pgfId-521254"></a>Using four-wide vector types (int4, float4, etc.) is preferred, even with Bulldozer.</p>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-521255"></a>Local Memory</h2>
<p class="paragraph"><a name="50401334_pgfId-521256"></a>The CPU does not benefit much from <a name="50401334_marker-537721"></a>local memory; sometimes it is detrimental to performance. As local memory is emulated on the CPU by using the caches, accessing local memory and global memory are the same speed, assuming the information from the global memory is in the cache.</p>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-521257"></a>Using Special CPU Instructions</h2>
<p class="paragraph"><a name="50401334_pgfId-521258"></a>The Bulldozer family of CPUs supports <a name="50401334_marker-537722"></a>FMA4 instructions, exchanging instructions of the form <em class="filename"> a*b+c</em> with <em class="filename"> fma(a,b,c)</em> or <em class="filename"> mad(a,b,c)</em> allows for the use of the special hardware instructions for multiplying and adding.</p>
<p class="paragraph"><a name="50401334_pgfId-521259"></a>There also is hardware support for OpenCL functions that give the new hardware implementation of rotating.</p>
<p class="paragraph"><a name="50401334_pgfId-521260"></a>For example:</p>
<p class="code"><a name="50401334_pgfId-521261"></a>sum.x += tempA0.x * tempB0.x + tempA0.y * tempB1.x + tempA0.z * tempB2.x + tempA0.w * tempB3.x;</p>
<p class="paragraph"><a name="50401334_pgfId-521262"></a>can be written as a composition of mad instructions which use fused multiple add (FMA):</p>
<p class="code"><a name="50401334_pgfId-521263"></a>sum.x += mad(tempA0.x, tempB0.x, mad(tempA0.y, tempB1.x, mad(tempA0.z, tempB2.x, tempA0.w*tempB3.x)));</p>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-521264"></a>Avoid Barriers When Possible</h2>
<p class="paragraph"><a name="50401334_pgfId-521265"></a>Using <a name="50401334_marker-537723"></a>barriers in a kernel on the CPU causes a significant performance penalty compared to the same kernel without barriers. Use a barrier only if the kernel requires it for correctness, and consider changing the algorithm to reduce barriers usage.</p>
<div>
<h6 class="head2"><a name="50401334_pgfId-521246"></a>Optimizing Kernels for Southern Island GPUs</h6>
</div>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-494706"></a>Remove Conditional Assignments</h2>
<p class="paragraph"><a name="50401334_pgfId-494707"></a>A conditional of the form “if-then-else” generates branching. Use the <em class="filename"> select()</em> function<a name="50401334_marker-515381"></a> to replace these structures with conditional assignments that do not cause branching<a name="50401334_marker-515380"></a>. For example:</p>
<p class="code"><a name="50401334_pgfId-494708"></a>if(x==1) r=0.5;<br>
if(x==2) r=1.0;</p>
<p class="paragraph"><a name="50401334_pgfId-494781"></a>becomes</p>
<p class="code"><a name="50401334_pgfId-494709"></a>r = select(r, 0.5, x==1);<br>
r = select(r, 1.0, x==2);</p>
<p class="paragraph"><a name="50401334_pgfId-494710"></a>Note that if the body of the <em class="filename"> if</em> statement contains an I/O, the <em class="filename"> if</em> statement cannot be eliminated.</p>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-494711"></a>Bypass Short-Circuiting</h2>
<p class="paragraph"><a name="50401334_pgfId-494712"></a>A conditional expression<a name="50401334_marker-515384"></a> with many terms can compile into nested conditional code due to the C-language requirement that expressions must short circuit. To prevent this, move the expression out of the control flow statement. For example:</p>
<p class="code"><a name="50401334_pgfId-494713"></a>if(a&amp;&amp;b&amp;&amp;c&amp;&amp;d){…}</p>
<p class="paragraph"><a name="50401334_pgfId-494714"></a>becomes</p>
<p class="code"><a name="50401334_pgfId-494715"></a>bool cond = a&amp;&amp;b&amp;&amp;c&amp;&amp;d;<br>
if(cond){…}</p>
<p class="paragraph"><a name="50401334_pgfId-494716"></a>The same applies<a name="50401334_marker-515392"></a> to conditional expressions<a name="50401334_marker-515385"></a> used in loop constructs (<em class="filename"> do</em> , <em class="filename"> while</em> , <em class="filename"> for</em> ).</p>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-494717"></a>Unroll Small Loops</h2>
<p class="paragraph"><a name="50401334_pgfId-494718"></a>If the loop bounds are known, and the loop is small (less than 16 or 32 instructions), unrolling the loop usually increases performance.<a name="50401334_marker-515400"></a></p>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-494719"></a>Avoid Nested <em class="filename"> if</em> s</h2>
<p class="paragraph"><a name="50401334_pgfId-494720"></a>Because the GPU is a Vector ALU architecture, there is a cost to executing an if-then-else block because both sides of the branch are evaluated, then one result is retained while the other is discarded. When <em class="filename"> if</em> blocks are nested<a name="50401334_marker-515401"></a>, the results are twice as bad; in general, if blocks are nested k levels deep, 2^k nested conditional structures are generated. In this situation, restructure the code to eliminate nesting.</p>
</div>
<div>
<h2 class="head3"><a name="50401334_pgfId-494721"></a>Experiment With <em class="filename"> do</em> /<em class="filename"> while</em> /<em class="filename"> for</em> Loops</h2>
<p class="paragraph"><a name="50401334_pgfId-494722"></a><em class="filename"> for</em> <a name="50401334_marker-537724"></a> loops can generate more conditional code than equivalent <em class="filename"> do</em> or <em class="filename"> while</em> loops. Experiment with these different loop types<a name="50401334_marker-515402"></a> to find the one with best performance.</p>
<div>
<h6 class="head1"><a name="50401334_pgfId-521515"></a>Specific Guidelines for Southern Islands GPUs</h6>
<p class="paragraph"><a name="50401334_pgfId-521532"></a>The AMD Southern Islands (SI) family of products is quite different from previous generations. These are referred to as SI chips and are based on what is publicly called Graphics Core Next.</p>
<p class="paragraph"><a name="50401334_pgfId-521533"></a>SI compute units are much different than those of previous chips. With previous generations, a compute unit (Vector ALU) was VLIW in nature, so four (Cayman GPUs) or five (all other Evergreen/Northern Islands GPUs) instructions could be packed into a single ALU instruction slot (called a bundle). It was not always easy to schedule instructions to fill all of these slots, so achieving peak ALU utilization was a challenge.</p>
<p class="paragraph"><a name="50401334_pgfId-521534"></a>With SI GPUs, the compute units are now scalar; however, there now are four Vector ALUs per compute unit. Each Vector ALU requires at least one wavefront scheduled to it to achieve peak ALU utilization.</p>
<p class="paragraph"><a name="50401334_pgfId-521738"></a>Along with the four Vector ALUs within a compute unit, there is also a scalar unit. The scalar unit is used to handle branching instructions, constant cache accesses, and other operations that occur per wavefront. The advantage to having a <a name="50401334_marker-537727"></a>scalar unit for each compute unit is that there are no longer large penalties for branching, aside from thread divergence.</p>
<p class="paragraph"><a name="50401334_pgfId-521536"></a>The instruction set for SI is scalar, as are GPRs. Also, the instruction set is no longer clause-based. There are two types of GPRs: scalar GPRs (SGPRs) and vector GPRs (VGPRs). Each Vector ALU has its own SGPR and VGPR pool. There are 512 SGPRs and 256 VGPRs per Vector ALU. VGPRs handle all vector instructions (any instruction that is handled per thread, such as <em class="filename"> v_add_f32</em> , a floating point add). SGPRs are used for scalar instructions: any instruction that is executed once per wavefront, such as a branch, a scalar ALU instruction, and constant cache fetches. (<a name="50401334_marker-537728"></a>SGPRs are also used for constants, all buffer/texture definitions, and sampler definitions; some kernel arguments are stored, at least temporarily, in SGPRs.) SGPR allocation is in increments of eight, and VGPR allocation is in increments of four. These increments also represent the minimum allocation size of these resources.</p>
<p class="paragraph"><a name="50401334_pgfId-521537"></a>Typical <a name="50401334_marker-537729"></a>vector instructions execute in four cycles; typical scalar ALU instructions in one cycle. This allows each compute unit to execute one Vector ALU and one scalar ALU instruction every four clocks (each compute unit is offset by one cycle from the previous one).</p>
<p class="paragraph"><a name="50401334_pgfId-523270"></a>All Southern Islands GPUs have <a name="50401334_marker-537730"></a>double-precision support. For Tahiti (<a name="50401334_marker-537813"></a>AMD Radeon<em class="symbol"> </em> HD 79XX series), double precision adds run at one-half the single precision add rate. Double-precision multiplies and MAD instructions run at one-quarter the floating-point rate.</p>
<p class="paragraph"><a name="50401334_pgfId-523271"></a>The double-precision rate of Pitcairn (<a name="50401334_marker-537818"></a>AMD Radeon<em class="symbol"> </em> HD 78XX series) and Cape Verde (<a name="50401334_marker-537823"></a>AMD Radeon<em class="symbol"> </em> HD 77XX series) is one quarter that of Tahiti. This also affects the performance of <a name="50401334_marker-537731"></a>single-precision fused multiple add (FMA).</p>
<p class="paragraph"><a name="50401334_pgfId-521540"></a>Similar to previous generations local data share (LDS) is a shared resource within a compute unit. The maximum <a name="50401334_marker-537732"></a>LDS allocation size for a work-group is still 32 kB, however each compute unit has a total of 64 kB of LDS. On SI GPUs, LDS memory has 32 banks; thus, it is important to be aware of <a name="50401334_marker-537733"></a>LDS bank conflicts on half-wavefront boundaries. The allocation granularity for LDS is 256 bytes; the minimum size is 0 bytes. It is much easier to achieve high LDS bandwidth use on SI hardware.</p>
<p class="paragraph"><a name="50401334_pgfId-521541"></a><a name="50401334_marker-537734"></a>L1 cache is still shared within a compute unit. The size has now increased to 16 kB per compute unit for all SI GPUs. The caches now are read/write, so sharing data between work-items in a work-group (for example, when LDS does not suffice) is much faster.</p>
<p class="paragraph"><a name="50401334_pgfId-521542"></a>It is possible to schedule a maximum of 10 wavefronts per vector unit, assuming there are no limitations by other resources, such as registers or local memory; but there is a limit of 16 work-groups per compute unit if the work-groups are larger than a single wavefront. If the dispatch is larger than what can fit at once on the GPU, the GPU schedules new work-groups as others finish.</p>
<p class="paragraph"><a name="50401334_pgfId-521543"></a>Since there are no more clauses in the <a name="50401334_marker-537735"></a>SI instruction set architecture (ISA), the compiler inserts “wait” commands to indicate that the compute unit needs the results of a memory operation before proceeding. If the scalar unit determines that a wait is required (the data is not yet ready), the Vector ALU can switch to another wavefront. There are different types of <a name="50401334_marker-537736"></a>wait commands, depending on the memory access.</p>
<div>
<h6 class="head4"><a name="50401334_pgfId-521544"></a>Notes</h6>
<p class="paragraph"><a name="50401334_pgfId-521901"></a></p>
<ul>
<li class="FM1bullet"><a name="50401334_pgfId-521545"></a><a name="50401334_marker-537737"></a>Vectorization is no longer needed, nor desirable; in fact, it can affect performance because it requires a greater number of <a name="50401334_marker-537738"></a>VGPRs for storage. I is recommended not to combine work-items.</li>
<li class="FM1bullet"><a name="50401334_pgfId-521546"></a><a name="50401334_marker-537739"></a>Register spilling is no greater a problem with four wavefronts per work-group than it is with one wavefront per work-group. This is because each wavefront has the same number of SGPRs and VGPRs available in either case.</li>
<li class="FM1bullet"><a name="50401334_pgfId-521547"></a><a name="50401334_marker-537740"></a>Read coalescing does not work for 64-bit data sizes. This means reads for float2, int2, and double might be slower than expected.</li>
<li class="FM1bullet"><a name="50401334_pgfId-521548"></a>Work-groups with 256 work-items can be used to ensure that each compute unit is being used. <a name="50401334_marker-537741"></a>Barriers now are much faster.</li>
<li class="FM1bullet"><a name="50401334_pgfId-521549"></a>The engine is wider than previous generations; this means larger dispatches are required to keep the all the compute units busy.</li>
<li class="FM1bullet"><a name="50401334_pgfId-521550"></a>A single wavefront can take twice as long to execute compared to previous generations (assuming ALU bound). This is because GPUs with VLIW-4 could execute the four instructions in a VLIW bundle in eight clocks (typical), and SI GPUs can execute one vector instruction in four clocks (typical).</li>
<li class="FM1bullet"><a name="50401334_pgfId-521551"></a>Execution of kernel dispatches can overlap if there are no dependencies between them and if there are resources available in the GPU. This is critical when writing benchmarks it is important that the measurements are accurate and that “false dependencies” do not cause unnecessary slowdowns.</li>
</ul>
<p class="FM1bullet-cont"><a name="50401334_pgfId-521552"></a>An example of <a name="50401334_marker-537742"></a>false dependency is:</p>
</div>
<div>
<h6 class="alphalist"><a name="50401334_pgfId-521553"></a>Application creates a kernel “foo”.</h6>
</div>
<div>
<h6 class="alphalist-"><a name="50401334_pgfId-521554"></a>Application creates input and output buffers.</h6>
</div>
<div>
<h6 class="alphalist-"><a name="50401334_pgfId-521555"></a>Application binds input and output buffers to kernel “foo”.</h6>
</div>
<div>
<h6 class="alphalist-"><a name="50401334_pgfId-521556"></a>Application repeatedly dispatches “foo” with the same parameters.</h6>
<p class="paragraph"><a name="50401334_pgfId-521557"></a>If the output data is the same each time, then this is a false dependency because there is no reason to stall concurrent execution of dispatches. To avoid stalls, use multiple output buffers. The number of buffers required to get peak performance depends on the kernel.</p>
<p class="paragraph"><a name="50401334_pgfId-521558"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_25789">See Resource Limits for Northern Islands and Southern Islands</a> compares the resource limits for Northern Islands and Southern Islands GPUs.</p>
</div>
<div>
<h6 class="table"><a name="50401334_pgfId-522138"></a><a name="50401334_25789"></a>Resource Limits for Northern Islands and Southern Islands</h6>
<table>
<tbody>
<tr>
<td colspan="2" rowspan="1">
<p class="tablehead"><a name="50401334_pgfId-522054"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead"><a name="50401334_pgfId-522151"></a>VLIW Width</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead"><a name="50401334_pgfId-522153"></a>VGPRs</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead"><a name="50401334_pgfId-522155"></a>SGPRs</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead"><a name="50401334_pgfId-522157"></a>LDS Size</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead"><a name="50401334_pgfId-522159"></a>LDS Max Alloc</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead"><a name="50401334_pgfId-522161"></a>L1$/CU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead"><a name="50401334_pgfId-522058"></a>L2$/Channel</p>
</td>
</tr>
<tr>
<td colspan="2" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-522060"></a>Northern Islands</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-522163"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-522165"></a>256 (128-bit)</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-522167"></a>–</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-522169"></a>32 kB</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-522171"></a>32 kB</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-522173"></a>8 kB</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-522064"></a>64 kB</p>
</td>
</tr>
<tr>
<td colspan="2" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-522066"></a>Southern Islands</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-522175"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-522177"></a>256<br>
(32-bit)</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-522179"></a>512</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-522181"></a>64 kB</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-522183"></a>32 kB</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-522185"></a>16 kB</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401334_pgfId-522070"></a>64 kB</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401334_pgfId-522468"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_94328">See Northern Islands Compute Unit Arrangement</a> provides a simplified picture showing the Northern Island compute unit arrangement.</p>
<div>
<h6 class="anchor"><a name="50401334_pgfId-522525"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-27.gif" alt=""></div>
</div>
</div>
<div>
<h6 class="figure"><a name="50401334_pgfId-522498"></a><a name="50401334_94328"></a>Northern Islands Compute Unit Arrangement</h6>
<p class="paragraph"><a name="50401334_pgfId-522591"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_88860">See Southern Island Compute Unit Arrangement</a> provides a simplified picture showing the Southern Island compute unit arrangement.</p>
<div>
<h6 class="anchor"><a name="50401334_pgfId-522603"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-28.gif" alt=""></div>
</div>
</div>
<div>
<h6 class="figure"><a name="50401334_pgfId-522595"></a><a name="50401334_88860"></a>Southern Island Compute Unit Arrangement</h6>
<p class="paragraph"><a name="50401334_pgfId-522597"></a></p>
<p class="paragraph"><a name="50401334_pgfId-481687"></a></p>
<p class="paragraph"><a name="50401334_pgfId-447052"></a></p>
<ol>
<li class="chapter"><a name="50401371_pgfId-412605"></a><a name="50401371_18986"></a><br>
OpenCL Performance and<br>
Optimization for Evergreen and Northern Islands Devices</li>
</ol>
<p class="paragraph"><a name="50401371_pgfId-442672"></a>This chapter discusses <a name="50401371_marker-442668"></a>performance and <a name="50401371_marker-490476"></a>optimization when programming for AMD Accelerated Parallel Processing GPU<a name="50401371_marker-490495"></a> <a name="50401371_marker-490528"></a>compute devices that are part of the Southern Islands family, as well as CPUs<a name="50401371_marker-490548"></a><a name="50401371_marker-490535"></a><a name="50401371_marker-490575"></a> and multiple devices.<a name="50401371_marker-490553"></a><a name="50401371_marker-490560"></a><a name="50401371_marker-490580"></a> Details specific to the Evergreen and Northern Islands families of GPUs are provided in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_18986">See OpenCL Performance and Optimization for GCN Devices</a></p>
</div>
</div>
<div>
<h6 class="head1"><a name="50401371_pgfId-472054"></a><a name="50401371_90380"></a>Global Memory Optimization</h6>
<p class="paragraph"><a name="50401371_pgfId-472058"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_33541">See Memory System</a> is a block diagram of the GPU memory system. The up arrows are read paths, the down arrows are write paths. WC is the write combine<a name="50401371_marker-514801"></a> cache.<a name="50401371_marker-490790"></a></p>
<p class="paragraph"><a name="50401371_pgfId-501928"></a>The GPU consists of multiple compute units<a name="50401371_marker-501927"></a>. Each compute unit contains 32 kB local (on-chip) memory, L1 cache, registers, and 16 processing element (PE). Each processing element contains a five-way (or four-way, depending on the GPU type) VLIW processor<a name="50401371_marker-501929"></a>. Individual work-items execute on a single processing element<a name="50401371_marker-501930"></a>; one or more work-groups execute on a single compute unit<a name="50401371_marker-501931"></a>. On a GPU, hardware schedules the work-items<a name="50401371_marker-501932"></a>. On the ATI Radeon<em class="superscript"> ™</em> HD 5000 series of GPUs, hardware schedules groups of work-items<a name="50401371_marker-501933"></a>, called wavefronts, onto stream cores<a name="50401371_marker-501934"></a>; thus, work-items within a wavefront execute in lock-step; the same instruction is executed on different data.</p>
<p class="paragraph"><a name="50401371_pgfId-528129"></a>The L1 cache<a name="50401371_marker-528128"></a> is 8 kB per compute unit. (For the ATI Radeon<em class="superscript"> ™</em> HD 5870 GPU, this means 160 kB for the 20 compute units.) The L1 cache bandwidth on the ATI Radeon<em class="superscript"> ™</em> HD 5870 GPU is one terabyte per second:</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-528130"></a>L1 Bandwidth = Compute Units * Wavefront Size/Compute Unit * EngineClock</p>
<p class="paragraph"><a name="50401371_pgfId-528132"></a>Multiple compute units share L2 caches. The L2 cache<a name="50401371_marker-528131"></a> size on the ATI Radeon<em class="superscript"> ™</em> HD 5870 GPUs is 512 kB:</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-528133"></a>L2 Cache Size = Number or channels * L2 per Channel</p>
<p class="paragraph"><a name="50401371_pgfId-528134"></a>The bandwidth between L1 caches and the shared L2 cache is 435 GB/s:</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-528135"></a>L2 Bandwidth = Number of channels * Wavefront Size * Engine Clock</p>
</div>
<div>
<h6 class="anchor34"><a name="50401371_pgfId-512963"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-29.gif" alt=""></div>
<div>
<h6 class="figure"><a name="50401371_pgfId-512965"></a><a name="50401371_33541"></a>Memory System</h6>
<p class="paragraph"><a name="50401371_pgfId-472072"></a>The ATI Radeon<em class="superscript"> ™</em> HD 5870 GPU has eight memory controllers (“Memory Channel” in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_33541">See Memory System</a>). The memory controllers<a name="50401371_marker-491849"></a> are connected to multiple banks of memory. The memory is GDDR5, with a clock speed of 1200 MHz and a data rate of 4800 Mb/pin. Each channel is 32-bits wide, so the peak bandwidth for the ATI Radeon<em class="superscript"> ™</em> HD 5870 GPU is:</p>
<p class="paragraph"><a name="50401371_pgfId-472076"></a> (8 memory controllers) * (4800 Mb/pin) * (32 bits) * (1 B/8b) = 154 GB/s</p>
<p class="paragraph"><a name="50401371_pgfId-474522"></a>If two memory access requests are directed to the same controller, the hardware serializes the access. This is called a channel conflict<a name="50401371_marker-490794"></a>. Similarly, if two memory access requests go to the same memory bank, hardware serializes the access. This is called a bank conflict<a name="50401371_marker-490797"></a>. From a developer’s point of view, there is not much difference between channel and bank conflicts<a name="50401371_marker-491852"></a>. A large power of two stride results in a channel conflict; a larger power of two stride results in a bank conflict. The size of the power of two stride that causes a specific type of conflict depends on the chip. A stride that results in a channel conflict on a machine with eight channels might result in a bank conflict on a machine with four.</p>
<p class="paragraph"><a name="50401371_pgfId-472078"></a>In this document, the term bank conflict is used to refer to either kind of conflict.</p>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-472079"></a>Two Memory Paths</h6>
<p class="paragraph"><a name="50401371_pgfId-472080"></a>ATI Radeon<em class="superscript"> </em> HD 5000 series<a name="50401371_marker-490802"></a> graphics processors have two, independent memory paths between the compute units and the memory:</p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-472081"></a>FastPath<a name="50401371_marker-490805"></a> performs only basic operations, such as loads and stores (data sizes must be a multiple of 32 bits). This often is faster and preferred when there are no advanced operations.</li>
<li class="FM1bullet"><a name="50401371_pgfId-472082"></a>CompletePath<a name="50401371_marker-490822"></a>, supports additional advanced operations, including atomics and sub-32-bit (byte/short) data transfers.</li>
</ul>
</div>
</div>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-472083"></a>Performance Impact of FastPath and CompletePath</h2>
<p class="paragraph"><a name="50401371_pgfId-473296"></a>There is a large difference in performance<a name="50401371_marker-490827"></a> <a name="50401371_marker-490830"></a>on ATI Radeon<em class="superscript"> </em> HD 5000 series hardware<a name="50401371_marker-491863"></a> between FastPath and CompletePath. <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_61442">See FastPath (blue) vs CompletePath (red) Using float1</a> shows two kernels (one FastPath, the other CompletePath) and the delivered DRAM bandwidth for each kernel on the ATI Radeon<em class="superscript"> ™</em> HD 5870 GPU. Note that an atomic add forces CompletePath.</p>
<div>
<h6 class="anchor"><a name="50401371_pgfId-527550"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-30.gif" alt=""></div>
</div>
<div>
<h6 class="figure"><a name="50401371_pgfId-472093"></a><a name="50401371_61442"></a>FastPath (blue) vs CompletePath (red) Using float1<a name="50401371_marker-490836"></a></h6>
<p class="paragraph"><a name="50401371_pgfId-472094"></a>The kernel code follows<a name="50401371_marker-490837"></a>. Note that the atomic extension must be enabled under OpenCL 1.0.</p>
<p class="code"><a name="50401371_pgfId-472095"></a>__kernel void</p>
<p class="code"><a name="50401371_pgfId-472096"></a> CopyFastPath(__global const float * input,</p>
<p class="code"><a name="50401371_pgfId-472097"></a> __global float * output)</p>
<p class="code"><a name="50401371_pgfId-472098"></a>{</p>
<p class="code"><a name="50401371_pgfId-472099"></a> int gid = get_global_id(0);</p>
<p class="code"><a name="50401371_pgfId-472100"></a> output[gid] = input[gid];</p>
<p class="code"><a name="50401371_pgfId-472101"></a> return ;</p>
<p class="code"><a name="50401371_pgfId-472102"></a>}</p>
<p class="code"><a name="50401371_pgfId-472103"></a>__kernel void</p>
<p class="code"><a name="50401371_pgfId-472104"></a> CopyComplete(__global const float * input, __global float* output)</p>
<p class="code"><a name="50401371_pgfId-472105"></a>{</p>
<p class="code"><a name="50401371_pgfId-472106"></a> int gid = get_global_id(0);</p>
<p class="code"><a name="50401371_pgfId-472107"></a> if (gid &lt;0){</p>
<p class="code"><a name="50401371_pgfId-472108"></a> atom_add((__global int *) output,1);</p>
<p class="code"><a name="50401371_pgfId-472109"></a> }</p>
<p class="code"><a name="50401371_pgfId-472110"></a> output[gid] = input[gid];</p>
<p class="code"><a name="50401371_pgfId-472111"></a> return ;</p>
<p class="code"><a name="50401371_pgfId-472112"></a>}</p>
<p class="paragraph"><a name="50401371_pgfId-472114"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_17927">See Bandwidths for 1D Copies</a> lists the effective bandwidth and ratio to maximum bandwidth<a name="50401371_marker-490838"></a>.</p>
</div>
<div>
<h6 class="table"><a name="50401371_pgfId-475562"></a><a name="50401371_17927"></a>Bandwidths for 1D Copies</h6>
<div>
<h6 class="anchor"><a name="50401371_pgfId-472134"></a></h6>
<table>
<tbody>
<tr>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-472117"></a>Kernel</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-472119"></a>Effective</p>
<p class="tablehead"><a name="50401371_pgfId-478560"></a>Bandwidth</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-472121"></a>Ratio to Peak</p>
<p class="tablehead"><a name="50401371_pgfId-478559"></a>Bandwidth</p>
</th>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472123"></a>copy 32-bit 1D FP</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472125"></a>96 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472127"></a>63%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472129"></a>copy 32-bit 1D CP</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472131"></a>18 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472133"></a>12%</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401371_pgfId-472135"></a>The difference in performance between FastPath and CompletePath is significant. If your kernel uses CompletePath, consider if there is another way to approach the problem that uses FastPath. OpenCL <a name="50401371_marker-490839"></a>read-only images always use FastPath.</p>
</div>
</div>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-472136"></a>Determining The Used Path</h2>
<p class="paragraph"><a name="50401371_pgfId-472137"></a>Since the path selection is done automatically by the OpenCL compiler, your kernel may be assigned to CompletePath. This section explains the strategy the compiler uses, and how to find out what path was used.<a name="50401371_marker-490840"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472138"></a>The compiler is conservative when it selects memory paths. The compiler often maps all user data into a single unordered access view (UAV<a name="50401371_marker-491878"></a>),<a class="footnote" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#pgfId-478078">5</a> so a single atomic operation (even one that is not executed) may force all loads and stores to use CompletePath.</p>
<p class="paragraph"><a name="50401371_pgfId-472139"></a>The effective bandwidth listing above shows two OpenCL kernels and the associated performance. The first kernel uses the FastPath while the second uses the CompletePath. The second kernel is forced to CompletePath because in CopyComplete, the compiler noticed the use of an atomic.<a name="50401371_marker-514807"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472140"></a>There are two ways to find out which path is used. The first method uses the CodeXL GPU Profiler<a name="50401371_marker-490841"></a>, which provides the following three performance counters for this purpose:</p>
<div>
<h6 class="number1"><a name="50401371_pgfId-472141"></a>FastPath counter: The total bytes written through the FastPath (no atomics, 32-bit types only).<a name="50401371_marker-490842"></a></h6>
<ol>
<li class="number1-"><a name="50401371_pgfId-472142"></a>CompletePath counter: The total bytes read and written through the CompletePath (supports atomics and non-32-bit types).<a name="50401371_marker-490845"></a></li>
<li class="number1-"><a name="50401371_pgfId-472143"></a>PathUtilization counter: The percentage of bytes read and written through the FastPath or CompletePath compared to the total number of bytes transferred over the bus.<a name="50401371_marker-490850"></a></li>
</ol>
<p class="paragraph"><a name="50401371_pgfId-474570"></a>The second method is static and lets you determine the path by looking at a machine-level ISA listing (using the AMD APP KernelAnalyzer2 in OpenCL). <a name="50401371_marker-490858"></a></p>
<p class="code"><a name="50401371_pgfId-472144"></a>MEM_RAT_CACHELESS -&gt; FastPath</p>
<p class="code"><a name="50401371_pgfId-472145"></a>MEM_RAT -&gt; CompPath</p>
<p class="code"><a name="50401371_pgfId-472146"></a>MEM_RAT_NOP_RTN -&gt; Comp_load</p>
<p class="paragraph"><a name="50401371_pgfId-473647"></a>FastPath operations appear in the listing as:</p>
<p class="code"><a name="50401371_pgfId-472148"></a>…</p>
<p class="code"><a name="50401371_pgfId-472149"></a>TEX: …</p>
<p class="code"><a name="50401371_pgfId-472150"></a>… VFETCH …</p>
<p class="code"><a name="50401371_pgfId-472151"></a>… MEM_RAT_CACHELESS_STORE_RAW: …</p>
<p class="code"><a name="50401371_pgfId-472152"></a>…</p>
<p class="code"><a name="50401371_pgfId-472153"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472154"></a>The <em class="filename"> vfetch</em> Instruction<a name="50401371_marker-514809"></a> is a load type that in graphics terms is called a vertex fetch<a name="50401371_marker-514810"></a> (the group control TEX indicates that the load uses the L1 cache.)</p>
<p class="paragraph"><a name="50401371_pgfId-472155"></a>The instruction<a name="50401371_marker-514888"></a> <em class="filename"> MEM_RAT_CACHELESS </em> indicates that FastPath operations are used.</p>
<p class="paragraph"><a name="50401371_pgfId-475446"></a>Loads in CompletePath are a split-phase operation. In the first phase, hardware copies the old value of a memory location into a special buffer. This is done by performing atomic operations on the memory location. After the value has reached the buffer, a normal load is used to read the value. Note that RAT stands for random access target<a name="50401371_marker-514811"></a>, which is the same as an unordered access view (UAV)<a name="50401371_marker-514812"></a>; it allows, on DX11 hardware, writes to, and reads from, any arbitrary location in a buffer.</p>
<p class="paragraph"><a name="50401371_pgfId-474333"></a>The listing shows:</p>
<p class="code"><a name="50401371_pgfId-472158"></a>.. MEM_RAT_NOP_RTN_ACK: RAT(1)</p>
<p class="code"><a name="50401371_pgfId-472159"></a>.. WAIT_ACK: Outstanding_acks &lt;= 0</p>
<p class="code"><a name="50401371_pgfId-472160"></a>.. TEX: ADDR(64) CNT(1)</p>
<p class="code"><a name="50401371_pgfId-472161"></a>.. VFETCH …</p>
<p class="code"><a name="50401371_pgfId-472162"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472163"></a>The instruction sequence means the following:</p>
<p class="paragraph"><a name="50401371_pgfId-472164"></a><em class="filename"> MEM_RAT</em> Read into a buffer using CompletePath, do no operation on the memory location, and send an ACK when done.<a name="50401371_marker-514840"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472165"></a><em class="filename"> WAIT_ACK</em> Suspend execution of the wavefront until the ACK is received. If there is other work pending this might be free, but if there is no other work to be done this could take 100’s of cycles.<a name="50401371_marker-514843"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472166"></a><em class="filename"> TEX</em> Use the L1 cache for the next instruction.<a name="50401371_marker-514848"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472167"></a><em class="filename"> VFETCH </em> Do a load instruction to (finally) get the value.<a name="50401371_marker-514853"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472168"></a>Stores appear as:</p>
<p class="code"><a name="50401371_pgfId-472169"></a>.. MEM_RAT_STORE_RAW: RAT(1)</p>
<p class="code"><a name="50401371_pgfId-472170"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472171"></a>The instruction <em class="filename"> MEM_RAT_STORE</em> <a name="50401371_marker-514813"></a>is the store along the CompletePath.</p>
<p class="paragraph"><a name="50401371_pgfId-472172"></a><em class="filename"> MEM_RAT</em> means<a name="50401371_marker-514889"></a> CompletePath; <em class="filename"> MEM_RAT_CACHELESS</em> means FastPath.<a name="50401371_marker-514890"></a></p>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-472173"></a>Channel Conflicts</h6>
<p class="paragraph"><a name="50401371_pgfId-492063"></a>The important concept is memory stride<a name="50401371_marker-492062"></a>: the increment in memory address, measured in elements, between successive elements fetched or stored by consecutive work-items in a kernel. Many important kernels do not exclusively use simple stride one accessing patterns; instead, they feature large non-unit strides<a name="50401371_marker-492071"></a>. For instance, many codes perform similar operations on each dimension of a two- or three-dimensional array. Performing computations on the low dimension can often be done with unit stride<a name="50401371_marker-492072"></a>, but the strides of the computations in the other dimensions are typically large values. This can result in significantly degraded performance when the codes are ported unchanged to GPU systems. A CPU with caches presents the same problem, large power-of-two strides force data into only a few cache lines.</p>
<p class="paragraph"><a name="50401371_pgfId-472175"></a>One solution is to rewrite the code to employ array transpositions<a name="50401371_marker-490875"></a> between the kernels. This allows all computations to be done at unit stride<a name="50401371_marker-490868"></a>. Ensure that the time required for the transposition is relatively small compared to the time to perform the kernel calculation.</p>
<p class="paragraph"><a name="50401371_pgfId-472176"></a>For many kernels, the reduction in performance is sufficiently large that it is worthwhile to try to understand and solve this problem.</p>
<p class="paragraph"><a name="50401371_pgfId-472177"></a>In GPU programming, it is best to have adjacent work-items read or write adjacent memory addresses<a name="50401371_marker-491895"></a>. This is one way to avoid channel conflicts. <a name="50401371_marker-490869"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472178"></a>When the application has complete control of the access pattern and address generation, the developer must arrange the data structures<a name="50401371_marker-490870"></a> to minimize bank conflicts. Accesses that differ in the lower bits can run in parallel; those that differ only in the upper bits can be serialized.</p>
<p class="paragraph"><a name="50401371_pgfId-472179"></a>In this example:</p>
<p class="code"><a name="50401371_pgfId-472180"></a>for (ptr=base; ptr&lt;max; ptr += 16KB)</p>
<p class="code"><a name="50401371_pgfId-472181"></a> R0 = *ptr ;</p>
<p class="code"><a name="50401371_pgfId-472182"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472183"></a>where the lower bits are all the same, the memory requests all access the same bank on the same channel and are processed serially.<a name="50401371_marker-514868"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472184"></a>This is a low-performance pattern to be avoided. When the stride is a power of 2 (and larger than the channel interleave), the loop above only accesses one channel of memory.</p>
<p class="paragraph"><a name="50401371_pgfId-472255"></a>The hardware byte address bits are:</p>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-31.gif" alt=""></div>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-472256"></a>On all ATI Radeon<em class="superscript"> </em> HD 5000-series GPUs, the lower eight bits select an element within a channel.</li>
<li class="FM1bullet"><a name="50401371_pgfId-472257"></a>The next set of bits select the channel. The number of channel bits varies, since the number of channels is not the same on all parts. With eight channels, three bits are used to select the channel; with two channels, a single bit is used.</li>
<li class="FM1bullet"><a name="50401371_pgfId-472258"></a>The next set of bits selects the memory bank. The number of bits used depends on the number of memory banks.</li>
<li class="FM1bullet"><a name="50401371_pgfId-472259"></a>The remaining bits are the rest of the address.</li>
</ul>
<p class="paragraph"><a name="50401371_pgfId-472260"></a>On the ATI Radeon<em class="superscript"> </em> HD 5870 GPU<a name="50401371_marker-514891"></a>, the channel selection are bits 10:8 of the byte address. This means a linear burst switches channels every 256 bytes. Since the wavefront size is 64, channel conflicts are avoided if each work-item in a wave reads a different address from a 64-word region. All ATI Radeon<em class="superscript"> </em> HD 5000 series GPUs have the same layout: channel ends at bit 8, and the memory bank is to the left of the channel.</p>
<p class="paragraph"><a name="50401371_pgfId-472261"></a>A burst<a name="50401371_marker-514892"></a> of 2 kB (8 * 256 bytes) cycles through all the channels.</p>
<p class="paragraph"><a name="50401371_pgfId-472262"></a>When calculating an address as y*width+x, but reading a burst on a column (incrementing y), only one memory channel of the system is used, since the width is likely a multiple of 256 words = 2048 bytes. If the width is an odd multiple of 256B, then it cycles through all channels.</p>
<p class="paragraph"><a name="50401371_pgfId-472263"></a>Similarly, the bank selection bits on the ATI Radeon<em class="superscript"> </em> HD 5870 GPU<a name="50401371_marker-514893"></a> are bits 14:11, so the bank switches every 2 kB. A linear burst of 32 kB cycles through all banks and channels of the system. If accessing a 2D surface along a column, with a y*width+x calculation, and the width is some multiple of 2 kB dwords (32 kB), then only 1 bank and 1 channel are accessed of the 16 banks and 8 channels available on this GPU.</p>
<p class="paragraph"><a name="50401371_pgfId-472264"></a>All ATI Radeon<em class="superscript"> </em> HD 5000-series GPUs<a name="50401371_marker-514894"></a> have an interleave of 256 bytes (64 dwords).</p>
<p class="paragraph"><a name="50401371_pgfId-525123"></a>If every work-item in a work-group references consecutive memory addresses and the address of work-item 0 is aligned to 256 bytes and each work-item fetches 32 bits, the entire wavefront accesses one channel. Although this seems slow, it actually is a fast pattern because it is necessary to consider the memory access over the entire device, not just a single wavefront.</p>
<p class="paragraph"><a name="50401371_pgfId-472266"></a>One or more work-groups execute on each compute unit. On the ATI Radeon<em class="superscript"> </em> HD 5000-series GPUs<a name="50401371_marker-514895"></a>, work-groups are dispatched in a linear order, with x changing most rapidly. For a single dimension, this is:</p>
<p class="paragraph"><a name="50401371_pgfId-472267"></a>DispatchOrder = <em class="filename"> get_group_id(0)</em></p>
<p class="paragraph"><a name="50401371_pgfId-472268"></a>For two dimensions, this is:</p>
<p class="paragraph"><a name="50401371_pgfId-472269"></a>DispatchOrder = <em class="filename"> get_group_id(0) + get_group_id(1) * get_num_groups(0)</em></p>
<p class="paragraph"><a name="50401371_pgfId-472270"></a>This is row-major-ordering of the blocks in the index space. Once all compute units are in use, additional work-groups are assigned to compute units as needed. Work-groups retire in order<a name="50401371_marker-514896"></a>, so active work-groups are contiguous.</p>
<p class="paragraph"><a name="50401371_pgfId-472271"></a>At any time, each compute unit is executing an instruction from a single wavefront. In memory intensive kernels, it is likely that the instruction is a memory access. Since there are eight channels<a name="50401371_marker-514897"></a> on the ATI Radeon<em class="superscript"> </em> HD 5870 GPU, at most eight of the compute units can issue a memory access operation in one cycle. It is most efficient if the accesses from eight wavefronts go to different channels. One way to achieve this is for each wavefront to access consecutive groups of 256 = 64 * 4 bytes.</p>
<p class="paragraph"><a name="50401371_pgfId-472272"></a>An inefficient access pattern<a name="50401371_marker-514898"></a> is if each wavefront accesses all the channels. This is likely to happen if consecutive work-items access data that has a large power of two strides.</p>
<p class="paragraph"><a name="50401371_pgfId-479533"></a>In the next example of a kernel for copying, the input and output buffers are interpreted as though they were 2D, and the work-group size is organized as 2D.</p>
<p class="paragraph"><a name="50401371_pgfId-479544"></a>The kernel code is:</p>
<p class="code"><a name="50401371_pgfId-472284"></a>#define WIDTH 1024</p>
<p class="code"><a name="50401371_pgfId-472285"></a>#define DATA_TYPE float</p>
<p class="code"><a name="50401371_pgfId-472286"></a>#define A(y , x ) A[ (y) * WIDTH + (x ) ]
</p><p class="code"><a name="50401371_pgfId-472287"></a>#define C(y , x ) C[ (y) * WIDTH+(x ) ]
</p><p class="code"><a name="50401371_pgfId-472288"></a>kernel void copy_float (__global const</p>
<p class="code"><a name="50401371_pgfId-472289"></a> DATA_TYPE * A,</p>
<p class="code"><a name="50401371_pgfId-472290"></a> __global DATA_TYPE* C)</p>
<p class="code"><a name="50401371_pgfId-472291"></a>{</p>
<p class="code"><a name="50401371_pgfId-472292"></a> int idx = get_global_id(0);</p>
<p class="code"><a name="50401371_pgfId-472293"></a> int idy = get_global_id(1);</p>
<p class="code"><a name="50401371_pgfId-472294"></a> C(idy, idx) = A( idy, idx);</p>
<p class="code"><a name="50401371_pgfId-472295"></a>}</p>
<p class="code"><a name="50401371_pgfId-472296"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472297"></a>By changing the width, the data type and the work-group dimensions, we get a set of kernels<a name="50401371_marker-514899"></a> out of this code.</p>
<p class="paragraph"><a name="50401371_pgfId-472298"></a>Given a 64×1 work-group size, each work-item reads a consecutive 32-bit address. Given a 1×64 work-group size, each work-item reads a value separated by the width in a power of two bytes.</p>
<p class="paragraph"><a name="50401371_pgfId-472299"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_66411">See Bandwidths for Different Launch Dimensions</a> shows how much the launch dimension can affect performance. It lists each kernel’s effective bandwidth and ratio to maximum bandwidth.</p>
<div>
<h6 class="table"><a name="50401371_pgfId-475632"></a><a name="50401371_66411"></a>Bandwidths for Different Launch Dimensions<a name="50401371_marker-514869"></a></h6>
<div>
<h6 class="anchor"><a name="50401371_pgfId-472331"></a></h6>
<table>
<tbody>
<tr>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-528304"></a>Kernel</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-528306"></a>Effective</p>
<p class="tablehead"><a name="50401371_pgfId-528307"></a>Bandwidth</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-528309"></a>Ratio to Peak</p>
<p class="tablehead"><a name="50401371_pgfId-528310"></a>Bandwidth</p>
</th>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-528312"></a>copy 32-bit 1D FP</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-528314"></a>96 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-528316"></a>63%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-528318"></a>copy 32-bit 1D CP</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-528320"></a>18 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-528322"></a>12%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-528324"></a>copy 32-bit 2D</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-528326"></a>.3 – 93 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-528328"></a>0 – 60%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-528330"></a>copy 128-bit 2D</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-528332"></a>7 – 122 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-528334"></a>5 – 80%</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401371_pgfId-472332"></a>To avoid power of two strides:<a name="50401371_marker-514870"></a></p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-472333"></a>Add an extra column to the data matrix.</li>
<li class="FM1bullet"><a name="50401371_pgfId-472337"></a>Change the work-group size so that it is not a power of 2<a class="footnote" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#pgfId-472336">6</a>.</li>
<li class="FM1bullet"><a name="50401371_pgfId-472338"></a>It is best to use a width that causes a rotation through all of the memory channels, instead of using the same one repeatedly.</li>
<li class="FM1bullet"><a name="50401371_pgfId-472339"></a>Change the kernel to access the matrix with a staggered offset.</li>
</ul>
</div>
</div>
</div>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-472340"></a>Staggered Offsets</h2>
<p class="paragraph"><a name="50401371_pgfId-472341"></a>Staggered offsets<a name="50401371_marker-490876"></a> apply a coordinate transformation to the kernel so that the data is processed in a different order<a name="50401371_marker-490877"></a>. Unlike adding a column, this technique does not use extra space. It is also relatively simple to add to existing code.</p>
<p class="paragraph"><a name="50401371_pgfId-513543"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_65362">See Transformation to Staggered Offsets</a> illustrates the transformation to staggered offsets.<a name="50401371_marker-514873"></a></p>
<div>
<h6 class="anchor34"><a name="50401371_pgfId-513547"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-32.gif" alt=""></div>
<div>
<h6 class="figure"><a name="50401371_pgfId-513550"></a><a name="50401371_65362"></a>Transformation to Staggered Offsets<a name="50401371_marker-513549"></a></h6>
<p class="paragraph"><a name="50401371_pgfId-472342"></a>The global ID values reflect the order that the hardware initiates work-groups. The values of get group ID<a name="50401371_marker-514901"></a> are in ascending launch order.<a name="50401371_marker-514900"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472343"></a><em class="filename"> global_id(0) = get_group_id(0) * get_local_size(0) + get_local_id(0)<br>
global_id(1) = get_group_id(1) * get_local_size(1) + get_local_id(1)</em></p>
<p class="paragraph"><a name="50401371_pgfId-472345"></a>The hardware launch order is fixed, but it is possible to change the launch order, as shown in the following example.<a name="50401371_marker-514875"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472346"></a>Assume a work-group size of k x k, where k is a power of two, and a large 2D matrix of size 2n x 2m in row-major order. If each work-group<a name="50401371_marker-514902"></a> must process a block in column-order, the launch order does not work out correctly: consecutive work-groups execute down the columns, and the columns are a large power-of-two apart; so, consecutive work-groups access the same channel.</p>
<p class="paragraph"><a name="50401371_pgfId-472347"></a>By introducing a transformation, it is possible to stagger the work-groups<a name="50401371_marker-490878"></a> to avoid channel conflicts<a name="50401371_marker-490880"></a>. Since we are executing 2D work-groups, each work group is identified by four numbers.<a name="50401371_marker-514906"></a></p>
<div>
<h6 class="number1"><a name="50401371_pgfId-472348"></a><em class="filename"> get_group_id(0) </em> – the x coordinate or the block within the column of the matrix.</h6>
<ol>
<li class="number1-"><a name="50401371_pgfId-472349"></a><em class="filename"> get_group_id(1</em> ) – the y coordinate or the block within the row of the matrix.</li>
<li class="number1-"><a name="50401371_pgfId-472350"></a><em class="filename"> get_global_id(0)</em> – the x coordinate or the column of the matrix.</li>
<li class="number1-"><a name="50401371_pgfId-472351"></a><em class="filename"> get_global_id(1)</em> – the y coordinate or the row of the matrix.</li>
</ol>
<p class="paragraph"><a name="50401371_pgfId-472362"></a>To transform the code, add the following four lines to the top of the kernel.</p>
<p class="code"><a name="50401371_pgfId-472363"></a>get_group_id_0 = get_group_id(0);</p>
<p class="code"><a name="50401371_pgfId-472364"></a>get_group_id_1 = (get_group_id(0) + get_group_id(1)) % get_local_size(0);</p>
<p class="code"><a name="50401371_pgfId-472365"></a>get_global_id_0 = get_group_id_0 * get_local_size(0) + get_local_id(0);</p>
<p class="code"><a name="50401371_pgfId-472366"></a>get_global_id_1 = get_group_id_1 * get_local_size(1) + get_local_id(1);</p>
<p class="paragraph"><a name="50401371_pgfId-472367"></a>Then, change the global IDs and group IDs to the staggered form. The result is:</p>
<p class="code"><a name="50401371_pgfId-484355"></a>__kernel void</p>
<p class="code"><a name="50401371_pgfId-484356"></a>copy_float (</p>
<p class="code"><a name="50401371_pgfId-484357"></a> __global const DATA_TYPE * A,</p>
<p class="code"><a name="50401371_pgfId-484358"></a> __global DATA_TYPE * C)</p>
<p class="code"><a name="50401371_pgfId-484359"></a>{</p>
<p class="code"><a name="50401371_pgfId-484360"></a> size_t get_group_id_0 = get_group_id(0);</p>
<p class="code"><a name="50401371_pgfId-484361"></a> size_t get_group_id_1 = (get_group_id(0) + get_group_id(1)) %<br>
get_local_size(0);</p>
<p class="code"><a name="50401371_pgfId-484362"></a></p>
<p class="code"><a name="50401371_pgfId-484363"></a> size_t get_global_id_0 = get_group_id_0 * get_local_size(0) +<br>
get_local_id(0);</p>
<p class="code"><a name="50401371_pgfId-484364"></a> size_t get_global_id_1 = get_group_id_1 * get_local_size(1) +<br>
get_local_id(1);</p>
<p class="code"><a name="50401371_pgfId-484365"></a></p>
<p class="code"><a name="50401371_pgfId-484366"></a> int idx = get_global_id_0; //changed to staggered form</p>
<p class="code"><a name="50401371_pgfId-484367"></a> int idy = get_global_id_1; //changed to staggered form</p>
<p class="code"><a name="50401371_pgfId-484368"></a></p>
<p class="code"><a name="50401371_pgfId-484369"></a> C(idy , idx) = A( idy , idx);</p>
<p class="code"><a name="50401371_pgfId-472384"></a>}</p>
</div>
</div>
</div>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-472385"></a>Reads Of The Same Address</h2>
<p class="paragraph"><a name="50401371_pgfId-472386"></a>Under certain conditions, one unexpected case of a channel conflict is that reading from the same address is a conflict, even on the <a name="50401371_marker-514878"></a>FastPath.<a name="50401371_marker-490882"></a><a name="50401371_marker-491910"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472387"></a>This does not happen on the read-only memories, such as constant buffers, textures, or shader resource view (SRV)<a name="50401371_marker-514876"></a>; but it is possible on the read/write UAV memory or OpenCL global memory.<a name="50401371_marker-514912"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472388"></a>From a hardware standpoint, reads from a fixed address have the same upper bits, so they collide and are serialized. To read in a single value<a name="50401371_marker-514907"></a>, read the value in a single work-item, place it in local memory, and then use that location:</p>
<p class="paragraph"><a name="50401371_pgfId-472389"></a>Avoid:</p>
<p class="code"><a name="50401371_pgfId-472390"></a> temp = input[3] // if input is from global space</p>
<p class="paragraph"><a name="50401371_pgfId-472391"></a>Use:</p>
<p class="code"><a name="50401371_pgfId-472392"></a> if (get_local_id(0) == 0) {</p>
<p class="code"><a name="50401371_pgfId-472393"></a> local = input[3]
</p><p class="code"><a name="50401371_pgfId-472394"></a> }</p>
<p class="code"><a name="50401371_pgfId-472395"></a> barrier(CLK_LOCAL_MEM_FENCE);</p>
<p class="code"><a name="50401371_pgfId-472396"></a> temp = local</p>
<div>
<h6 class="head2"><a name="50401371_pgfId-472397"></a>Float4 Or Float1</h6>
<p class="paragraph"><a name="50401371_pgfId-472398"></a>The internal memory paths on ATI Radeon<em class="superscript"> </em> HD 5000-series devices<a name="50401371_marker-491914"></a> support 128-bit transfers. This allows for greater bandwidth when transferring data in float4 format<a name="50401371_marker-490883"></a>. In certain cases (when the data size is a multiple of four), float4 operations are faster.</p>
<p class="paragraph"><a name="50401371_pgfId-472402"></a>The performance of these kernels<a name="50401371_marker-514879"></a> can be seen in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_50275">See Two Kernels: One Using float4 (blue), the Other float1 (red)</a>. Change to float4 after eliminating the conflicts.</p>
<div>
<h6 class="anchor"><a name="50401371_pgfId-472406"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-33.gif" alt=""></div>
</div>
<div>
<h6 class="figure"><a name="50401371_pgfId-472408"></a><a name="50401371_50275"></a>Two Kernels: One Using float4 (blue), the Other float1 (red)<a name="50401371_marker-490884"></a></h6>
<p class="paragraph"><a name="50401371_pgfId-472409"></a>The following code example has two kernels, both of which can do a simple copy, but Copy4 uses float4 data types.<a name="50401371_marker-514913"></a></p>
<p class="code"><a name="50401371_pgfId-472410"></a>__kernel void</p>
<p class="code"><a name="50401371_pgfId-472411"></a>Copy4(__global const float4 * input,</p>
<p class="code"><a name="50401371_pgfId-472412"></a> __global float4 * output)</p>
<p class="code"><a name="50401371_pgfId-472413"></a>{</p>
<p class="code"><a name="50401371_pgfId-472414"></a> int gid = get_global_id(0);</p>
<p class="code"><a name="50401371_pgfId-472415"></a> output[gid] = input[gid];</p>
<p class="code"><a name="50401371_pgfId-472416"></a> return;</p>
<p class="code"><a name="50401371_pgfId-472417"></a>}</p>
<p class="code"><a name="50401371_pgfId-472418"></a>__kernel void</p>
<p class="code"><a name="50401371_pgfId-472419"></a>Copy1(__global const float * input,</p>
<p class="code"><a name="50401371_pgfId-472420"></a> __global float * output)</p>
<p class="code"><a name="50401371_pgfId-472421"></a>{</p>
<p class="code"><a name="50401371_pgfId-472422"></a> int gid = get_global_id(0);</p>
<p class="code"><a name="50401371_pgfId-472423"></a> output[gid] = input[gid];</p>
<p class="code"><a name="50401371_pgfId-472424"></a> return;</p>
<p class="code"><a name="50401371_pgfId-472425"></a>}</p>
<p class="paragraph"><a name="50401371_pgfId-472427"></a>Copying data as float4 gives the best result: 84% of absolute peak. It also speeds up the 2D versions of the copy (see <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_99819">See Bandwidths Including float1 and float4</a>).</p>
</div>
<div>
<h6 class="table"><a name="50401371_pgfId-475650"></a><a name="50401371_99819"></a>Bandwidths Including float1 and float4<a name="50401371_marker-490885"></a></h6>
<div>
<h6 class="anchor"><a name="50401371_pgfId-472465"></a></h6>
<table>
<tbody>
<tr>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-472430"></a>Kernel</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-472432"></a>Effective</p>
<p class="tablehead"><a name="50401371_pgfId-483458"></a>Bandwidth</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-472434"></a>Ratio to Peak</p>
<p class="tablehead"><a name="50401371_pgfId-483443"></a>Bandwidth</p>
</th>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472436"></a>copy 32-bit 1D FP</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472438"></a>96 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472440"></a>63%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472442"></a>copy 32-bit 1D CP</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472444"></a>18 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472446"></a>12%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472448"></a>copy 32-bit 2D</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472450"></a>.3 – 93 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472452"></a>0 – 61%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472454"></a>copy 128-bit 2D</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472456"></a>7 – 122 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472458"></a>5 – 80%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472460"></a>copy4 float4 1D FP</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472462"></a>127 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472464"></a>83%</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-472466"></a>Coalesced Writes</h6>
<p class="paragraph"><a name="50401371_pgfId-472467"></a>On some other vendor devices, it is important to reorder your data to use coalesced writes<a name="50401371_marker-490886"></a>. The ATI Radeon<em class="superscript"> </em> HD 5000-series devices also support coalesced writes, but this optimization is less important than other considerations, such as avoiding bank conflicts.</p>
<p class="paragraph"><a name="50401371_pgfId-472468"></a>In non-coalesced writes<a name="50401371_marker-490887"></a>, each compute unit accesses the memory system<a name="50401371_marker-490891"></a> in quarter-wavefront units<a name="50401371_marker-490890"></a>. The compute unit transfers a 32-bit address and one element-sized piece of data for each work-item. This results in a total of 16 elements + 16 addresses per quarter-wavefront. On ATI Radeon<em class="superscript"> </em> HD 5000-series devices, processing quarter-wavefront requires two cycles before the data is transferred to the memory controller.</p>
<p class="paragraph"><a name="50401371_pgfId-472469"></a>In coalesced writes<a name="50401371_marker-490892"></a>, the compute unit transfers one 32-bit address and 16 element-sized pieces of data for each quarter-wavefront, for a total of 16 elements +1 address per quarter-wavefront. For coalesced writes, processing quarter-wavefront takes one cycle instead of two. While this is twice as fast, the times are small compared to the rate the memory controller can handle the data. See <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_71951">See Effect of Varying Degrees of Coalescing – Coal (blue), NoCoal (red), Split (green)</a>.</p>
<p class="paragraph"><a name="50401371_pgfId-472473"></a>On ATI Radeon<em class="superscript"> </em> HD 5000-series devices, the coalescing is only done on the FastPath<a name="50401371_marker-490893"></a> because it supports only 32-bit access.</p>
<p class="paragraph"><a name="50401371_pgfId-472474"></a>If a work-item does not write, coalesce detection ignores it<a name="50401371_marker-490894"></a>.</p>
<p class="paragraph"><a name="50401371_pgfId-527573"></a>The first kernel Copy1 maximizes coalesced writes: work-item k writes to address k. The second kernel writes a shifted pattern: In each quarter-wavefront of 16 work-items, work-item k writes to address k-1, except the first work-item in each quarter-wavefront writes to address k+16. There is not enough order here to coalesce on some other vendor machines. Finally, the third kernel has work-item k write to address k when k is even, and write address 63-k when k is odd. This pattern never coalesces.</p>
<div>
<h6 class="anchor"><a name="50401371_pgfId-472478"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-34.gif" alt=""></div>
</div>
<div>
<h6 class="figure"><a name="50401371_pgfId-472480"></a><a name="50401371_71951"></a>Effect of Varying Degrees of Coalescing – Coal (blue), NoCoal (red), Split (green)</h6>
<p class="paragraph"><a name="50401371_pgfId-472482"></a>Write coalescing can be an important factor for AMD GPUs.<a name="50401371_marker-514880"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472483"></a>The following are sample kernels with different coalescing patterns.<a name="50401371_marker-490896"></a></p>
<p class="code"><a name="50401371_pgfId-472484"></a>// best access pattern</p>
<p class="code"><a name="50401371_pgfId-472485"></a>__kernel void</p>
<p class="code"><a name="50401371_pgfId-472486"></a>Copy1(__global const float * input, __global float * output)</p>
<p class="code"><a name="50401371_pgfId-472487"></a>{</p>
<p class="code"><a name="50401371_pgfId-472488"></a> uint gid = get_global_id(0);</p>
<p class="code"><a name="50401371_pgfId-472489"></a> output[gid] = input[gid];</p>
<p class="code"><a name="50401371_pgfId-472490"></a> return;</p>
<p class="code"><a name="50401371_pgfId-472491"></a>}</p>
<p class="code"><a name="50401371_pgfId-472492"></a>__kernel void NoCoal (__global const float * input,</p>
<p class="code"><a name="50401371_pgfId-472493"></a>__global float * output)</p>
<p class="code"><a name="50401371_pgfId-472494"></a>// (shift by 16)</p>
<p class="code"><a name="50401371_pgfId-472495"></a>{</p>
<p class="code"><a name="50401371_pgfId-472496"></a> int gid = get_global_id(0)-1;</p>
<p class="code"><a name="50401371_pgfId-472497"></a> if((get_local_id(0) &amp; 0xf) == 0)</p>
<p class="code"><a name="50401371_pgfId-472498"></a> {</p>
<p class="code"><a name="50401371_pgfId-472499"></a> gid = gid +16;</p>
<p class="code"><a name="50401371_pgfId-472500"></a> }</p>
<p class="code"><a name="50401371_pgfId-472501"></a> output[gid] = input[gid];</p>
<p class="code"><a name="50401371_pgfId-472502"></a> return;</p>
<p class="code"><a name="50401371_pgfId-472503"></a>}</p>
<p class="code"><a name="50401371_pgfId-472504"></a>__kernel void</p>
<p class="code"><a name="50401371_pgfId-472505"></a>// inefficient pattern</p>
<p class="code"><a name="50401371_pgfId-472506"></a>Split (__global const float * input, __global float * output)</p>
<p class="code"><a name="50401371_pgfId-472508"></a>{</p>
<p class="code"><a name="50401371_pgfId-472509"></a> int gid = get_global_id(0);</p>
<p class="code"><a name="50401371_pgfId-472510"></a> if((gid &amp; 0x1) == 0) {</p>
<p class="code"><a name="50401371_pgfId-472511"></a> gid = (gid &amp; (˜63)) +62 – get_local_id(0);</p>
<p class="code"><a name="50401371_pgfId-472512"></a>}</p>
<p class="code"><a name="50401371_pgfId-472513"></a>output[gid] = input[gid];</p>
<p class="code"><a name="50401371_pgfId-472514"></a>return;</p>
<p class="code"><a name="50401371_pgfId-472515"></a>}</p>
<p class="code"><a name="50401371_pgfId-472516"></a></p>
<p class="paragraph"><a name="50401371_pgfId-472517"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_52549">See Bandwidths Including Coalesced Writes</a> lists the effective bandwidth and ratio to maximum bandwidth for each kernel type.<a name="50401371_marker-490897"></a></p>
</div>
<div>
<h6 class="table"><a name="50401371_pgfId-475660"></a><a name="50401371_52549"></a>Bandwidths Including Coalesced Writes</h6>
<div>
<h6 class="anchor"><a name="50401371_pgfId-472567"></a></h6>
<table>
<tbody>
<tr>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-472520"></a>Kernel</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-472522"></a>Effective</p>
<p class="tablehead"><a name="50401371_pgfId-480120"></a>Bandwidth</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-472524"></a>Ratio to Peak</p>
<p class="tablehead"><a name="50401371_pgfId-480119"></a>Bandwidth</p>
</th>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472526"></a>copy 32-bit 1D FP</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472528"></a>96 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472530"></a>63%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472532"></a>copy 32-bit 1D CP</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472534"></a>18 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472536"></a>12%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472538"></a>copy 32-bit 2D</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472540"></a>.3 – 93 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472542"></a>0 – 61%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472544"></a>copy 128-bit 2D</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472546"></a>7 – 122 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472548"></a>5 – 80%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472550"></a>copy4 float4 1D FP</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472552"></a>127 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472554"></a>83%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-480126"></a>Coal 32-bit</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-480128"></a>97</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-480130"></a>63%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472556"></a>NoCoal 32-bit</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472558"></a>93 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472560"></a>61%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472562"></a>Split 32-bit</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472564"></a>90 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472566"></a>59%</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401371_pgfId-472568"></a>There is not much performance difference, although the coalesced version is slightly faster.</p>
</div>
</div>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-472569"></a>Alignment</h6>
<p class="paragraph"><a name="50401371_pgfId-515533"></a>The program in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_54150">See Unaligned Access Using float1</a> shows how the performance of a simple, unaligned access (float1) of this kernel <a name="50401371_marker-515534"></a>varies as the size of offset varies. Each transfer was large (16 MB). The performance gain by adjusting alignment is small, so generally this is not an important consideration on AMD GPUs.<a name="50401371_marker-515535"></a></p>
<div>
<h6 class="anchor"><a name="50401371_pgfId-515539"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-35.gif" alt=""></div>
</div>
<div>
<h6 class="figure"><a name="50401371_pgfId-472579"></a><a name="50401371_54150"></a>Unaligned Access Using float1<a name="50401371_marker-490899"></a></h6>
<p class="code"><a name="50401371_pgfId-472580"></a>__kernel void</p>
<p class="code"><a name="50401371_pgfId-472581"></a>CopyAdd(global const float * input,</p>
<p class="code"><a name="50401371_pgfId-472582"></a>__global float * output,</p>
<p class="code"><a name="50401371_pgfId-472583"></a>const int offset)</p>
<p class="code"><a name="50401371_pgfId-472584"></a>{</p>
<p class="code"><a name="50401371_pgfId-472585"></a>int gid = get_global_id(0)+ offset;</p>
<p class="code"><a name="50401371_pgfId-472586"></a>output[gid] = input[gid];</p>
<p class="code"><a name="50401371_pgfId-472587"></a>return;</p>
<p class="code"><a name="50401371_pgfId-472588"></a>}</p>
<p class="paragraph"><a name="50401371_pgfId-472590"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_87948">See Bandwidths Including Unaligned Access</a> lists the effective bandwidth and ratio to maximum bandwidth for each kernel type.</p>
</div>
<div>
<h6 class="table"><a name="50401371_pgfId-475684"></a><a name="50401371_87948"></a>Bandwidths Including Unaligned Access<a name="50401371_marker-490900"></a></h6>
<div>
<h6 class="anchor"><a name="50401371_pgfId-472646"></a></h6>
<table>
<tbody>
<tr>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-472593"></a>Kernel</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-472595"></a>Effective Bandwidth</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-472597"></a>Ratio to Peak Bandwidth</p>
</th>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472599"></a>copy 32-bit 1D FP</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472601"></a>96 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472603"></a>63%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472605"></a>copy 32-bit 1D CP</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472607"></a>18 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472609"></a>12%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472611"></a>copy 32-bit 2D</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472613"></a>.3 – 93 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472615"></a>0 – 61%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472617"></a>copy 128-bit 2D</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472619"></a>7 – 122 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472621"></a>5 – 80%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472623"></a>copy4 float4 1D FP</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472625"></a>127 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472627"></a>83%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-480138"></a>Coal</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-480140"></a>97</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-480142"></a>63%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472629"></a>NoCoal 32-bit</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472631"></a>90 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472633"></a>59%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472635"></a>Split 32-bit</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472637"></a>90 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472639"></a>59%</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472641"></a>CopyAdd 32-bit</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472643"></a>92 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-472645"></a>60%</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-472647"></a>Summary of Copy Performance</h6>
<p class="paragraph"><a name="50401371_pgfId-472648"></a>The performance of a copy can vary greatly, depending on how the code is written.<a name="50401371_marker-490901"></a> The measured bandwidth for these copies varies from a low of 0.3 GB/s, to a high of 127 GB/s.</p>
<p class="paragraph"><a name="50401371_pgfId-472649"></a>The recommended order of steps to improve performance is<a name="50401371_marker-490902"></a>:</p>
<div>
<h6 class="number1"><a name="50401371_pgfId-472650"></a>Examine the code to ensure you are using FastPath, not CompletePath, everywhere possible. Check carefully to see if you are minimizing the number of kernels that use CompletePath operations. You might be able to use textures, image-objects, or constant buffers to help.</h6>
<ol>
<li class="number1-"><a name="50401371_pgfId-472651"></a>Examine the data-set sizes and launch dimensions to see if you can eliminate bank conflicts.</li>
<li class="number1-"><a name="50401371_pgfId-472652"></a>Try to use float4 instead of float1.</li>
<li class="number1-"><a name="50401371_pgfId-472653"></a>Try to change the access pattern to allow write coalescing. This is important on some hardware platforms, but only of limited importance for AMD GPU devices.</li>
<li class="number1-"><a name="50401371_pgfId-472654"></a>Finally, look at changing the access pattern to allow data alignment.</li>
</ol>
</div>
</div>
<div>
<h6 class="head1"><a name="50401371_pgfId-481974"></a><a name="50401371_21250"></a>Local Memory (LDS) Optimization</h6>
<p class="paragraph"><a name="50401371_pgfId-481975"></a>AMD Evergreen GPUs include a Local Data Store (LDS) cache, which accelerates local memory accesses<a name="50401371_marker-490903"></a>. LDS is not supported in OpenCL on AMD R700-family GPUs. LDS provides high-bandwidth access (more than 10X higher than global memory), efficient data transfers between work-items in a work-group, and high-performance atomic support. Local memory offers significant advantages when the data is re-used; for example, subsequent accesses can read from local memory, thus reducing global memory bandwidth. Another advantage is that local memory does not require coalescing.</p>
<p class="paragraph"><a name="50401371_pgfId-481976"></a>To determine local memory size<a name="50401371_marker-490912"></a>:</p>
<p class="code"><a name="50401371_pgfId-481977"></a>clGetDeviceInfo( …, CL_DEVICE_LOCAL_MEM_SIZE, … );</p>
<p class="paragraph"><a name="50401371_pgfId-481978"></a>All AMD Evergreen GPUs<a name="50401371_marker-490913"></a> contain a 32K LDS for each compute unit. On high-end GPUs, the LDS contains 32-banks<a name="50401371_marker-514885"></a>, each bank is four bytes wide and 256 bytes deep; the bank address is determined by bits 6:2 in the address. On lower-end GPUs, the LDS contains 16 banks, each bank is still 4 bytes in size, and the bank used is determined by bits 5:2 in the address. As shown below, programmers should carefully control the bank bits to avoid bank conflicts<a name="50401371_marker-490914"></a> as much as possible.</p>
<p class="paragraph"><a name="50401371_pgfId-481982"></a>In a single cycle, local memory can service a request for each bank (up to 32 accesses each cycle on the ATI Radeon<em class="superscript"> </em> HD 5870 GPU). For an ATI Radeon<em class="superscript"> </em> HD 5870 GPU<a name="50401371_marker-491930"></a>, this delivers a memory bandwidth of over 100 GB/s for each compute unit, and more than 2 TB/s for the whole chip. This is more than 14X the global memory bandwidth. However, accesses that map to the same bank are serialized and serviced on consecutive cycles. A wavefront<a name="50401371_marker-491931"></a> that generates bank conflicts stalls on the compute unit until all LDS accesses have completed. The GPU reprocesses<a name="50401371_marker-491932"></a> the wavefront on subsequent cycles, enabling only the lanes receiving data, until all the conflicting accesses complete. The bank with the most conflicting accesses determines the latency for the wavefront to complete the local memory operation. The worst case occurs when all 64 work-items map to the same bank, since each access then is serviced at a rate of one per clock cycle; this case takes 64 cycles to complete the local memory access for the wavefront. A program with a large number of bank conflicts<a name="50401371_marker-491934"></a> (as measured by the <em class="filename"> LDSBankConflict</em> performance counter<a name="50401371_marker-491933"></a>) might benefit from using the constant or image memory rather than LDS.</p>
<p class="paragraph"><a name="50401371_pgfId-527392"></a>Thus, the key to effectively using the local cache memory<a name="50401371_marker-490915"></a> is to control the access pattern so that accesses generated on the same cycle map to different banks in the local memory. One notable exception is that accesses to the same address (even though they have the same bits 6:2) can be broadcast to all requestors and do not generate a bank conflict. The LDS hardware<a name="50401371_marker-491937"></a> examines the requests generated over two cycles (32 work-items of execution) for bank conflicts. Ensure, as much as possible, that the memory requests generated from a quarter-wavefront avoid bank conflicts by using unique address bits 6:2. A simple sequential address pattern, where each work-item reads a float2 value from LDS, generates a conflict-free access pattern on the ATI Radeon<em class="superscript"> </em> HD 5870 GPU. Note that a sequential access pattern, where each work-item reads a float4 value from LDS, uses only half the banks on each cycle on the ATI Radeon<em class="superscript"> </em> HD 5870 GPU and delivers half the performance of the float access pattern.</p>
<p class="paragraph"><a name="50401371_pgfId-481984"></a>Each stream processor<a name="50401371_marker-491939"></a> can generate up to two 4-byte LDS requests per cycle. Byte and short reads consume four bytes of LDS bandwidth. Since each stream processor can execute five operations (or four, depending on the GPU type) in the VLIW each cycle (typically requiring 10-15 input operands), two local memory requests might not provide enough bandwidth to service the entire instruction. Developers can use the large register file: each compute unit has 256 kB of register space available (8X the LDS size) and can provide up to twelve 4-byte values/cycle (6X the LDS bandwidth). Registers do not offer the same indexing flexibility as does the LDS<a name="50401371_marker-491941"></a>, but for some algorithms this can be overcome with loop unrolling and explicit addressing.</p>
<p class="paragraph"><a name="50401371_pgfId-481985"></a>LDS reads require one ALU operation to initiate them<a name="50401371_marker-491942"></a>. Each operation can initiate two loads of up to four bytes each.</p>
<p class="paragraph"><a name="50401371_pgfId-481986"></a>The CodeXL GPU Profiler provides the following performance counter to help optimize local memory usage<a name="50401371_marker-490916"></a>:</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-481987"></a><em class="filename"> LDSBankConflict</em> :<a name="50401371_marker-491944"></a> The percentage of time accesses to the LDS are stalled due to bank conflicts relative to GPU Time. In the ideal case, there are no bank conflicts in the local memory access, and this number is zero.</p>
<p class="Body"><a name="50401371_pgfId-481989"></a>Local memory is software-controlled “scratchpad” memory<a name="50401371_marker-490917"></a>. In contrast, caches typically used on CPUs monitor the access stream and automatically capture recent accesses in a tagged cache. The scratchpad allows the kernel to explicitly load items into the memory; they exist in local memory until the kernel replaces them, or until the work-group ends. To declare a block of local memory, use the <em class="filename"> __local</em> keyword; for example:</p>
<p class="code"><a name="50401371_pgfId-481990"></a>__local float localBuffer[64]
</p><p class="code"><a name="50401371_pgfId-481991"></a></p>
<p class="paragraph"><a name="50401371_pgfId-481992"></a>These declarations can be either in the parameters to the kernel call or in the body of the kernel. The <em class="filename"> __local</em> syntax<a name="50401371_marker-491949"></a> allocates a single block of memory, which is shared across all work-items in the workgroup.</p>
<p class="paragraph"><a name="50401371_pgfId-481993"></a>To write data into local memory<a name="50401371_marker-490919"></a>, write it into an array allocated with <em class="filename"> __local</em> . For example:</p>
<p class="code"><a name="50401371_pgfId-481994"></a>localBuffer[i] = 5.0;</p>
<p class="code"><a name="50401371_pgfId-481995"></a></p>
<p class="paragraph"><a name="50401371_pgfId-481996"></a>A typical access pattern is for each work-item to collaboratively write to the local memory: each work-item writes a subsection, and as the work-items execute in parallel they write the entire array. Combined with proper consideration for the access pattern and bank alignment, these collaborative write approaches can lead to highly efficient memory accessing. Local memory is consistent across work-items only at a work-group barrier<a name="50401371_marker-490920"></a>; thus, before reading the values written collaboratively, the kernel must include a <em class="filename"> barrier()</em> instruction.<a name="50401371_marker-490921"></a></p>
<p class="paragraph"><a name="50401371_pgfId-481997"></a>The following example is a simple kernel section<a name="50401371_marker-514914"></a> that collaboratively writes, then reads from, local memory:</p>
<p class="codelong"><a name="50401371_pgfId-481998"></a>__kernel void localMemoryExample (__global float *In, __global float *Out) {</p>
<p class="codelong"><a name="50401371_pgfId-481999"></a> __local float localBuffer[64];</p>
<p class="codelong"><a name="50401371_pgfId-482000"></a> uint tx = get_local_id(0);</p>
<p class="codelong"><a name="50401371_pgfId-482001"></a> uint gx = get_global_id(0);</p>
<p class="codelong"><a name="50401371_pgfId-482002"></a></p>
<p class="codelong"><a name="50401371_pgfId-482003"></a> // Initialize local memory:</p>
<p class="codelong"><a name="50401371_pgfId-482004"></a> // Copy from this work-group’s section of global memory to local:</p>
<p class="codelong"><a name="50401371_pgfId-482005"></a> // Each work-item writes one element; together they write it all</p>
<p class="codelong"><a name="50401371_pgfId-482006"></a> localBuffer[tx] = In[gx];</p>
<p class="codelong"><a name="50401371_pgfId-482007"></a></p>
<p class="codelong"><a name="50401371_pgfId-482008"></a> // Ensure writes have completed:</p>
<p class="codelong"><a name="50401371_pgfId-482009"></a> barrier(CLK_LOCAL_MEM_FENCE);</p>
<p class="codelong"><a name="50401371_pgfId-482010"></a></p>
<p class="codelong"><a name="50401371_pgfId-482011"></a> // Toy computation to compute a partial factorial, shows re-use from local</p>
<p class="codelong"><a name="50401371_pgfId-482012"></a> float f = localBuffer[tx];</p>
<p class="codelong"><a name="50401371_pgfId-482013"></a> for (uint i=tx+1; i&lt;64; i++) {</p>
<p class="codelong"><a name="50401371_pgfId-482014"></a> f *= localBuffer[i];</p>
<p class="codelong"><a name="50401371_pgfId-482015"></a> }</p>
<p class="codelong"><a name="50401371_pgfId-482016"></a> Out[gx] = f;</p>
<p class="codelong"><a name="50401371_pgfId-482017"></a>}</p>
<p class="codelong"><a name="50401371_pgfId-482018"></a></p>
<p class="paragraph"><a name="50401371_pgfId-482019"></a>Note the host code cannot read from, or write to, local memory. Only the kernel can access local memory.<a name="50401371_marker-514915"></a></p>
<p class="paragraph"><a name="50401371_pgfId-487530"></a>Local memory is consistent across work-items only at a work-group barrier; thus, before reading the values written collaboratively, the kernel must include a <em class="filename"> barrier()</em> instruction. An important optimization<a name="50401371_marker-490923"></a> is the case where the local work-group size is less than, or equal to, the wavefront size. Because the wavefront executes as an atomic unit<a name="50401371_marker-514916"></a>, the explicit barrier operation is not required. The compiler automatically removes these barriers if the kernel specifies a <em class="filename"> reqd_work_group_size</em></p>
<p class="paragraph"><a name="50401371_pgfId-492253"></a> <a name="50401371_marker-491951"></a>(see section 5.8 of the OpenCL Specification) that is less than the wavefront size. Developers are strongly encouraged to include the barriers where appropriate, and rely on the compiler<a name="50401371_marker-491952"></a> to remove the barriers when possible, rather than manually removing the <em class="filename"> barriers()</em> . This technique results in more portable code, including the ability to run kernels on CPU devices.</p>
</div>
<div>
<h6 class="head1"><a name="50401371_pgfId-448213"></a>Constant Memory Optimization</h6>
<p class="paragraph"><a name="50401371_pgfId-475404"></a>The AMD implementation of OpenCL provides three levels of performance for the “constant” memory type.<a name="50401371_marker-490924"></a></p>
<div>
<h6 class="number1"><a name="50401371_pgfId-475405"></a>Simple Direct-Addressing Patterns<a name="50401371_marker-490925"></a></h6>
<p class="number1-cont"><a name="50401371_pgfId-475406"></a>Very high bandwidth can be attained when the compiler has available the constant address at compile time and can embed the constant address into the instruction. Each processing element can load up to 4×4-byte direct-addressed constant values each cycle. Typically, these cases are limited to simple non-array constants and function parameters. The GPU<a name="50401371_marker-514886"></a> loads the constants into a hardware cache at the beginning of the clause that uses the constants. The cache is a tagged cache, typically each 8k blocks is shared among four compute units. If the constant data is already present in the constant cache, the load is serviced by the cache and does not require any global memory bandwidth. The constant cache size for each device varies from 4k to 48k per GPU.</p>
<ol>
<li class="number1-"><a name="50401371_pgfId-450154"></a>Same Index<a name="50401371_marker-490928"></a></li>
</ol>
<p class="number1-cont"><a name="50401371_pgfId-450155"></a>Hardware acceleration also takes place when all work-items in a wavefront reference the same constant address. In this case, the data is loaded from memory one time, stored in the L1 cache, and then broadcast to all wave-fronts. This can reduce significantly the required memory bandwidth.</p>
<ol>
<li class="number1-"><a name="50401371_pgfId-450383"></a>Varying Index<a name="50401371_marker-490937"></a></li>
</ol>
<p class="number1-cont"><a name="50401371_pgfId-450384"></a>More sophisticated addressing patterns, including the case where each work-item accesses different indices, are not hardware accelerated and deliver the same performance as a global memory read with the potential for cache hits.</p>
<p class="paragraph"><a name="50401371_pgfId-448215"></a>To further improve the performance of the AMD OpenCL stack<a name="50401371_marker-490947"></a>, two methods allow users to take advantage of hardware constant buffers. These are:</p>
</div>
<div>
<h6 class="number1"><a name="50401371_pgfId-448216"></a>Globally scoped constant arrays<a name="50401371_marker-490948"></a>.<a name="50401371_marker-490950"></a> These arrays are initialized, globally scoped, and in the constant address space (as specified in section 6.5.3 of the OpenCL specification). If the size of an array is below 64 kB, it is placed in hardware constant buffers; otherwise, it uses global memory. An example of this is a lookup table for math functions.</h6>
<ol>
<li class="number1-"><a name="50401371_pgfId-448217"></a>Per-pointer attribute specifying the maximum pointer size.<a name="50401371_marker-490953"></a> <a name="50401371_marker-490964"></a>This is specified using the <em class="filename"> max_constant_size(N)</em> attribute. The attribute form conforms to section 6.10 of the OpenCL 1.0 specification. This attribute is restricted to top-level kernel function arguments in the constant address space. This restriction prevents a pointer of one size from being passed as an argument to a function that declares a different size. It informs the compiler that indices into the pointer remain inside this range and it is safe to allocate a constant buffer in hardware, if it fits. Using a constant pointer that goes outside of this range results in undefined behavior. All allocations are aligned on the 16-byte boundary. For example:</li>
</ol>
<p class="code"><a name="50401371_pgfId-448254"></a>kernel void mykernel(global int* a,</p>
<p class="code"><a name="50401371_pgfId-448255"></a>constant int* b __attribute__((max_constant_size (65536)))</p>
<p class="code"><a name="50401371_pgfId-448256"></a>)</p>
<p class="code"><a name="50401371_pgfId-448257"></a>{</p>
<p class="code"><a name="50401371_pgfId-448258"></a>size_t idx = get_global_id(0);</p>
<p class="code"><a name="50401371_pgfId-448259"></a>a[idx] = b[idx &amp; 0x3FFF];</p>
<p class="code"><a name="50401371_pgfId-448252"></a>}</p>
<p class="code"><a name="50401371_pgfId-448299"></a></p>
<p class="paragraph"><a name="50401371_pgfId-448225"></a>A kernel that uses constant buffers must use <em class="filename"> CL_DEVICE_MAX_CONSTANT_ARGS</em> to query the device for the maximum number of constant buffers the kernel can support.<a name="50401371_marker-514917"></a> This value might differ from the maximum number of hardware constant buffers available. In this case, if the number of hardware constant buffers is less than the <em class="filename"> CL_DEVICE_MAX_CONSTANT_ARGS</em> , the compiler allocates the largest constant buffers in hardware first and allocates the rest of the constant buffers in global memory. As an optimization, if a constant pointer A uses n bytes of memory, where n is less than 64 kB, and constant pointer B uses m bytes of memory, where m is less than (64 kB – n) bytes of memory, the compiler can allocate the constant buffer pointers in a single hardware constant buffer. This optimization can be applied recursively by treating the resulting allocation as a single allocation and finding the next smallest constant pointer that fits within the space left in the constant buffer.</p>
</div>
</div>
<div>
<h6 class="head1"><a name="50401371_pgfId-449206"></a>OpenCL Memory Resources: Capacity and Performance</h6>
<p class="paragraph"><a name="50401371_pgfId-451813"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_72194">See Hardware Performance Parameters</a> summarizes the hardware capacity and associated performance for the structures associated with the five OpenCL Memory Types<a name="50401371_marker-490974"></a>. This information specific to the ATI Radeon<em class="superscript"> </em> HD5870 GPUs<a name="50401371_marker-491957"></a> with 1 GB video memory.</p>
<div>
<h6 class="table"><a name="50401371_pgfId-474734"></a><a name="50401371_72194"></a>Hardware Performance Parameters</h6>
<table>
<tbody>
<tr>
<td colspan="1" rowspan="2">
<p class="tablehead-center"><a name="50401371_pgfId-474635"></a>OpenCL Memory Type</p>
</td>
<td colspan="1" rowspan="2">
<p class="tablehead-center"><a name="50401371_pgfId-474637"></a>Hardware Resource</p>
</td>
<td colspan="1" rowspan="2">
<p class="tablehead-center"><a name="50401371_pgfId-474639"></a>Size/CU</p>
</td>
<td colspan="1" rowspan="2">
<p class="tablehead-center"><a name="50401371_pgfId-474641"></a>Size/GPU</p>
</td>
<td colspan="1" rowspan="2">
<p class="tablehead-center"><a name="50401371_pgfId-474643"></a>Peak Read Bandwidth/ Stream Core</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474655"></a>Private</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474657"></a>GPRs</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474659"></a>256k</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474661"></a>5120k</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474663"></a>48 bytes/cycle</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474665"></a>Local</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474667"></a>LDS</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474669"></a>32k</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474671"></a>640k</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474673"></a>8 bytes/cycle</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="3">
<p class="tablebody1"><a name="50401371_pgfId-474675"></a>Constant</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474677"></a>Direct-addressed constant</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474679"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474681"></a>48k</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474683"></a>16 bytes/cycle</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474687"></a>Same-indexed constant</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474689"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474691"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474693"></a>4 bytes/cycle</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474697"></a>Varying-indexed constant</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474699"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474701"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474703"></a>~0.6 bytes/cycle</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="2">
<p class="tablebody1"><a name="50401371_pgfId-474705"></a>Images</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474707"></a>L1 Cache</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474709"></a>8k</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474711"></a>160k</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474713"></a>4 bytes/cycle</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474717"></a>L2 Cache</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474719"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474721"></a>512k</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474723"></a>~1.6 bytes/cycle</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474725"></a>Global</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474727"></a>Global Memory</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474729"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474731"></a>1G</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-474733"></a>~0.6 bytes/cycle</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401371_pgfId-478147"></a>The compiler tries to map private memory allocations<a name="50401371_marker-490975"></a> to the pool of GPRs<a name="50401371_marker-491961"></a> in the GPU. In the event GPRs are not available, private memory is mapped to the “scratch” region, which has the same performance as global memory. <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_40175">See Resource Limits on Active Wavefronts</a>, has more information on register allocation and identifying when the compiler uses the scratch region. GPRs provide the highest-bandwidth access of any hardware resource. In addition to reading up to 48 bytes/cycle from the register file, the hardware can access results produced in the previous cycle (through the Previous Vector/Previous Scalar register) without consuming any register file bandwidth. GPRs have some restrictions about which register ports can be read on each cycle; but generally, these are not exposed to the OpenCL programmer.</p>
<p class="paragraph"><a name="50401371_pgfId-451919"></a>Same-indexed constants can be cached<a name="50401371_marker-490976"></a> in the L1 and L2 cache. Note that “same-indexed” refers to the case where all work-items in the wavefront reference the same constant index on the same cycle. The performance shown assumes an L1 cache hit.</p>
<p class="paragraph"><a name="50401371_pgfId-451920"></a>Varying-indexed constants<a name="50401371_marker-514918"></a> use the same path as global memory access and are subject to the same bank and alignment constraints described in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_90380">See Global Memory Optimization</a>.</p>
<p class="paragraph"><a name="50401371_pgfId-451921"></a>The L1 and L2 caches<a name="50401371_marker-490977"></a> are currently only enabled for images and same-indexed constants<a name="50401371_marker-514920"></a>. As of SDK 2.4, read only buffers can be cached in L1 and L2. To enable this, the developer must indicate to the compiler that the buffer is read only<a name="50401371_marker-514921"></a> and does not alias with other buffers. For example, use:</p>
<p class="code"><a name="50401371_pgfId-493378"></a>kernel void mykernel(__global int const * restrict mypointerName)</p>
<p class="paragraph"><a name="50401371_pgfId-493425"></a>The <em class="filename"> const</em> indicates to the compiler that <em class="filename"> mypointerName</em> is read only from the kernel, and the <em class="filename"> restrict</em> attribute indicates to the compiler that no other pointer aliases with <em class="filename"> mypointerName</em> .</p>
<p class="paragraph"><a name="50401371_pgfId-451922"></a>The L1 cache can service up to four address request per cycle, each delivering up to 16 bytes. The bandwidth shown assumes an access size of 16 bytes; smaller access sizes/requests result in a lower peak bandwidth for the L1 cache. Using float4 with images increases the request size and can deliver higher L1 cache bandwidth.</p>
<p class="paragraph"><a name="50401371_pgfId-451923"></a>Each memory channel<a name="50401371_marker-491966"></a> on the GPU contains an L2 cache that can deliver up to 64 bytes/cycle. The ATI Radeon<em class="superscript"> </em> HD 5870 GPU<a name="50401371_marker-491967"></a> has eight memory channels; thus, it can deliver up to 512bytes/cycle; divided among 320 stream cores, this provides up to ~1.6 bytes/cycle for each stream core.</p>
<p class="paragraph"><a name="50401371_pgfId-451924"></a>Global Memory bandwidth<a name="50401371_marker-490978"></a> is limited by external pins, not internal bus bandwidth. The ATI Radeon<em class="superscript"> </em> HD 5870 GPU<a name="50401371_marker-491969"></a> supports up to 153 GB/s of memory bandwidth which is an average of 0.6 bytes/cycle for each stream core.</p>
<p class="paragraph"><a name="50401371_pgfId-487704"></a>Note that <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_72194">See Hardware Performance Parameters</a> shows the performance for the ATI Radeon<em class="superscript"> </em> HD 5870 GPU. The “Size/Compute Unit” column and many of the bandwidths/processing element apply to all Evergreen-class GPUs; however, the “Size/GPU” column and the bandwidths for varying-indexed constant, L2, and global memory vary across different GPU devices.</p>
</div>
</div>
<div>
<h6 class="head1"><a name="50401371_pgfId-487708"></a>Using LDS or L1 Cache</h6>
<p class="paragraph"><a name="50401371_pgfId-487797"></a>There are a number of considerations when deciding between LDS and L1 cache for a given algorithm.<a name="50401371_marker-490979"></a></p>
<p class="paragraph"><a name="50401371_pgfId-487799"></a>LDS supports read/modify/write operations, as well as atomics. It is well-suited for code that requires fast read/write, read/modify/write, or scatter operations that otherwise are directed to global memory. On current AMD hardware, L1<a name="50401371_marker-514925"></a> is part of the read path; hence, it is suited to cache-read-sensitive algorithms, such as matrix multiplication or convolution.</p>
<p class="paragraph"><a name="50401371_pgfId-487801"></a>LDS<a name="50401371_marker-514926"></a> is typically larger than L1 (for example: 32 kB vs 8 kB on Cypress). If it is not possible to obtain a high L1 cache hit rate for an algorithm, the larger LDS size can help. The theoretical LDS peak bandwidth is 2 TB/s, compared to L1 at 1 TB/sec. Currently, OpenCL is limited to 1 TB/sec LDS bandwidth.</p>
<p class="paragraph"><a name="50401371_pgfId-488036"></a>The native data type<a name="50401371_marker-490980"></a> for L1 is a four-vector of 32-bit words. On L1, fill and read addressing are linked. It is important that L1 is initially filled from global memory with a coalesced access pattern; once filled, random accesses come at no extra processing cost.</p>
<p class="paragraph"><a name="50401371_pgfId-487805"></a>Currently, the native format of LDS<a name="50401371_marker-490981"></a> is a 32-bit word. The theoretical LDS peak bandwidth is achieved when each thread operates on a two-vector of 32-bit words (16 threads per clock operate on 32 banks). If an algorithm requires coalesced 32-bit quantities, it maps well to LDS. The use of four-vectors or larger can lead to bank conflicts.</p>
<p class="paragraph"><a name="50401371_pgfId-487807"></a>From an application point of view, filling LDS from global memory<a name="50401371_marker-514928"></a>, and reading from it, are independent operations that can use independent addressing. Thus, LDS can be used to explicitly convert a scattered access pattern to a coalesced pattern for read and write to global memory<a name="50401371_marker-491971"></a>. Or, by taking advantage of the LDS read broadcast feature<a name="50401371_marker-491972"></a>, LDS can be filled with a coalesced pattern from global memory, followed by all threads iterating through the same LDS words simultaneously.</p>
<p class="paragraph"><a name="50401371_pgfId-487811"></a>LDS is shared<a name="50401371_marker-490982"></a> between the work-items in a work-group. Sharing across work-groups<a name="50401371_marker-491976"></a> is not possible because OpenCL does not guarantee that LDS is in a particular state at the beginning of work-group execution. L1 content, on the other hand, is independent of work-group execution, so that successive work-groups can share the content in the L1 cache of a given Vector ALU<a name="50401371_marker-491977"></a>. However, it currently is not possible to explicitly control L1 sharing across work-groups.</p>
<p class="paragraph"><a name="50401371_pgfId-487813"></a>The use of LDS<a name="50401371_marker-491978"></a> is linked to GPR usage and wavefront-per-Vector ALU count. Better sharing efficiency requires a larger work-group, so that more work items share the same LDS. Compiling kernels for larger work groups typically results in increased register use, so that fewer wavefronts can be scheduled simultaneously per Vector ALU. This, in turn, reduces memory latency hiding<a name="50401371_marker-491979"></a>. Requesting larger amounts of LDS per work-group results in fewer wavefronts per Vector ALU, with the same effect.</p>
<p class="paragraph"><a name="50401371_pgfId-487815"></a>LDS typically involves the use of barriers<a name="50401371_marker-490984"></a>, with a potential performance impact. This is true even for read-only use cases, as LDS must be explicitly filled in from global memory (after which a barrier is required before reads can commence).</p>
</div>
<div>
<h6 class="head1"><a name="50401371_pgfId-487709"></a>NDRange and Execution Range Optimization<a name="50401371_marker-492010"></a></h6>
<p class="paragraph"><a name="50401371_pgfId-473707"></a>Probably the most effective way to exploit the potential performance<a name="50401371_marker-490985"></a> of the GPU is to provide enough threads<a name="50401371_marker-491983"></a> to keep the device completely busy. The programmer specifies a three-dimensional NDRange over which to execute the kernel; bigger problems with larger NDRanges certainly help to more effectively use the machine. The programmer also controls how the global NDRange<a name="50401371_marker-490986"></a> is divided into local ranges, as well as how much work is done in each work-item, and which resources (registers and local memory) are used by the kernel. All of these can play a role in how the work is balanced across the machine<a name="50401371_marker-490987"></a> and how well it is used. This section introduces the concept of latency hiding, how many wavefronts<a name="50401371_marker-491986"></a> are required to hide latency on AMD GPUs, how the resource usage in the kernel can impact the active wavefronts, and how to choose appropriate global and local work-group dimensions.</p>
<div>
<h6 class="head2"><a name="50401371_pgfId-473708"></a>Hiding ALU and Memory Latency</h6>
<p class="paragraph"><a name="50401371_pgfId-473709"></a><a name="50401371_marker-490988"></a>The read-after-write latency for most arithmetic operations (a floating-point add, for example) is only eight cycles. For most AMD GPUs, each compute unit can execute 16 VLIW instructions on each cycle. Each wavefront consists of 64 work-items; each compute unit executes a quarter-wavefront on each cycle, and the entire wavefront is executed in four consecutive cycles. Thus, to hide eight cycles of latency, the program must schedule two wavefronts<a name="50401371_marker-491988"></a>. The compute unit executes the first wavefront on four consecutive cycles; it then immediately switches and executes the other wavefront for four cycles. Eight cycles have elapsed, and the ALU result from the first wavefront is ready, so the compute unit can switch back to the first wavefront and continue execution. Compute units running two wavefronts (128 threads) completely hide the ALU pipeline latency.<a name="50401371_marker-490989"></a></p>
<p class="paragraph"><a name="50401371_pgfId-452276"></a>Global memory reads generate a reference to the off-chip memory and experience a latency of 300 to 600 cycles. The wavefront<a name="50401371_marker-491990"></a> that generates the global memory access is made idle until the memory request completes. During this time, the compute unit<a name="50401371_marker-491991"></a> can process other independent wavefronts, if they are available.</p>
<p class="paragraph"><a name="50401371_pgfId-452277"></a>Kernel execution time<a name="50401371_marker-490990"></a> also plays a role in hiding memory latency: longer kernels keep the functional units busy and effectively hide more latency. To better understand this concept, consider a global memory access which takes 400 cycles to execute. Assume the compute unit contains many other wavefronts, each of which performs five ALU instructions<a name="50401371_marker-514930"></a> before generating another global memory reference. As discussed previously, the hardware executes each instruction in the wavefront in four cycles; thus, all five instructions occupy the ALU for 20 cycles. Note the compute unit interleaves two of these wavefronts and executes the five instructions from both wavefronts (10 total instructions) in 40 cycles. To fully hide the 400 cycles of latency, the compute unit requires (400/40) = 10 pairs of wavefronts, or 20 total wavefronts. If the wavefront contains 10 instructions rather than 5, the wavefront pair would consume 80 cycles of latency, and only 10 wavefronts would be required to hide the 400 cycles of latency.</p>
<p class="paragraph"><a name="50401371_pgfId-495586"></a>Generally, it is not possible to predict how the compute unit <a name="50401371_marker-495585"></a>schedules the available wavefronts, and thus it is not useful to try to predict exactly which ALU block executes when trying to hide latency. Instead, consider the overall ratio of ALU operations to fetch operations – this metric is reported by the CodeXL GPU Profiler in the <em class="filename"> ALUFetchRatio</em> counter<a name="50401371_marker-495587"></a>. Each ALU operation keeps the compute unit busy for four cycles, so you can roughly divide 500 cycles of latency by (<em class="filename"> 4*ALUFetchRatio</em> ) to determine how many wavefronts must be in-flight to hide that latency. Additionally, a low value for the <em class="filename"> ALUBusy</em> performance counter<a name="50401371_marker-495588"></a> can indicate that the compute unit is not providing enough wavefronts to keep the execution resources in full use. (This counter also can be low if the kernel exhausts the available DRAM bandwidth. In this case, generating more wavefronts does not improve performance; it can reduce performance by creating more contention.)</p>
<p class="paragraph"><a name="50401371_pgfId-452279"></a>Increasing the wavefronts/compute unit does not indefinitely improve performance; once the GPU<a name="50401371_marker-490991"></a> has enough wavefronts to hide latency, additional active wavefronts provide little or no performance benefit. A closely related metric to wavefronts/compute unit is “occupancy<a name="50401371_marker-491997"></a>,” which is defined as the ratio of active wavefronts to the maximum number of possible wavefronts supported by the hardware. Many of the important optimization targets and resource limits are expressed in wavefronts/compute units, so this section uses this metric rather than the related “occupancy” term.</p>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-452280"></a><a name="50401371_40175"></a>Resource Limits on Active Wavefronts</h6>
<p class="paragraph"><a name="50401371_pgfId-452281"></a>AMD GPUs have two important global resource constraints that limit the number of in-flight wavefronts:<a name="50401371_marker-490992"></a><a name="50401371_marker-490995"></a></p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-452282"></a>Each compute unit<a name="50401371_marker-492011"></a> supports a maximum of eight work-groups. Recall that AMD OpenCL supports up to 256 work-items (four wavefronts) per work-group; effectively, this means each compute unit<a name="50401371_marker-492013"></a> can support up to 32 wavefronts.<a name="50401371_marker-492012"></a></li>
<li class="FM1bullet"><a name="50401371_pgfId-452283"></a>Each GPU has a global (across all compute units) limit<a name="50401371_marker-492014"></a> on the number of active wavefronts. The GPU hardware is generally effective at balancing the load across available compute units. Thus, it is useful to convert this global limit into an average wavefront/compute unit so that it can be compared to the other limits discussed in this section. For example, the ATI Radeon<em class="superscript"> </em> HD 5870 GPU<a name="50401371_marker-492015"></a> has a global limit of 496 wavefronts, shared among 20 compute units. Thus, it supports an average of 24.8 wavefronts/compute unit. Some AMD GPUs support up to 96 wavefronts/compute unit.</li>
</ul>
<p class="paragraph"><a name="50401371_pgfId-452284"></a>These limits are largely properties of the hardware and, thus, difficult for developers to control directly. Fortunately, these are relatively generous limits. Frequently, the register and LDS usage in the kernel determines the limit on the number of active wavefronts/compute unit, and these can be controlled by the developer.<a name="50401371_marker-492016"></a></p>
</div>
</div>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-452285"></a>GPU Registers</h2>
<p class="paragraph"><a name="50401371_pgfId-452286"></a>Each compute unit provides 16384 GP registers<a name="50401371_marker-491009"></a>, and each register contains 4×32-bit values (either single-precision floating point or a 32-bit integer). The total register size is 256 kB of storage per compute unit. These registers are shared among all active wavefronts on the compute unit<a name="50401371_marker-492026"></a>;<a name="50401371_marker-492029"></a> each kernel allocates only the registers it needs from the shared pool. This is unlike a CPU, where each thread is assigned a fixed set of architectural registers<a name="50401371_marker-492034"></a>. However, using many registers in a kernel depletes the shared pool and eventually causes the hardware to throttle the maximum number of active wavefronts.</p>
<p class="paragraph"><a name="50401371_pgfId-527593"></a></p>
<p class="paragraph"><a name="50401371_pgfId-527584"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_45911">See Impact of Register Type on Wavefronts/CU</a> shows how the registers used in the kernel impacts<a name="50401371_marker-491010"></a> the register-limited wavefronts/compute unit.</p>
<p class="paragraph"><a name="50401371_pgfId-527610"></a>For example, a kernel that uses 30 registers (120×32-bit values) can run with eight active wavefronts on each compute unit. Because of the global limits described earlier, each compute unit is limited to 32 wavefronts; thus, kernels can use up to seven registers (28 values) without affecting the number of wavefronts/compute unit. Finally, note that in addition to the GPRs shown in the table, each kernel has access to four clause temporary registers.</p>
<div>
<h6 class="table"><a name="50401371_pgfId-458112"></a><a name="50401371_45911"></a>Impact of Register Type on Wavefronts/CU</h6>
<table border="1">
<tbody>
<tr>
<th colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-456558"></a>GP Registers used by Kernel</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-456560"></a>Register-Limited</p>
<p class="tablehead-center"><a name="50401371_pgfId-480282"></a>Wavefronts / Compute-Unit</p>
</th>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456562"></a>0-1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456564"></a>248</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456566"></a>2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456568"></a>124</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456570"></a>3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456572"></a>82</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456574"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456576"></a>62</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456578"></a>5</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456580"></a>49</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456582"></a>6</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456584"></a>41</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456586"></a>7</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456588"></a>35</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456590"></a>8</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456592"></a>31</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456594"></a>9</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456596"></a>27</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456598"></a>10</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456600"></a>24</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456602"></a>11</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456604"></a>22</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456606"></a>12</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456608"></a>20</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456610"></a>13</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456612"></a>19</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456614"></a>14</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456616"></a>17</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456618"></a>15</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456620"></a>16</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456622"></a>16</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456624"></a>15</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456626"></a>17</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456628"></a>14</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456630"></a>18-19</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456632"></a>13</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456634"></a>19-20</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456636"></a>12</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456638"></a>21-22</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456640"></a>11</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456642"></a>23-24</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456644"></a>10</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456646"></a>25-27</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456648"></a>9</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456650"></a>28-31</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456652"></a>8</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456654"></a>32-35</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456656"></a>7</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456658"></a>36-41</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456660"></a>6</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456662"></a>42-49</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456664"></a>5</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456666"></a>50-62</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456668"></a>4</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456670"></a>63-82</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456672"></a>3</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456674"></a>83-124</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-456676"></a>2</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401371_pgfId-452412"></a>AMD provides the following tools to examine the number of general-purpose registers (GPRs) used by the kernel.<a name="50401371_marker-491011"></a></p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-452413"></a>The CodeXL GPU Profiler<a name="50401371_marker-491012"></a> displays the number of GPRs used by the kernel.</li>
<li class="FM1bullet"><a name="50401371_pgfId-452414"></a>Alternatively, the CodeXL GPU Profiler generates the ISA dump<a name="50401371_marker-491015"></a> (described in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_78967">See Analyzing Processor Kernels</a>), which then can be searched for the string <em class="filename"> :NUM_GPRS</em> .</li>
<li class="FM1bullet"><a name="50401371_pgfId-452416"></a>The AMD APP KernelAnalyzer2<a name="50401371_marker-491020"></a> also shows the GPR used by the kernel, across a wide variety of GPU compilation targets.</li>
</ul>
<p class="paragraph"><a name="50401371_pgfId-458288"></a>The compiler generates spill code (shuffling values to, and from, memory) if it cannot fit all the live values into registers. Spill code<a name="50401371_marker-491026"></a> uses long-latency global memory and can have a large impact on performance. The CodeXL GPU Profiler reports the static number of register spills in the <em class="filename"> ScratchReg</em> field<a name="50401371_marker-492041"></a>. Generally, it is a good idea to re-write the algorithm to use fewer GPRs<a name="50401371_marker-492043"></a>, or tune the work-group dimensions specified at launch time to expose more registers/kernel to the compiler, in order to reduce the scratch register usage to 0.</p>
</div>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-458289"></a>Specifying the Default Work-Group Size at Compile-Time</h2>
<p class="paragraph"><a name="50401371_pgfId-458472"></a>The number of registers used by a work-item is determined when the kernel is compiled. The user later specifies the size of the work-group. Ideally, the OpenCL compiler knows the size of the work-group at compile-time, so it can make optimal register allocation decisions. Without knowing the work-group size, the compiler must assume<a name="50401371_marker-491027"></a> an upper-bound size to avoid allocating more registers in the work-item than the hardware actually contains.</p>
<p class="paragraph"><a name="50401371_pgfId-458476"></a>For example, if the compiler allocates 70 registers for the work-item, <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_45911">See Impact of Register Type on Wavefronts/CU</a> shows that only three wavefronts (192 work-items) are supported. If the user later launches the kernel with a work-group size of four wavefronts (256 work-items), the launch fails because the work-group requires 70*256=17920 registers, which is more than the hardware allows. To prevent this from happening, the compiler performs the register allocation<a name="50401371_marker-514931"></a> with the conservative assumption that the kernel is launched with the largest work-group size (256 work-items). The compiler guarantees that the kernel does not use more than 62 registers (the maximum number of registers which supports a work-group with four wave-fronts), and generates low-performing register spill code, if necessary.</p>
<p class="paragraph"><a name="50401371_pgfId-458508"></a>Fortunately, OpenCL provides a mechanism to specify a work-group size that the compiler can use to optimize the register allocation<a name="50401371_marker-491028"></a>. In particular, specifying a smaller work-group size at compile time allows the compiler to allocate more registers for each kernel, which can avoid spill code and improve performance<a name="50401371_marker-514934"></a>. The kernel attribute syntax<a name="50401371_marker-514933"></a> is:</p>
<p class="code"><a name="50401371_pgfId-458307"></a>__attribute__((reqd_work_group_size(X, Y, Z)))</p>
<p class="code"><a name="50401371_pgfId-458517"></a></p>
<p class="paragraph"><a name="50401371_pgfId-458308"></a>Section 6.7.2 of the OpenCL specification explains the attribute in more detail.</p>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-458253"></a>Local Memory (LDS) Size</h2>
<p class="paragraph"><a name="50401371_pgfId-492596"></a><a name="50401371_marker-492595"></a>In addition to registers, shared memory can also serve to limit the active wavefronts/compute unit. Each compute unit has 32k of LDS, which is shared among all active work-groups. LDS is allocated on a per-work-group granularity<a name="50401371_marker-492597"></a>, so it is possible (and useful) for multiple wavefronts to share the same local memory allocation. However, large LDS allocations eventually limits the number of workgroups that can be active<a name="50401371_marker-514935"></a>. <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_85125">See Effect of LDS Usage on Wavefronts/CU </a> provides more details about how LDS usage can impact the wavefronts/compute unit.</p>
<div>
<h6 class="table"><a name="50401371_pgfId-492694"></a><a name="50401371_85125"></a>Effect of LDS Usage<a name="50401371_marker-492602"></a> on Wavefronts/CU</h6>
<table border="1">
<tbody>
<tr>
<th colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-528872"></a>Local Memory / Work-Group</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-528874"></a>LDS-Limited Wavefronts/ Compute-Unit (Assume 4 Wavefronts/ Work-Group)</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-528876"></a>LDS-Limited Wavefronts/ Compute-Unit (Assume 3 Wavefronts/ Work-Group)</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-528878"></a>LDS-Limited Wavefronts/ Compute-Unit (Assume 2 Wavefronts/ Work-Group)</p>
</th>
<th colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-528880"></a>LDS-Limited Work-Groups (Assume 1 Wavefront / Work-Group)</p>
</th>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528882"></a>&lt;=4K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528884"></a>32</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528886"></a>24</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528888"></a>16</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528890"></a>8</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528892"></a>4.0K-4.6K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528894"></a>28</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528896"></a>21</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528898"></a>14</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528900"></a>7</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528902"></a>4.6K-5.3K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528904"></a>24</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528906"></a>18</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528908"></a>12</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528910"></a>6</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528912"></a>5.3K-6.4K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528914"></a>20</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528916"></a>15</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528918"></a>10</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528920"></a>5</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528922"></a>6.4K-8.0K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528924"></a>16</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528926"></a>12</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528928"></a>8</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528930"></a>4</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528932"></a>8.0K-10.7K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528934"></a>12</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528936"></a>9</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528938"></a>6</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528940"></a>3</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528942"></a>10.7K-16.0K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528944"></a>8</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528946"></a>6</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528948"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528950"></a>2</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528952"></a>16.0K-32.0K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528954"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528956"></a>3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528958"></a>2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-528960"></a>1</p>
</td>
</tr>
</tbody>
</table>
<ol>
<li class="tablenote"><a name="50401371_pgfId-492695"></a>Assumes each work-group uses four wavefronts (the maximum supported by the AMD OpenCL SDK).</li>
</ol>
<p class="paragraph"><a name="50401371_pgfId-458825"></a>AMD provides the following tools to examine the amount of LDS used by the kernel:<a name="50401371_marker-491033"></a></p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-458826"></a>The CodeXL GPU Profiler displays the LDS usage. See the <em class="filename"> LocalMem</em> counter.<a name="50401371_marker-491034"></a></li>
<li class="FM1bullet"><a name="50401371_pgfId-458827"></a>Alternatively, use the CodeXL GPU Profiler to generate the ISA dump<a name="50401371_marker-491035"></a> (described in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_78967">See Analyzing Processor Kernels</a>), then search for the string <em class="filename"> SQ_LDS_ALLOC:SIZE</em> in the ISA dump. Note that the value is shown in hexadecimal format.</li>
</ul>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-458820"></a>Partitioning the Work</h6>
<p class="paragraph"><a name="50401371_pgfId-482139"></a>In OpenCL, each kernel executes on an index point that exists in a global NDRange. The partition<a name="50401371_marker-491036"></a> of the NDRange can have a significant impact on performance; thus, it is recommended that the developer explicitly specify the global (<em class="filename"> #work-groups</em> ) and local (<em class="filename"> #work-items/work-group</em> ) dimensions, rather than rely on OpenCL to set these automatically (by setting <em class="filename"> local_work_size</em> to NULL in <em class="filename"> clEnqueueNDRangeKernel</em> ). This section explains the guidelines for partitioning at the global<a name="50401371_marker-491042"></a>, local<a name="50401371_marker-491047"></a>, and work/kernel<a name="50401371_marker-491052"></a> levels.</p>
</div>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-452491"></a>Global Work Size<a name="50401371_marker-491058"></a></h2>
<p class="paragraph"><a name="50401371_pgfId-482186"></a>OpenCL does not explicitly limit the number of work-groups that can be submitted with a <em class="filename"> clEnqueueNDRangeKernel</em> command. The hardware limits the available in-flight threads, but the OpenCL SDK automatically partitions a large number of work-groups into smaller pieces that the hardware can process<a name="50401371_marker-491074"></a>. For some large workloads, the amount of memory available to the GPU can be a limitation<a name="50401371_marker-491075"></a>; the problem might require so much memory capacity that the GPU cannot hold it all. In these cases, the programmer must partition the workload into multiple <em class="filename"> clEnqueueNDRangeKernel</em> commands<a name="50401371_marker-491078"></a>. The available device memory can be obtained by querying <em class="filename"> clDeviceInfo</em> .<a name="50401371_marker-491083"></a></p>
<p class="paragraph"><a name="50401371_pgfId-482213"></a>At a minimum, ensure that the workload contains at least as many work-groups as the number of compute units in the hardware. Work-groups cannot be split across multiple compute units, so if the number of work-groups<a name="50401371_marker-514936"></a> is less than the available compute units, some units are idle. Evergreen and Northern Islands GPUs have 2-24 compute units. (Use <em class="filename"> clGetDeviceInfo(…CL_DEVICE_MAX_COMPUTE_UNITS)</em> to determine the value dynamically).</p>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-452494"></a>Local Work Size<a name="50401371_marker-491061"></a> (#Work-Items per Work-Group)</h2>
<p class="paragraph"><a name="50401371_pgfId-473848"></a>OpenCL limits the number of work-items in each group<a name="50401371_marker-514938"></a>. Call <em class="filename"> clDeviceInfo</em> with the <em class="filename"> CL_DEVICE_MAX_WORK_GROUP_SIZE</em> to determine the maximum number of work-groups supported by the hardware. Currently, AMD GPUs with SDK 2.1 return 256 as the maximum number of work-items per work-group. Note the number of work-items is the product of all work-group dimensions; for example, a work-group with dimensions 32×16 requires 512 work-items, which is not allowed with the current AMD OpenCL SDK.</p>
<p class="paragraph"><a name="50401371_pgfId-514319"></a>The fundamental unit of work on AMD GPUs is called a wavefront<a name="50401371_marker-514317"></a>.<a name="50401371_marker-514318"></a> Each wavefront consists of 64 work-items; thus, the optimal local work size is an integer multiple of 64 (specifically 64, 128, 192, or 256) work-items per work-group.</p>
<p class="paragraph"><a name="50401371_pgfId-514322"></a>Work-items in the same work-group<a name="50401371_marker-514320"></a> can share data<a name="50401371_marker-514321"></a> through LDS memory and also use high-speed local atomic operations<a name="50401371_marker-514323"></a>. Thus, larger work-groups enable more work-items to efficiently share data, which can reduce the amount of slower global communication. However, larger work-groups reduce the number of global work-groups, which, for small workloads, could result in idle compute units. Generally, larger work-groups are better as long as the global range is big enough to provide 1-2 Work-Groups for each compute unit in the system; for small workloads it generally works best to reduce the work-group size in order to avoid idle compute units. Note that it is possible to make the decision dynamically, when the kernel is launched<a name="50401371_marker-514324"></a>, based on the launch dimensions<a name="50401371_marker-514325"></a> and the target device characteristics.</p>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-452498"></a>Moving Work to the Kernel<a name="50401371_marker-491067"></a></h2>
<p class="paragraph"><a name="50401371_pgfId-452499"></a>Often, work can be moved from the work-group<a name="50401371_marker-491123"></a> into the kernel. For example, a matrix multiply where each work-item computes a single element in the output array can be written so that each work-item generates multiple elements. This technique can be important for effectively using the processing elements available in the five-wide (or four-wide, depending on the GPU type) VLIW processing engine<a name="50401371_marker-491124"></a> (see the <em class="filename"> ALUPacking</em> performance counter reported by the CodeXL GPU Profiler). The mechanics of this technique often is as simple as adding a <em class="filename"> for</em> loop around the kernel, so that the kernel body is run multiple times inside this loop, then adjusting the global work size to reduce the work-items. Typically, the local work-group is unchanged, and the net effect of moving work into the kernel is that each work-group does more effective processing, and fewer global work-groups are required.</p>
<p class="paragraph"><a name="50401371_pgfId-480464"></a>When moving work to the kernel<a name="50401371_marker-514940"></a>, often it is best to combine work-items that are separated by 16 in the NDRange index space<a name="50401371_marker-491125"></a>, rather than combining adjacent work-items. Combining the work-items in this fashion preserves the memory access patterns<a name="50401371_marker-491128"></a> optimal for global and local memory accesses<a name="50401371_marker-491127"></a>. For example, consider a kernel where each kernel accesses one four-byte element in array A. The resulting access pattern is:</p>
<table border="1">
<tbody>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-482370"></a>Work-item</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482372"></a>0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482374"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482376"></a>2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482378"></a>3</p>
</td>
<td colspan="1" rowspan="2">
<p class="tablebody-center"><a name="50401371_pgfId-482368"></a>…</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-480620"></a>Cycle0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-480622"></a>A+0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-480624"></a>A+1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-480626"></a>A+2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-480628"></a>A+3</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401371_pgfId-480469"></a>If we naively combine four adjacent work-items to increase the work processed per kernel, so that the first work-item accesses array elements A+0 to A+3 on successive cycles, the overall access pattern is:</p>
<div>
<h6 class="anchor"><a name="50401371_pgfId-482879"></a></h6>
<table border="1">
<tbody>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-481061"></a>Work-item</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481063"></a>0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481065"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481067"></a>2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481069"></a>3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481071"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481073"></a>5</p>
</td>
<td colspan="1" rowspan="5">
<p class="tablebody-center"><a name="50401371_pgfId-482348"></a>…</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-481075"></a>Cycle0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481077"></a>A+0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481079"></a>A+4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481081"></a>A+8</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481083"></a>A+12</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481085"></a>A+16</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481087"></a>A+20</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-481089"></a>Cycle1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481091"></a>A+1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481093"></a>A+5</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481095"></a>A+9</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481097"></a>A+13</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481099"></a>A+17</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481101"></a>A+21</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-481103"></a>Cycle2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481105"></a>A+2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481107"></a>A+6</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481109"></a>A+10</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481111"></a>A+14</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481113"></a>A+18</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481115"></a>A+22</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-481117"></a>Cycle3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481119"></a>A+3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481121"></a>A+7</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481123"></a>A+11</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481125"></a>A+15</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481127"></a>A+19</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481129"></a>A+23</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401371_pgfId-480477"></a>This pattern shows that on the first cycle the access pattern contains “holes.” Also, this pattern results in bank conflicts on the LDS<a name="50401371_marker-491129"></a>. A better access pattern is to combine four work-items so that the first work-item accesses array elements A+0, A+16, A+32, and A+48. The resulting access pattern is:</p>
<table border="1">
<tbody>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-481269"></a>Work-item</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481271"></a>0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481273"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481275"></a>2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481277"></a>3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481279"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481281"></a>5</p>
</td>
<td colspan="1" rowspan="5">
<p class="tablebody-center"><a name="50401371_pgfId-481283"></a>…</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-481285"></a>Cycle0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481287"></a>A+0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481289"></a>A+1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481291"></a>A+2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481293"></a>A+3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481295"></a>A+4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481297"></a>A+5</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-481301"></a>Cycle1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481303"></a>A+16</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481305"></a>A+17</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481307"></a>A+18</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481309"></a>A+19</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481311"></a>A+20</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481313"></a>A+21</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-481317"></a>Cycle2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481319"></a>A+32</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481321"></a>A+33</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481323"></a>A+34</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481325"></a>A+35</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481327"></a>A+36</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481329"></a>A+37</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-481333"></a>Cycle3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481335"></a>A+48</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481337"></a>A+49</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481339"></a>A+50</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481341"></a>A+51</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481343"></a>A+52</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-481345"></a>A+53</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401371_pgfId-480485"></a>Note that this access patterns<a name="50401371_marker-514941"></a> preserves the sequentially-increasing addressing of the original kernel<a name="50401371_marker-514942"></a> and generates efficient global and LDS memory references.<a name="50401371_marker-514945"></a></p>
<p class="paragraph"><a name="50401371_pgfId-459108"></a>Increasing the processing done by the kernels<a name="50401371_marker-514950"></a> can allow more processing to be done on the fixed pool of local memory available to work-groups. For example, consider a case where an algorithm requires 32×32 elements of shared memory. If each work-item processes only one element, it requires 1024 work-items/work-group, which exceeds the maximum limit. Instead, each kernel can be written to process four elements, and a work-group of 16×16 work-items could be launched to process the entire array. A related example is a blocked algorithm, such as a matrix multiply; the performance often scales with the size of the array that can be cached and used to block the algorithm. By moving processing tasks into the kernel, the kernel can<a name="50401371_marker-491130"></a> use the available local memory rather than being limited by the work-items/work-group.</p>
</div>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-457158"></a>Work-Group Dimensions vs Size</h2>
<p class="paragraph"><a name="50401371_pgfId-457159"></a><a name="50401371_marker-491131"></a>The local NDRange can contain up to three dimensions, here labeled X, Y, and Z. The X dimension is returned by <em class="filename"> get_local_id(0)</em> , Y is returned by <em class="filename"> get_local_id(1)</em> , and Z is returned by <em class="filename"> get_local_id(2)</em> . The GPU hardware schedules the kernels so that the X dimensions moves fastest as the work-items are packed into wavefronts. For example, the 128 threads in a 2D work-group of dimension 32×4 (X=32 and Y=4) would be packed into two wavefronts as follows (notation shown in X,Y order):</p>
<div>
<h6 class="anchor34"><a name="50401371_pgfId-452776"></a></h6>
<table>
<tbody>
<tr>
<td colspan="1" rowspan="4">
<p class="tablehead"><a name="50401371_pgfId-452505"></a>WaveFront0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452507"></a>0,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452509"></a>1,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452511"></a>2,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452513"></a>3,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452515"></a>4,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452517"></a>5,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452519"></a>6,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452521"></a>7,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452523"></a>8,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452525"></a>9,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452527"></a>10,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452529"></a>11,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452531"></a>12,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452533"></a>13,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452535"></a>14,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452537"></a>15,0</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452541"></a>16,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452543"></a>17,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452545"></a>18,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452547"></a>19,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452549"></a>20,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452551"></a>21,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452553"></a>22,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452555"></a>23,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452557"></a>24,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452559"></a>25,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452561"></a>26,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452563"></a>27,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452565"></a>28,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452567"></a>29,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452569"></a>30,0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452571"></a>31,0</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452575"></a>0,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452577"></a>1,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452579"></a>2,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452581"></a>3,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452583"></a>4,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452585"></a>5,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452587"></a>6,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452589"></a>7,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452591"></a>8,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452593"></a>9,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452595"></a>10,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452597"></a>11,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452599"></a>12,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452601"></a>13,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452603"></a>14,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452605"></a>15,1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452609"></a>16,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452611"></a>17,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452613"></a>18,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452615"></a>19,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452617"></a>20,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452619"></a>21,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452621"></a>22,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452623"></a>23,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452625"></a>24,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452627"></a>25,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452629"></a>26,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452631"></a>27,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452633"></a>28,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452635"></a>29,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452637"></a>30,1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452639"></a>31,1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="4">
<p class="tablehead"><a name="50401371_pgfId-452641"></a>WaveFront1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452643"></a>0,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452645"></a>1,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452647"></a>2,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452649"></a>3,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452651"></a>4,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452653"></a>5,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452655"></a>6,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452657"></a>7,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452659"></a>8,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452661"></a>9,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452663"></a>10,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452665"></a>11,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452667"></a>12,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452669"></a>13,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452671"></a>14,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452673"></a>15,2</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452677"></a>16,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452679"></a>17,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452681"></a>18,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452683"></a>19,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452685"></a>20,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452687"></a>21,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452689"></a>22,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452691"></a>23,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452693"></a>24,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452695"></a>25,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452697"></a>26,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452699"></a>27,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452701"></a>28,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452703"></a>29,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452705"></a>30,2</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452707"></a>31,2</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452711"></a>0,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452713"></a>1,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452715"></a>2,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452717"></a>3,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452719"></a>4,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452721"></a>5,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452723"></a>6,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452725"></a>7,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452727"></a>8,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452729"></a>9,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452731"></a>10,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452733"></a>11,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452735"></a>12,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452737"></a>13,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452739"></a>14,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452741"></a>15,3</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452745"></a>16,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452747"></a>17,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452749"></a>18,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452751"></a>19,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452753"></a>20,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452755"></a>21,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452757"></a>22,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452759"></a>23,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452761"></a>24,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452763"></a>25,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452765"></a>26,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452767"></a>27,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452769"></a>28,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452771"></a>29,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452773"></a>30,3</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-452775"></a>31,3</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401371_pgfId-452779"></a>The total number of work-items in the work-group is typically the most important parameter to consider, in particular when optimizing to hide latency by increasing wavefronts/compute unit. However, the choice of XYZ dimensions for the same overall work-group size<a name="50401371_marker-514953"></a> can have the following second-order effects.</p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-452780"></a>Work-items in the same quarter-wavefront<a name="50401371_marker-514956"></a> execute on the same cycle in the processing engine<a name="50401371_marker-514954"></a>. Thus, global memory coalescing and local memory bank conflicts can be impacted by dimension, particularly if the fast-moving X dimension is small. Typically, it is best to choose an X dimension of at least 16, then optimize the memory patterns for a block of 16 work-items which differ by 1 in the X dimension.</li>
<li class="FM1bullet"><a name="50401371_pgfId-452781"></a>Work-items in the same wavefront have the same program counter and execute the same instruction on each cycle<a name="50401371_marker-514955"></a>. The packing order<a name="50401371_marker-514965"></a> can be important if the kernel<a name="50401371_marker-514957"></a> contains divergent branches. If possible, pack together work-items that are likely to follow the same direction when control-flow is encountered. For example, consider an image-processing kernel where each work-item processes one pixel, and the control-flow depends on the color of the pixel. It might be more likely that a square of 8×8 pixels is the same color than a 64×1 strip; thus, the 8×8 would see less divergence and higher performance.</li>
<li class="FM1bullet"><a name="50401371_pgfId-452782"></a>When in doubt, a square 16×16 work-group size is a good start.<a name="50401371_marker-514969"></a></li>
</ul>
<div>
<h6 class="head2"><a name="50401371_pgfId-452785"></a><a name="50401371_73517"></a>Optimizing for Cedar</h6>
<p class="paragraph"><a name="50401371_pgfId-452786"></a>To focus the discussion, this section has used specific hardware characteristics that apply to most of the Evergreen series. The value Evergreen part, referred to as Cedar<a name="50401371_marker-491132"></a> and used in products such as the ATI Radeon<em class="superscript"> </em> HD 5450 GPU, has different architecture characteristics, as shown below.<a name="50401371_marker-491133"></a></p>
<div>
<h6 class="anchor"><a name="50401371_pgfId-452819"></a></h6>
<table>
<tbody>
<tr>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-459415"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-459417"></a>Evergreen Cypress, Juniper, Redwood</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-459419"></a>Evergreen Cedar</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-459421"></a>Work-items/Wavefront</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-459423"></a>64</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-459425"></a>32</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-459427"></a>Stream Cores / CU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-459429"></a>16</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-459431"></a>8</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-459433"></a>GP Registers / CU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-459435"></a>16384</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-459437"></a>8192</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-459439"></a>Local Memory Size</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-459441"></a>32K</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-459443"></a>32K</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-487716"></a>Maximum Work-Group Size</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-487718"></a>256</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-487720"></a>128</p>
</td>
</tr>
</tbody>
</table>
</div>
<div>
<h6 class="anchor"><a name="50401371_pgfId-459452"></a></h6>
<p class="paragraph"><a name="50401371_pgfId-452823"></a>Note the maximum workgroup size can be obtained with <em class="filename"> clGetDeviceInfo…(…,CL_DEVICE_MAX_WORK_GROUP_SIZE,…)</em> . Applications must ensure that the requested kernel launch dimensions that are fewer than the threshold reported by this API call.<a name="50401371_marker-514970"></a></p>
<p class="paragraph"><a name="50401371_pgfId-487725"></a>The difference in total register size can impact the compiled code and cause register spill code for kernels that were tuned for other devices. One technique that can be useful is to specify the required work-group size as 128 (half the default of 256). In this case, the compiler has the same number of registers available as for other devices and uses the same number of registers. The developer must ensure that the kernel is launched<a name="50401371_marker-491134"></a> with the reduced work size (128) on Cedar-class devices.</p>
</div>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-457368"></a>Summary of NDRange Optimizations</h6>
<p class="paragraph"><a name="50401371_pgfId-452824"></a>As shown above, execution range optimization is a complex topic with many interacting variables and which frequently requires some experimentation to determine the optimal values. Some general guidelines are:<a name="50401371_marker-491135"></a><a name="50401371_marker-491136"></a></p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-452825"></a>Select the work-group size<a name="50401371_marker-514977"></a> to be a multiple of 64, so that the wavefronts are fully populated.</li>
<li class="FM1bullet"><a name="50401371_pgfId-452826"></a>Always provide at least two wavefronts (128 work-items) per compute unit. For a ATI Radeon<em class="superscript"> </em> HD 5870 GPU, this implies 40 wave-fronts or 2560 work-items. If necessary, reduce the work-group size (but not below 64 work-items) to provide work-groups for all compute units in the system.<a name="50401371_marker-514979"></a></li>
<li class="FM1bullet"><a name="50401371_pgfId-452827"></a>Latency hiding<a name="50401371_marker-514973"></a> depends on both the number of wavefronts/compute unit<a name="50401371_marker-514975"></a>, as well as the execution time for each kernel.<a name="50401371_marker-514974"></a> Generally, two to eight wavefronts/compute unit is desirable, but this can vary significantly, depending on the complexity of the kernel and the available memory bandwidth. The CodeXL GPU Profiler and associated performance counters can help to select an optimal value.<a name="50401371_marker-514976"></a></li>
</ul>
</div>
<div>
<h6 class="head1"><a name="50401371_pgfId-463371"></a>Using Multiple OpenCL Devices</h6>
<p class="paragraph"><a name="50401371_pgfId-463381"></a>The AMD OpenCL runtime supports both CPU and GPU devices<a name="50401371_marker-491137"></a>. This section introduces techniques for appropriately partitioning the workload<a name="50401371_marker-491138"></a> and balancing it<a name="50401371_marker-491141"></a> across the devices in the system.</p>
<div>
<h6 class="head2"><a name="50401371_pgfId-463382"></a>CPU and GPU Devices</h6>
<p class="paragraph"><a name="50401371_pgfId-482530"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_58344">See CPU and GPU Performance Characteristics</a> lists some key performance characteristic<a name="50401371_marker-491151"></a>s of two exemplary CPU and GPU devices: a quad-core AMD Phenom II X4 processo<a name="50401371_marker-514981"></a>r running at 2.8 GHz, and a mid-range ATI Radeon<em class="superscript"> </em> 5670 GPU running at 750 MHz. The “best” device in each characteristic is highlighted, and the ratio of the best/other device is shown in the final column.</p>
<div>
<h6 class="table"><a name="50401371_pgfId-482532"></a><a name="50401371_58344"></a>CPU and GPU Performance Characteristics</h6>
<div>
<h6 class="anchor"><a name="50401371_pgfId-482678"></a></h6>
<table>
<tbody>
<tr>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-482535"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-482537"></a>CPU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-482539"></a>GPU</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-482541"></a>Winner Ratio</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-482543"></a>Example Device</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482545"></a>AMD Phenom<em class="superscript"> </em> II X4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482547"></a>ATI Radeon<em class="symbol"> </em> HD 5670</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482549"></a></p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-482551"></a>Core Frequency</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482553"></a>2800 MHz</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482555"></a>750 MHz</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482557"></a>4 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-482559"></a>Compute Units</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482561"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482563"></a>5</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482565"></a>1.3 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-482567"></a>Approx. Power<a class="footnote" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#pgfId-482703">7</a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482569"></a>95 W</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482571"></a>64 W</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482573"></a>1.5 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-482575"></a>Approx. Power/Compute Unit</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482577"></a>19 W</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482579"></a>13 W</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482581"></a>1.5 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-482583"></a>Peak Single-Precision Billion Floating-Point Ops/Sec</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482585"></a>90</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482587"></a>600</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482589"></a>7 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-482591"></a>Approx GFLOPS/Watt</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482593"></a>0.9</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482595"></a>9.4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482597"></a>10 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-482599"></a>Max In-flight HW Threads</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482601"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482603"></a>15872</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482605"></a>3968 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-482607"></a>Simultaneous Executing Threads</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482609"></a>4</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482611"></a>80</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482613"></a>20 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-482615"></a>Memory Bandwidth</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482617"></a>26 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482619"></a>64 GB/s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482621"></a>2.5 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-482623"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482625"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482627"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482629"></a></p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-482631"></a>Int Add latency</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482633"></a>0.4 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482635"></a>10.7 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482637"></a>30 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-482639"></a>FP Add Latency</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482641"></a>1.4 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482643"></a>10.7 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482645"></a>7 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-482647"></a>Approx DRAM Latency</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482649"></a>50 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482651"></a>300 ns</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482653"></a>6 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-482655"></a>L2+L3 cache capacity</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482657"></a>8192 KB</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482659"></a>128 kB</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482661"></a>64 X</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-482663"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482665"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482667"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482669"></a></p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody"><a name="50401371_pgfId-482671"></a>Approx Kernel Launch Latency</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482673"></a>25 <em class="symbol"> μ</em> s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482675"></a>225 <em class="symbol"> μ</em> s</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-482677"></a>9 X</p>
</td>
</tr>
</tbody>
</table>
<p class="paragraph"><a name="50401371_pgfId-473965"></a>The GPU excels at high-throughput<a name="50401371_marker-491152"></a>: the peak execution rate (measured in FLOPS) is 7X higher than the CPU, and the memory bandwidth is 2.5X higher than the CPU. The GPU also consumes approximately 65% the power of the CPU; thus, for this comparison, the power efficiency in flops/watt is 10X higher. While power efficiency can vary significantly with different devices, GPUs generally provide greater power efficiency (flops/watt) than CPUs because they optimize for throughput and eliminate hardware designed to hide latency. <a name="50401371_marker-515113"></a></p>
<p class="paragraph"><a name="50401371_pgfId-463534"></a>Conversely, CPUs excel at latency-sensitive tasks<a name="50401371_marker-491153"></a>. For example, an integer add is 30X faster on the CPU than on the GPU. This is a product of both the CPUs higher clock rate (2800 MHz vs 750 MHz for this comparison), as well as the operation latency; the CPU is optimized to perform an integer add in just one cycle, while the GPU requires eight cycles. The CPU also has a latency-optimized path to DRAM, while the GPU<a name="50401371_marker-514982"></a> optimizes for bandwidth and relies on many in-flight threads to hide the latency. The ATI Radeon<em class="superscript"> </em> HD 5670 GPU<a name="50401371_marker-515116"></a>, for example, supports more than 15,000 in-flight threads and can switch to a new thread in a single cycle. The CPU<a name="50401371_marker-514986"></a> supports only four hardware threads, and thread-switching requires saving and restoring the CPU registers from memory. The GPU requires many active threads to both keep the execution resources busy, as well as provide enough threads to hide the long latency of cache misses.</p>
<p class="paragraph"><a name="50401371_pgfId-463535"></a>Each GPU thread has its own register state, which enables the fast single-cycle switching between threads<a name="50401371_marker-514983"></a>. Also, GPUs can be very efficient at gather/scatter operations<a name="50401371_marker-514984"></a>: each thread can load from any arbitrary address, and the registers are completely decoupled from the other threads. This is substantially more flexible and higher-performing than a classic Vector ALU-style architecture (such as SSE on the CPU),<a name="50401371_marker-515118"></a> which typically requires that data be accessed from contiguous and aligned memory locations. SSE supports instructions<a name="50401371_marker-515117"></a> that write parts of a register (for example, <em class="filename"> MOVLPS</em> and <em class="filename"> MOVHPS</em> , which write the upper and lower halves, respectively, of an SSE register), but these instructions generate additional microarchitecture dependencies and frequently require additional pack instructions to format the data correctly.</p>
<p class="Normal"><a name="50401371_pgfId-464387"></a>In contrast, each GPU thread shares the same program counter with 63 other threads in a wavefront. Divergent control-flow on a GPU<a name="50401371_marker-515119"></a> can be quite expensive and can lead to significant under-utilization of the GPU device. When control flow substantially narrows the number of valid work-items in a wave-front, it can be faster to use the CPU device.</p>
<p class="paragraph"><a name="50401371_pgfId-463537"></a>CPUs<a name="50401371_marker-515120"></a> also tend to provide significantly more on-chip cache than GPUs. In this example, the CPU device contains 512k L2 cache/core plus a 6 MB L3 cache that is shared among all cores, for a total of 8 MB of cache. In contrast, the GPU device contains only 128 k cache shared by the five compute units. The larger CPU cache serves both to reduce the average memory latency and to reduce memory bandwidth in cases where data can be re-used from the caches.</p>
<p class="paragraph"><a name="50401371_pgfId-463538"></a>Finally, note the approximate 9X difference in kernel launch latency. The GPU<a name="50401371_marker-515121"></a> launch time includes both the latency through the software stack, as well as the time to transfer the compiled kernel and associated arguments across the PCI-express bus to the discrete GPU. Notably, the launch time does not include the time to compile the kernel. The CPU can be the device-of-choice for small, quick-running problems when the overhead to launch the work on the GPU outweighs the potential speedup. Often, the work size is data-dependent, and the choice of device can be data-dependent as well. For example, an image-processing algorithm may run faster on the GPU if the images are large, but faster on the CPU when the images are small.</p>
<p class="paragraph"><a name="50401371_pgfId-463539"></a>The differences in performance characteristics<a name="50401371_marker-515122"></a> present interesting optimization opportunities. Workloads that are large and data parallel can run orders of magnitude faster on the GPU, and at higher power efficiency. Serial or small parallel workloads (too small to efficiently use the GPU resources) often run significantly faster on the CPU devices. In some cases, the same algorithm can exhibit both types of workload. A simple example is a reduction operation such as a sum of all the elements in a large array. The beginning phases of the operation can be performed in parallel and run much faster on the GPU. The end of the operation requires summing together the partial sums that were computed in parallel; eventually, the width becomes small enough so that the overhead to parallelize outweighs the computation cost, and it makes sense to perform a serial add. For these serial operations, the CPU can be significantly faster than the GPU.</p>
</div>
</div>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-463540"></a>When to Use Multiple Devices</h6>
<p class="paragraph"><a name="50401371_pgfId-463541"></a><a name="50401371_marker-491155"></a>One of the features of GPU computing is that some algorithms can run substantially faster and at better energy efficiency compared to a CPU device. Also, once an algorithm has been coded in the data-parallel task style for OpenCL, the same code typically can scale to run on GPUs with increasing compute capability (that is more compute units) or even multiple GPUs (with a little more work). <a name="50401371_marker-515125"></a></p>
<p class="paragraph"><a name="50401371_pgfId-463542"></a>For some algorithms, the advantages of the GPU (high computation throughput, latency hiding)<a name="50401371_marker-515126"></a> are offset by the advantages of the CPU<a name="50401371_marker-515127"></a> (low latency, caches, fast launch time), so that the performance on either devices is similar. This case is more common for mid-range GPUs and when running more mainstream algorithms. If the CPU and the GPU deliver similar performance, the user can get the benefit of either improved power efficiency (by running on the GPU) or higher peak performance (use both devices).</p>
<p class="paragraph"><a name="50401371_pgfId-520752"></a>Usually, when the data size is small, it is faster to use the CPU because the start-up time is quicker than on the GPU due to a smaller driver overhead and avoiding the need to copy buffers from the host to the device.</p>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-463544"></a><a name="50401371_25230"></a>Partitioning Work for Multiple Devices</h6>
<p class="paragraph"><a name="50401371_pgfId-463545"></a>By design, each OpenCL command queue can only schedule work on a single OpenCL device. Thus, using multiple devices<a name="50401371_marker-515138"></a> requires the developer to create a separate queue for each device, then partition<a name="50401371_marker-491156"></a> the work between the available command queues.</p>
<p class="paragraph"><a name="50401371_pgfId-463546"></a>A simple scheme for partitioning work between devices would be to statically determine the relative performance of each device, partition the work so that faster devices received more work, launch all the kernels, and then wait for them to complete. In practice, however, this rarely yields optimal performance. The relative performance of devices can be difficult to determine, in particular for kernels whose performance depends on the data input. Further, the device performance can be affected by dynamic frequency scaling, OS thread scheduling decisions, or contention for shared resources, such as shared caches and DRAM bandwidth. Simple static partitioning<a name="50401371_marker-515142"></a> algorithms<a name="50401371_marker-515139"></a> which “guess wrong” at the beginning can result in significantly lower performance, since some devices finish and become idle while the whole system waits for the single, unexpectedly slow device.</p>
<p class="paragraph"><a name="50401371_pgfId-463547"></a>For these reasons, a dynamic scheduling algorithm<a name="50401371_marker-515140"></a> is recommended. In this approach, the workload is partitioned into smaller parts that are periodically scheduled onto the hardware. As each device completes a part of the workload, it requests a new part to execute from the pool of remaining work. Faster devices, or devices which work on easier parts of the workload, request new input faster, resulting in a natural workload balancing across the system. The approach creates some additional scheduling and kernel submission overhead, but dynamic scheduling generally helps avoid the performance cliff from a single bad initial scheduling decision, as well as higher performance in real-world system environments (since it can adapt to system conditions as the algorithm runs).</p>
<p class="paragraph"><a name="50401371_pgfId-463548"></a>Multi-core runtimes, such as Cilk<a name="50401371_marker-491157"></a>, have already introduced dynamic scheduling algorithms<a name="50401371_marker-515145"></a> for multi-core CPU<a name="50401371_marker-515149"></a>s, and it is natural to consider extending these scheduling algorithms to GPUs as well as CPUs. A GPU introduces several new aspects to the scheduling process:<a name="50401371_marker-491158"></a></p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-463549"></a>Heterogeneous Compute Devices<a name="50401371_marker-491161"></a></li>
</ul>
<p class="FM1bullet-cont"><a name="50401371_pgfId-463550"></a>Most existing multi-core schedulers<a name="50401371_marker-515152"></a> target only homogenous computing devices. When scheduling across both CPU and GPU devices<a name="50401371_marker-515153"></a>, the scheduler must be aware that the devices can have very different performance characteristics (10X or more) for some algorithms. To some extent, dynamic scheduling is already designed to deal with heterogeneous workloads<a name="50401371_marker-515154"></a> (based on data input the same algorithm can have very different performance, even when run on the same device), but a system with heterogeneous devices<a name="50401371_marker-515155"></a> makes these cases more common and more extreme. Here are some suggestions for these situations.</p>
<ul>
<li class="FM1dash"><a name="50401371_pgfId-463551"></a>The scheduler <a name="50401371_marker-515156"></a>should support sending different workload sizes to different devices<a name="50401371_marker-515159"></a>. GPUs typically prefer larger grain sizes, and higher-performing GPUs prefer still larger grain sizes.</li>
<li class="FM1dash"><a name="50401371_pgfId-464677"></a>The scheduler should be conservative<a name="50401371_marker-515167"></a> about allocating work<a name="50401371_marker-515174"></a> until after it has examined how the work is being executed. In particular, it is important to avoid the performance cliff that occurs when a slow device is assigned an important long-running task. One technique is to use small grain allocations at the beginning of the algorithm, then switch to larger grain allocations when the device characteristics are well-known.</li>
<li class="FM1dash"><a name="50401371_pgfId-463553"></a>As a special case<a name="50401371_marker-515181"></a> of the above rule, when the devices are substantially different in performance (perhaps 10X), load-balancing has only a small potential performance upside, and the overhead of scheduling the load probably eliminates the advantage. In the case where one device is far faster than everything else in the system, use only the fast device.<a name="50401371_marker-515188"></a></li>
<li class="FM1dash"><a name="50401371_pgfId-463554"></a>The scheduler<a name="50401371_marker-515195"></a> must balance small-grain-size (which increase the adaptiveness of the schedule and can efficiently use heterogeneous devices) with larger grain sizes<a name="50401371_marker-515202"></a> (which reduce scheduling overhead). Note that the grain size must be large enough to efficiently use the GPU.</li>
<li class="FM1bullet"><a name="50401371_pgfId-463555"></a>Asynchronous Launch<a name="50401371_marker-491167"></a></li>
</ul>
<p class="FM1bullet-cont"><a name="50401371_pgfId-463556"></a>OpenCL devices are designed to be scheduled asynchronously from a command-queue<a name="50401371_marker-515210"></a>. The host application can enqueue multiple kernels<a name="50401371_marker-515211"></a>, flush the kernels so they begin executing on the device, then use the host core for other work. The AMD OpenCL implementation uses a separate thread for each command-queue<a name="50401371_marker-515212"></a>, so work can be transparently scheduled to the GPU in the background.</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-463557"></a>One situation that should be avoided<a name="50401371_marker-515213"></a> is starving the high-performance GPU devices. This can occur if the physical CPU core, which must re-fill the device queue, is itself being used as a device. A simple approach to this problem is to dedicate a physical CPU core for scheduling chores<a name="50401371_marker-515214"></a>. The device fission extension<a name="50401371_marker-515215"></a> (see the Extensions appendix of the AMD OpenCL User Guide) can be used to reserve a core for scheduling. For example, on a quad-core device, device fission can be used to create an OpenCL device with only three cores.</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-463558"></a>Another approach is to schedule enough work to the device so that it can tolerate latency in additional scheduling. Here, the scheduler maintains a watermark of uncompleted work that has been sent to the device, and refills the queue when it drops below the watermark. This effectively increase the grain size, but can be very effective at reducing or eliminating device starvation<a name="50401371_marker-515217"></a>. Developers cannot directly query the list of commands in the OpenCL command queues; however, it is possible to pass an event to each <em class="filename"> clEnqueue</em> call<a name="50401371_marker-515218"></a> that can be queried, in order to determine the execution status (in particular the command completion time); developers also can maintain their own queue of outstanding requests.</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-463559"></a>For many algorithms, this technique can be effective enough at hiding latency so that a core does not need to be reserved for scheduling. In particular, algorithms where the work-load is largely known up-front often work well with a deep queue and watermark. Algorithms in which work is dynamically created may require a dedicated thread to provide low-latency scheduling.</p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-463561"></a>Data Location<a name="50401371_marker-491174"></a></li>
</ul>
<p class="FM1bullet-cont"><a name="50401371_pgfId-463562"></a>Discrete GPUs<a name="50401371_marker-515219"></a> use dedicated high-bandwidth memory that exists in a separate address space. Moving data between the device address space and the host requires time-consuming transfers over a relatively slow PCI-Express bus. Schedulers should be aware of this cost and, for example, attempt to schedule work that consumes the result on the same device producing it.</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-463563"></a>CPU and GPU devices share the same memory bandwidth, which results in additional interactions of kernel executions.</p>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-463566"></a>Synchronization Caveats</h6>
<p class="paragraph"><a name="50401371_pgfId-463567"></a><a name="50401371_marker-491179"></a>The OpenCL functions that enqueue work (<em class="filename"> clEnqueueNDRangeKernel</em> ) merely enqueue the requested work in the command queue; they do not cause it to begin executing. Execution begins<a name="50401371_marker-515221"></a> when the user executes a synchronizing command, such as <em class="filename"> clFlush</em> or <em class="filename"> clWaitForEvents</em> . Enqueuing several commands before flushing can enable the host CPU to batch together the command submission, which can reduce launch overhead.</p>
<p class="paragraph"><a name="50401371_pgfId-463568"></a>Command-queues<a name="50401371_marker-515222"></a> that are configured to execute in-order are guaranteed to complete execution of each command before the next command begins. This synchronization guarantee can often be leveraged to avoid explicit <em class="filename"> clWaitForEvents()</em> calls between command submissions. Using <em class="filename"> clWaitForEvents()</em> requires intervention by the host CPU and additional synchronization cost between the host and the GPU; by leveraging the in-order queue property<a name="50401371_marker-515223"></a>, back-to-back kernel executions can be efficiently handled directly on the GPU hardware.</p>
<p class="paragraph"><a name="50401371_pgfId-463569"></a>AMD Evergreen GPUs currently do not support the simultaneous execution of multiple kernels. For efficient execution, design a single kernel to use all the available execution resources on the GPU.</p>
<p class="paragraph"><a name="50401371_pgfId-463570"></a>The AMD OpenCL implementation spawns<a name="50401371_marker-491182"></a> a new thread<a name="50401371_marker-491180"></a> to manage each command queue. Thus, the OpenCL host code is free to manage multiple devices from a single host thread. Note that <em class="filename"> clFinish</em> is a blocking operation; the thread that calls <em class="filename"> clFinish</em> blocks<a name="50401371_marker-515226"></a> until all commands in the specified command-queue have been processed and completed. If the host thread is managing multiple devices, it is important to call <em class="filename"> clFlush</em> <a name="50401371_marker-515227"></a> for each command-queue before calling <em class="filename"> clFinish</em> , so that the commands are flushed and execute in parallel on the devices. Otherwise, the first call to <em class="filename"> clFinish</em> blocks, the commands on the other devices are not flushed, and the devices appear to execute serially rather than in parallel.</p>
<p class="paragraph"><a name="50401371_pgfId-493337"></a>For low-latency CPU response<a name="50401371_marker-515228"></a>, it can be more efficient to use a dedicated spin loop and not call <em class="filename"> clFinish()</em> Calling <em class="filename"> clFinish()</em> indicates that the application wants to wait for the GPU, putting the thread to sleep. For low latency, the application should use <em class="filename"> clFlush()</em> , followed by a loop to wait for the event to complete. This is also true for blocking maps. The application should use non-blocking maps<a name="50401371_marker-515234"></a> followed by a loop waiting on the event. The following provides sample code for this.</p>
<p class="paragraph"><a name="50401371_pgfId-494992"></a><em class="filename"> if (sleep)</em></p>
<p class="paragraph"><a name="50401371_pgfId-494993"></a><em class="filename"> {</em></p>
<p class="paragraph"><a name="50401371_pgfId-494994"></a><em class="filename"> // this puts host thread to sleep, useful if power is a consideration<br>
or overhead is not a concern</em></p>
<p class="paragraph"><a name="50401371_pgfId-494995"></a><em class="filename"> clFinish(cmd_queue_);</em></p>
<p class="paragraph"><a name="50401371_pgfId-494996"></a><em class="filename"> }</em></p>
<p class="paragraph"><a name="50401371_pgfId-494997"></a><em class="filename"> else</em></p>
<p class="paragraph"><a name="50401371_pgfId-494998"></a><em class="filename"> {</em></p>
<p class="paragraph"><a name="50401371_pgfId-494999"></a><em class="filename"> // this keeps the host thread awake, useful if latency is a concern</em></p>
<p class="paragraph"><a name="50401371_pgfId-495000"></a><em class="filename"> clFlush(cmd_queue_);</em></p>
<p class="paragraph"><a name="50401371_pgfId-495001"></a><em class="filename"> error_ = clGetEventInfo(event, CL_EVENT_COMMAND_EXECUTION_STATUS,<br>
sizeof(cl_int), &amp;eventStatus, NULL);</em></p>
<p class="paragraph"><a name="50401371_pgfId-495002"></a><em class="filename"> while (eventStatus &gt; 0)</em></p>
<p class="paragraph"><a name="50401371_pgfId-495003"></a><em class="filename"> {</em></p>
<p class="paragraph"><a name="50401371_pgfId-495004"></a><em class="filename"> error_ = clGetEventInfo(event, CL_EVENT_COMMAND_EXECUTION_STATUS,<br>
sizeof(cl_int), &amp;eventStatus, NULL);</em></p>
<p class="paragraph"><a name="50401371_pgfId-495005"></a><em class="filename"> Sleep(0); // be nice to other threads, allow scheduler to find<br>
other work if possible</em></p>
<p class="paragraph"><a name="50401371_pgfId-495006"></a><em class="filename"> // Choose your favorite way to yield, SwitchToThread() for example,<br>
in place of Sleep(0)</em></p>
<p class="paragraph"><a name="50401371_pgfId-495007"></a><em class="filename"> }</em></p>
<p class="paragraph"><a name="50401371_pgfId-494982"></a><em class="filename"> }</em></p>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-463571"></a>GPU and CPU Kernels</h6>
<p class="paragraph"><a name="50401371_pgfId-463572"></a><a name="50401371_marker-491183"></a>While OpenCL provides functional portability so that the same kernel can run on any device, peak performance for each device is typically obtained by tuning the OpenCL kernel<a name="50401371_marker-491184"></a> for the target device.</p>
<p class="paragraph"><a name="50401371_pgfId-463573"></a>Code optimized for the Cypress<a name="50401371_marker-515460"></a> device<a name="50401371_marker-491185"></a> (the ATI Radeon<em class="superscript"> ™</em> HD 5870 GPU) typically runs well across other members of the Evergreen family. There are some differences in cache size and LDS bandwidth that might impact some kernels. The Cedar ASIC<a name="50401371_marker-515459"></a> has a smaller wavefront width and fewer registers (see <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_73517">See Optimizing for Cedar</a>, for optimization information specific to this device).</p>
<p class="paragraph"><a name="50401371_pgfId-463574"></a>As described in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_15322">See Clause Boundaries</a>, CPUs and GPUs have very different performance characteristics, and some of these impact how one writes an optimal kernel. Notable differences<a name="50401371_marker-492083"></a> include:<a name="50401371_marker-491186"></a></p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-463575"></a>The Vector ALU floating point resources in a CPU<a name="50401371_marker-515465"></a> (SSE) require the use of vectorized types (float4) to enable packed SSE code generation and extract good performance from the Vector ALU hardware. The GPU VLIW hardware is more flexible and can efficiently use the floating-point hardware even without the explicit use of float4. See <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_24185">See VLIW and SSE Packing</a>, for more information and examples; however, code that can use float4 often generates hi-quality code for both the CPU and the AMD GPUs.</li>
<li class="FM1bullet"><a name="50401371_pgfId-463576"></a>The AMD OpenCL CPU implementation runs work-items from the same work-group back-to-back on the same physical CPU core.<a name="50401371_marker-515466"></a> For optimally coalesced memory patterns, a common access pattern for GPU-optimized algorithms is for work-items in the same wavefront to access memory locations from the same cache line. On a GPU, these work-items execute in parallel and generate a coalesced access pattern. On a CPU, the first work-item runs to completion (or until hitting a barrier) before switching to the next. Generally, if the working set for the data used by a work-group fits in the CPU caches, this access pattern can work efficiently: the first work-item brings a line into the cache hierarchy, which the other work-items later hit. For large working-sets that exceed the capacity of the cache hierarchy, this access pattern does not work as efficiently; each work-item refetches cache lines that were already brought in by earlier work-items but were evicted from the cache hierarchy before being used. Note that AMD CPUs typically provide 512k to 2 MB of L2+L3 cache for each compute unit.</li>
<li class="FM1bullet"><a name="50401371_pgfId-463577"></a>CPUs do not contain any hardware resources specifically designed to accelerate local memory accesses. On a CPU, local memory is mapped<a name="50401371_marker-515469"></a> to the same cacheable DRAM used for global memory, and there is no performance benefit from using the <em class="filename"> __local</em> qualifier. The additional memory operations to write to LDS, and the associated barrier operations can reduce performance. One notable exception is when local memory is used to pack values to avoid non-coalesced memory patterns.</li>
<li class="FM1bullet"><a name="50401371_pgfId-463578"></a>CPU devices only support a small number of hardware threads, typically two to eight. Small numbers of active work-group sizes reduce the CPU switching overhead, although for larger kernels this is a second-order effect.<a name="50401371_marker-515456"></a></li>
</ul>
<p class="paragraph"><a name="50401371_pgfId-463579"></a>For a balanced solution that runs reasonably well on both devices, developers are encouraged to write the algorithm using float4 vectorization<a name="50401371_marker-491187"></a>. The GPU is more sensitive to algorithm tuning; it also has higher peak performance potential. Thus, one strategy is to target optimizations to the GPU and aim for reasonable performance on the CPU. For peak performance on all devices<a name="50401371_marker-515242"></a>, developers can choose to use conditional compilation for key code loops in the kernel, or in some cases even provide two separate kernels. Even with device-specific kernel optimizations, the surrounding host code for allocating memory, launching kernels, and interfacing with the rest of the program generally only needs to be written once.</p>
<p class="paragraph"><a name="50401371_pgfId-463580"></a>Another approach is to leverage a CPU-targeted<a name="50401371_marker-515457"></a> routine written in a standard high-level language, such as C++. In some cases, this code path may already exist for platforms that do not support an OpenCL device. The program uses OpenCL for GPU devices, and the standard routine for CPU devices. Load-balancing between devices can still leverage the techniques described in <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_25230">See Partitioning Work for Multiple Devices</a>.</p>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-463581"></a>Contexts and Devices</h6>
<p class="paragraph"><a name="50401371_pgfId-463582"></a><a name="50401371_marker-491189"></a>The AMD OpenCL program creates at least one context<a name="50401371_marker-491188"></a>, and each context can contain multiple devices. Thus, developers must choose whether to place all devices in the same context or create a new context for each device<a name="50401371_marker-491190"></a>. Generally, it is easier to extend a context to support additional devices rather than duplicating the context for each device: buffers are allocated at the context level (and automatically across all devices), programs are associated with the context, and kernel compilation (via <em class="filename"> clBuildProgram</em> ) can easily be done for all devices in a context. However, with current OpenCL implementations, creating a separate context for each device provides more flexibility, especially in that buffer allocations can be targeted to occur on specific devices. Generally, placing the devices in the same context is the preferred solution.<a name="50401371_marker-491191"></a></p>
</div>
</div>
<div>
<h6 class="head1"><a name="50401371_pgfId-451154"></a>Instruction Selection Optimizations</h6>
<div>
<h6 class="head2"><a name="50401371_pgfId-459510"></a>Instruction Bandwidths<a name="50401371_marker-492086"></a></h6>
<p class="paragraph"><a name="50401371_pgfId-460052"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_43738">See Instruction Throughput (Operations/Cycle for Each Stream Processor)</a> lists the throughput of instructions for GPUs.<a name="50401371_marker-491192"></a></p>
<div>
<h6 class="table"><a name="50401371_pgfId-459713"></a><a name="50401371_43738"></a>Instruction Throughput (Operations/Cycle for Each Stream Processor)</h6>
<table>
<tbody>
<tr>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-460485"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-460487"></a></p>
</td>
<td colspan="2" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-460489"></a>Rate (Operations/Cycle) for each Stream Processor</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-460493"></a></p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-460495"></a>Instruction</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-460497"></a>Non-Double-Precision-Capable (Evergreen and later) Devices</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead-center"><a name="50401371_pgfId-460499"></a>Double-Precision-Capable Devices (Evergreen and later)</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="7">
<p class="tablehead-center"><a name="50401371_pgfId-460501"></a>Single Precision</p>
<p class="tablehead-center"><a name="50401371_pgfId-460502"></a>FP Rates</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460504"></a>SPFP FMA</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460506"></a>0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460508"></a>4</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460512"></a>SPFP MAD</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460514"></a>5</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460516"></a>5</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460520"></a>ADD</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460522"></a>5</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460524"></a>5</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460528"></a>MUL</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460530"></a>5</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460532"></a>5</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460536"></a>INV</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460538"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460540"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460544"></a>RQSRT</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460546"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460548"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460552"></a>LOG</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460554"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460556"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="6">
<p class="tablehead-center"><a name="50401371_pgfId-460558"></a>Double Precision</p>
<p class="tablehead-center"><a name="50401371_pgfId-460559"></a>FP Rates</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460561"></a>FMA</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460563"></a>0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460565"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460569"></a>MAD</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460571"></a>0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460573"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460577"></a>ADD</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460579"></a>0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460581"></a>2</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460585"></a>MUL</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460587"></a>0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460589"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460593"></a>INV (approx.)</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460595"></a>0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460597"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460601"></a>RQSRT (approx.)</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460603"></a>0</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460605"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="5">
<p class="tablehead-center"><a name="50401371_pgfId-460607"></a>Integer</p>
<p class="tablehead-center"><a name="50401371_pgfId-513769"></a>Instruction</p>
<p class="tablehead-center"><a name="50401371_pgfId-513768"></a>Rates</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460609"></a>MAD</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460611"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460613"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460617"></a>ADD</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460619"></a>5</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460621"></a>5</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460625"></a>MUL</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460627"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460629"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460633"></a>Bit-shift</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460635"></a>5</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460637"></a>5</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460641"></a>Bitwise XOR</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460643"></a>5</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460645"></a>5</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="2">
<p class="tablehead-center"><a name="50401371_pgfId-460647"></a>Conversion</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460649"></a>Float-to-Int</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460651"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460653"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460657"></a>Int-to-Float</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460659"></a>1</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460661"></a>1</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="3">
<p class="tablehead-center"><a name="50401371_pgfId-460663"></a>24-Bit Integer</p>
<p class="tablehead-center"><a name="50401371_pgfId-460664"></a>Inst Rates</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460666"></a>MAD</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460668"></a>5</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460670"></a>5</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460674"></a>ADD</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460676"></a>5</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460678"></a>5</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460682"></a>MUL</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460684"></a>5</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody-center"><a name="50401371_pgfId-460686"></a>5</p>
</td>
</tr>
</tbody>
</table>
<div>
<h6 class="anchor"><a name="50401371_pgfId-460715"></a></h6>
<p class="paragraph"><a name="50401371_pgfId-478287"></a>Note that single precision MAD operations<a name="50401371_marker-514987"></a> have five times the throughput of the double-precision rate, and that double-precision is only supported on the AMD Radeon™ HD69XX devices. The use of single-precision calculation is encouraged, if that precision is acceptable. Single-precision data is also half the size of double-precision, which requires less chip bandwidth and is not as demanding on the cache structures.</p>
<p class="paragraph"><a name="50401371_pgfId-459717"></a>Generally, the throughput and latency for 32-bit integer operations is the same as for single-precision floating point operations.</p>
<p class="paragraph"><a name="50401371_pgfId-459718"></a>24-bit integer MULs and MADs<a name="50401371_marker-515243"></a> have five times the throughput of 32-bit integer multiplies. 24-bit unsigned integers are natively supported only on the Evergreen family of devices and later. Signed 24-bit integers are supported only on the Northern Island family of devices and later. The use of OpenCL<a name="50401371_marker-515244"></a> built-in functions for <em class="filename"> mul24</em> and <em class="filename"> mad24</em> is encouraged. Note that <em class="filename"> mul24</em> can be useful for array indexing operations.</p>
<p class="paragraph"><a name="50401371_pgfId-459719"></a>Packed 16-bit and 8-bit operations are not natively supported; however, in cases where it is known that no overflow will occur, some algorithms may be able to effectively pack 2 to 4 values into the 32-bit registers natively supported by the hardware.</p>
<p class="paragraph"><a name="50401371_pgfId-459720"></a>The MAD instruction<a name="50401371_marker-491193"></a> is an IEEE-compliant multiply followed by an IEEE-compliant add; it has the same accuracy as two separate MUL/ADD operations. No special compiler flags are required for the compiler to convert separate MUL/ADD operations to use the MAD instruction.<a name="50401371_marker-515453"></a></p>
<p class="paragraph"><a name="50401371_pgfId-459721"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_43738">See Instruction Throughput (Operations/Cycle for Each Stream Processor)</a> shows the throughput for each stream processing core. To obtain the peak throughput for the whole device<a name="50401371_marker-515245"></a>, multiply the number of stream cores and the engine clock. For example, according to <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_43738">See Instruction Throughput (Operations/Cycle for Each Stream Processor)</a>, a Cypress device can perform two double-precision ADD operations/cycle in each stream core. An ATI Radeon<em class="superscript"> </em> HD 5870 GPU has 320 Stream Cores and an engine clock of 850 MHz, so the entire GPU has a throughput rate of (2*320*850 MHz) = 544 GFlops for double-precision adds.</p>
</div>
</div>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-459722"></a>AMD Media Instructions</h6>
<p class="paragraph"><a name="50401371_pgfId-459723"></a>AMD provides a set of media instructions<a name="50401371_marker-491195"></a> for accelerating media processing. Notably, the sum-of-absolute differences (SAD)<a name="50401371_marker-491196"></a> operation is widely used in motion estimation algorithms. For a brief listing and description of the AMD media operations, see the Extensions appendix of the AMD OpenCL User Guide.</p>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-459778"></a>Math Libraries</h6>
<p class="paragraph"><a name="50401371_pgfId-459779"></a>OpenCL<a name="50401371_marker-515452"></a> supports two types of math library operation<a name="50401371_marker-491197"></a>: <em class="filename"> native_function()</em> and <em class="filename"> function()</em> . Native_functions<a name="50401371_marker-491198"></a> are generally supported in hardware and can run substantially faster, although at somewhat lower accuracy. The accuracy for the non-native functions is specified in section 7.4 of the OpenCL Specification. The accuracy for the native functions is implementation-defined. Developers are encouraged to use the native functions when performance is more important than precision. <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_18433">See Native Speedup Factor</a> lists the native speedup factor for certain functions.</p>
<div>
<h6 class="table"><a name="50401371_pgfId-459903"></a><a name="50401371_18433"></a>Native Speedup Factor<a name="50401371_marker-491199"></a></h6>
<table>
<tbody>
<tr>
<td colspan="2" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-460967"></a>Function</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablehead"><a name="50401371_pgfId-460971"></a>Native Speedup Factor</p>
</td>
</tr>
<tr>
<td colspan="2" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460973"></a>sin()</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460977"></a>27.1x</p>
</td>
</tr>
<tr>
<td colspan="2" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460979"></a>cos()</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460983"></a>34.2x</p>
</td>
</tr>
<tr>
<td colspan="2" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460985"></a>tan()</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460989"></a>13.4x</p>
</td>
</tr>
<tr>
<td colspan="2" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460991"></a>exp()</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460995"></a>4.0x</p>
</td>
</tr>
<tr>
<td colspan="2" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-460997"></a>exp2()</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461001"></a>3.4x</p>
</td>
</tr>
<tr>
<td colspan="2" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461003"></a>exp10()</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461007"></a>5.2x</p>
</td>
</tr>
<tr>
<td colspan="2" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461009"></a>log()</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461013"></a>12.3x</p>
</td>
</tr>
<tr>
<td colspan="2" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461015"></a>log2()</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461019"></a>11.3x</p>
</td>
</tr>
<tr>
<td colspan="2" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461021"></a>log10()</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461025"></a>12.8x</p>
</td>
</tr>
<tr>
<td colspan="2" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461027"></a>sqrt()</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461031"></a>1.8x</p>
</td>
</tr>
<tr>
<td colspan="2" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461033"></a>rsqrt()</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461037"></a>6.4x</p>
</td>
</tr>
<tr>
<td colspan="2" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461039"></a>powr()</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461043"></a>28.7x</p>
</td>
</tr>
<tr>
<td colspan="2" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461045"></a>divide()</p>
</td>
<td colspan="1" rowspan="1">
<p class="tablebody1"><a name="50401371_pgfId-461049"></a>4.4x</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-459906"></a><a name="50401371_24185"></a>VLIW and SSE Packing<a name="50401371_marker-492093"></a></h6>
<p class="paragraph"><a name="50401371_pgfId-459907"></a>Each stream core in the AMD GPU is programmed with a five-wide (or four-wide, depending on the GPU type) VLIW instruction<a name="50401371_marker-491204"></a>. Efficient use of the GPU hardware requires that the kernel contain enough parallelism to fill all five processing elements; serial dependency chains are scheduled into separate instructions. A classic technique for exposing more parallelism to the compiler is loop unrolling<a name="50401371_marker-491205"></a>. To assist the compiler in disambiguating memory addresses so that loads can be combined, developers should cluster load and store operations. In particular, re-ordering the code<a name="50401371_marker-515246"></a> to place stores in adjacent code lines can improve performance. <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_97423">See Unmodified Loop</a> shows an example of unrolling a loop<a name="50401371_marker-515249"></a> and then clustering the stores<a name="50401371_marker-491206"></a>.</p>
<div>
<h6 class="anchor"><a name="50401371_pgfId-484960"></a></h6>
<div>
<map name="AMD_OpenCL_Programming_Optimization_Guide-36"> </map>
<p><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-36.gif" alt="" usemap="#AMD_OpenCL_Programming_Optimization_Guide-36"></p>
</div>
</div>
<div>
<h6 class="figure"><a name="50401371_pgfId-478307"></a><a name="50401371_97423"></a>Unmodified Loop</h6>
<p class="paragraph"><a name="50401371_pgfId-478311"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_65549">See Kernel Unrolled 4X</a> is the same loop<a name="50401371_marker-515251"></a> unrolled 4x.</p>
<div>
<h6 class="anchor"><a name="50401371_pgfId-478338"></a></h6>
<div>
<map name="AMD_OpenCL_Programming_Optimization_Guide-37"> </map>
<p><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-37.gif" alt="" usemap="#AMD_OpenCL_Programming_Optimization_Guide-37"></p>
</div>
</div>
</div>
<div>
<h6 class="figure"><a name="50401371_pgfId-461366"></a><a name="50401371_65549"></a>Kernel Unrolled 4X</h6>
<p class="paragraph"><a name="50401371_pgfId-461367"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_69427">See Unrolled Loop with Stores Clustered</a> shows and example of an unrolled loop with clustered stores<a name="50401371_marker-515250"></a>.</p>
<div>
<h6 class="anchor"><a name="50401371_pgfId-461458"></a></h6>
<div>
<map name="AMD_OpenCL_Programming_Optimization_Guide-38"> </map>
<p><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-38.gif" alt="" usemap="#AMD_OpenCL_Programming_Optimization_Guide-38"></p>
</div>
</div>
</div>
<div>
<h6 class="figure"><a name="50401371_pgfId-461405"></a><a name="50401371_69427"></a>Unrolled Loop with Stores Clustered</h6>
<p class="paragraph"><a name="50401371_pgfId-461598"></a>Unrolling the loop to expose the underlying parallelism<a name="50401371_marker-491207"></a> typically allows the GPU compiler to pack the instructions into the slots in the VLIW word<a name="50401371_marker-491208"></a>. For best results, unrolling by a factor of at least 5 (perhaps 8 to preserve power-of-two factors) may deliver best performance. Unrolling increases the number of required registers, so some experimentation may be required.</p>
<p class="paragraph"><a name="50401371_pgfId-461599"></a>The CPU back-end<a name="50401371_marker-491209"></a> requires the use of vector types (float4) to vectorize and generate packed SSE instructions. To vectorize the loop above, use float4<a name="50401371_marker-515253"></a> for the array arguments. Obviously, this transformation is only valid in the case where the array elements accessed on each loop iteration are adjacent in memory. The explicit use of float4<a name="50401371_marker-491211"></a> can also improve the GPU performance, since it clearly identifies contiguous 16-byte memory operations that can be more efficiently coalesced.</p>
<p class="paragraph"><a name="50401371_pgfId-451198"></a><a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_10034">See Unrolled Kernel Using float4 for Vectorization</a> is an example of an unrolled kernel<a name="50401371_marker-515256"></a> that uses float4 for vectorization.</p>
<div>
<h6 class="anchor"><a name="50401371_pgfId-461687"></a></h6>
<div>
<map name="AMD_OpenCL_Programming_Optimization_Guide-39"> </map>
<p><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-39.gif" alt="" usemap="#AMD_OpenCL_Programming_Optimization_Guide-39"></p>
</div>
</div>
</div>
<div>
<h6 class="figure"><a name="50401371_pgfId-461692"></a><a name="50401371_10034"></a>Unrolled Kernel Using float4 for Vectorization<a name="50401371_marker-491212"></a></h6>
</div>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-451159"></a>Compiler Optimizations</h6>
<p class="paragraph"><a name="50401371_pgfId-517143"></a>The OpenCL compiler currently recognizes a few patterns and transforms them into a single instruction. By following these patterns, a developer can generate highly efficient code. The currently accepted patterns are:</p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-517144"></a>Bitfield extract on signed/unsigned integers.</li>
</ul>
<p class="code"><a name="50401371_pgfId-517145"></a> (A &gt;&gt; B) &amp; C ==&gt; [u]bit_extract</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-517146"></a>where</p>
<ul>
<li class="FM1dash"><a name="50401371_pgfId-517203"></a>B and C are compile time constants,</li>
<li class="FM1dash"><a name="50401371_pgfId-517204"></a>A is a 8/16/32bit integer type, and</li>
<li class="FM1dash"><a name="50401371_pgfId-517205"></a>C is a mask.</li>
<li class="FM1bullet"><a name="50401371_pgfId-517151"></a>Bitfield insert on signed/unsigned integers</li>
</ul>
<p class="code"><a name="50401371_pgfId-517152"></a> ((A &amp; B) &lt;&lt; C) | ((D &amp; E) &lt;&lt; F ==&gt; ubit_insert</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-517153"></a>where</p>
<ul>
<li class="FM1dash"><a name="50401371_pgfId-517154"></a>B and E have no conflicting bits (<em class="filename"> B^E == 0</em> ),</li>
<li class="FM1dash"><a name="50401371_pgfId-517155"></a>B, C, E, and F are compile-time constants, and</li>
<li class="FM1dash"><a name="50401371_pgfId-517156"></a>B and E are masks.</li>
<li class="FM1dash"><a name="50401371_pgfId-517157"></a>The first bit set in B is greater than the number of bits in E plus the first bit set in E, or the first bit set in E is greater than the number of bits in B plus the first bit set in B.</li>
<li class="FM1dash"><a name="50401371_pgfId-517158"></a>If B, C, E, or F are equivalent to the value 0, this optimization is also supported.</li>
</ul>
</div>
</div>
<div>
<h6 class="head1"><a name="50401371_pgfId-517108"></a><a name="50401371_15322"></a>Clause Boundaries</h6>
<p class="paragraph"><a name="50401371_pgfId-461832"></a>AMD GPUs groups instructions into clauses<a name="50401371_marker-491213"></a>. These are broken at control-flow boundaries<a name="50401371_marker-491214"></a> when:</p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-462321"></a>the instruction type changes (for example, from FETCH to ALU), or</li>
<li class="FM1bullet"><a name="50401371_pgfId-462325"></a>if the clause contains the maximum amount of operations (the maximum size for an ALU clause is 128 operations).</li>
</ul>
<p class="paragraph"><a name="50401371_pgfId-461833"></a>ALU and LDS <a name="50401371_marker-515422"></a>access instructions<a name="50401371_marker-515415"></a> are placed in the same clause<a name="50401371_marker-515417"></a>. FETCH, ALU/LDS, and STORE instructions<a name="50401371_marker-515423"></a> are placed<a name="50401371_marker-515439"></a> into separate clauses.<a name="50401371_marker-515418"></a></p>
<p class="paragraph"><a name="50401371_pgfId-461835"></a>The GPU schedules a pair of wavefronts<a name="50401371_marker-515443"></a> (referred to as the “even” and “odd” wavefront). The even wavefront executes for four cycles (each cycle executes a quarter-wavefront); then, the odd wavefront executes for four cycles. While the odd wavefront is executing, the even wavefront accesses the register file and prepares operands for execution. This fixed interleaving of two wavefronts allows the hardware to efficiently hide the eight-cycle register-read latencies.</p>
<p class="paragraph"><a name="50401371_pgfId-462287"></a>With the exception of the special treatment for even/odd wavefronts, the GPU scheduler only switches wavefronts on clause boundaries<a name="50401371_marker-491215"></a>. Latency within a clause results in stalls on the hardware. For example, a wavefront that generates an LDS bank conflict stalls on the compute unit until the LDS access completes; the hardware does not try to hide this stall by switching to another available wavefront.</p>
<p class="paragraph"><a name="50401371_pgfId-462288"></a>ALU dependencies on memory operations are handled at the clause level. Specifically, an ALU clause<a name="50401371_marker-491216"></a> can be marked as dependent on a FETCH clause<a name="50401371_marker-491218"></a>. All FETCH operations in the clause must complete before the ALU clause begins execution.</p>
<p class="paragraph"><a name="50401371_pgfId-461838"></a>Switching to another clause in the same wavefront<a name="50401371_marker-515444"></a> requires approximately 40 cycles. The hardware immediately schedules another wavefront if one is available, so developers are encouraged to provide multiple wavefronts/compute unit. The cost to switch clauses is far less than the memory latency; typically, if the program is designed to hide memory latency, it hides the clause latency<a name="50401371_marker-491219"></a> as well.</p>
<p class="paragraph"><a name="50401371_pgfId-461839"></a>The address calculations for FETCH and STORE instructions<a name="50401371_marker-515257"></a><a name="50401371_marker-515258"></a> execute on the same hardware in the compute unit as do the ALU clauses. The address calculations for memory operations consumes the same executions resources that are used for floating-point computations.</p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-461840"></a>The ISA dump shows the clause boundaries<a name="50401371_marker-515448"></a>. See the example shown below.</li>
</ul>
<p class="paragraph"><a name="50401371_pgfId-461815"></a>For more information on clauses, see the AMD Evergreen-Family ISA Microcode And Instructions (v1.0b) and the AMD R600/R700/Evergreen Assembly Language Format documents.</p>
<p class="paragraph"><a name="50401371_pgfId-461924"></a>The following is an example disassembly showing clauses<a name="50401371_marker-515449"></a>. There are 13 clauses in the kernel. The first clause is an ALU clause and has 6 instructions.</p>
</div>
</div>
<div>
<h6 class="anchor34"><a name="50401371_pgfId-462004"></a></h6>
<table>
<tbody>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461929"></a>00 ALU_PUSH_BEFORE: ADDR(32) CNT(13) KCACHE0(CB1:0-15) KCACHE1(CB0:0-15)</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461931"></a> 0 x: MOV R3.x, KC0[0].x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461933"></a> y: MOV R2.y, KC0[0].y</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461935"></a> z: MOV R2.z, KC0[0].z</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461937"></a> w: MOV R2.w, KC0[0].w</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461939"></a> 1 x: MOV R4.x, KC0[2].x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461941"></a> y: MOV R2.y, KC0[2].y</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461943"></a> z: MOV R2.z, KC0[2].z</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461945"></a> w: MOV R2.w, KC0[2].w</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461947"></a> t: SETGT_INT R5.x, PV0.x, 0.0f</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461949"></a> 2 t: MULLO_INT ____, R1.x, KC1[1].x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461951"></a> 3 y: ADD_INT ____, R0.x, PS2</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461953"></a> 4 x: ADD_INT R0.x, PV3.y, KC1[6].x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461955"></a> 5 x: PREDNE_INT ____, R5.x, 0.0f UPDATE_EXEC_MASK UPDATE_PRED</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461957"></a>01 JUMP POP_CNT(1) ADDR(12)</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461959"></a>02 ALU: ADDR(45) CNT(5) KCACHE0(CB1:0-15)</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461961"></a> 6 z: LSHL ____, R0.x, (0x00000002, 2.802596929e-45f).x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461963"></a> 7 y: ADD_INT ____, KC0[1].x, PV6.z</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461965"></a> 8 x: LSHR R1.x, PV7.y, (0x00000002, 2.802596929e-45f).x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461967"></a>03 LOOP_DX10 i0 FAIL_JUMP_ADDR(11)</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461969"></a>04 ALU: ADDR(50) CNT(4)</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461971"></a> 9 x: ADD_INT R3.x, -1, R3.x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461973"></a> y: LSHR R0.y, R4.x, (0x00000002, 2.802596929e-45f).x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461975"></a> t: ADD_INT R4.x, R4.x, (0x00000004, 5.605193857e-45f).y</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461977"></a>05 WAIT_ACK: Outstanding_acks &lt;= 0</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461979"></a>06 TEX: ADDR(64) CNT(1)</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461981"></a> 10 VFETCH R0.x___, R0.y, fc156 MEGA(4)</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461983"></a> FETCH_TYPE(NO_INDEX_OFFSET)</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461985"></a>07 ALU: ADDR(54) CNT(3)</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461987"></a> 11 x: MULADD_e R0.x, R0.x, (0x40C00000, 6.0f).y, (0x41880000, 17.0f).x</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461989"></a> t: SETE_INT R2.x, R3.x, 0.0f</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461991"></a>08 MEM_RAT_CACHELESS_STORE_RAW_ACK: RAT(1)[R1].x___, R0, ARRAY_SIZE(4) MARK VPM</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461993"></a>09 ALU_BREAK: ADDR(57) CNT(1)</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461995"></a> 12 x: PREDE_INT ____, R2.x, 0.0f UPDATE_EXEC_MASK UPDATE_PRED</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461997"></a>10 ENDLOOP i0 PASS_JUMP_ADDR(4)</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-461999"></a>11 POP (1) ADDR(12)</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-462001"></a>12 NOP NO_BARRIER</p>
</td>
</tr>
<tr>
<td colspan="1" rowspan="1">
<p class="Normal"><a name="50401371_pgfId-462003"></a>END_OF_PROGRAM</p>
</td>
</tr>
</tbody>
</table>
<div>
<h6 class="head1"><a name="50401371_pgfId-520751"></a>Additional Performance Guidance</h6>
<p class="paragraph"><a name="50401371_pgfId-446670"></a>This section is a collection of performance tips for GPU compute<a name="50401371_marker-491225"></a> and AMD-specific optimizations.<a name="50401371_marker-491242"></a></p>
<div>
<h6 class="head2"><a name="50401371_pgfId-448804"></a>Loop Unroll <em class="filename"> pragma</em></h6>
<p class="paragraph"><a name="50401371_pgfId-490425"></a>The compiler directive<a name="50401371_marker-491259"></a><em class="filename"> #pragma unroll &lt;unroll-factor&gt;</em> can be placed immediately prior to a loop as a hint to the compiler to unroll a loop. <em class="filename"> &lt;unroll-factor&gt;</em> must be a positive integer, 1 or greater. When <em class="filename"> &lt;unroll-factor&gt;</em> is 1, loop unrolling is disabled. When <em class="filename"> &lt;unroll-factor&gt;</em> is 2 or greater, the compiler uses this as a hint for the number of times the loop is to be unrolled.</p>
<p class="paragraph"><a name="50401371_pgfId-490426"></a>Examples for using this loop follow.</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-488543"></a>No unrolling example:</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-488545"></a><em class="filename"> #pragma unroll 1<br>
for (int i = 0; i &lt; n; i++) {<br>
…<br>
}</em></p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-488551"></a>Partial unrolling example:</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-495356"></a><em class="filename"> #pragma unroll 4<br>
for (int i = 0; i &lt; 128; i++) {<br>
…<br>
}</em></p>
<p class="paragraph"><a name="50401371_pgfId-520716"></a>Currently, the unroll pragma requires that the loop boundaries can be determined at compile time. Both loop bounds must be known at compile time. If n is not given, it is equivalent to the number of iterations of the loop when both loop bounds are known. If the unroll-factor is not specified, and the compiler can determine the loop count, the compiler fully unrolls the loop. If the unroll-factor is not specified, and the compiler cannot determine the loop count, the compiler does no unrolling.</p>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-495342"></a>Memory Tiling</h6>
<p class="paragraph"><a name="50401371_pgfId-489347"></a>There are many possible <a name="50401371_marker-489343"></a>physic<a name="50401371_marker-489344"></a>al m<a name="50401371_marker-489345"></a>emory layouts for images. AMD Accelerated Parallel Processing devices can access memory in a tiled<a name="50401371_marker-491277"></a> or in a linear arrangement.<a name="50401371_marker-491294"></a></p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-447122"></a>Linear – A <a name="50401371_marker-447121"></a>linear layout format arranges the data linearly in memory such that element addresses are sequential. This is the layout that is familiar to CPU programmers. This format must be used for OpenCL buffers; it can be used for images.</li>
<li class="FM1bullet"><a name="50401371_pgfId-447124"></a>Tiled – A <a name="50401371_marker-447123"></a>tiled layout format has a pre-defined sequence of element blocks arranged in sequential memory addresses (see <a class="XRef" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_78556">See One Example of a Tiled Layout Format</a> for a conceptual illustration). A microtile consists of ABIJ; a macrotile consists of the top-left 16 squares for which the arrows are red. Only images can use this format. Translating from user address space to the tiled arrangement is transparent to the user. Tiled memory layouts provide an optimized memory access pattern to make more efficient use of the RAM attached to the GPU compute device. This can contribute to lower latency.</li>
</ul>
<div>
<h6 class="anchor"><a name="50401371_pgfId-447131"></a></h6>
<div><img src="./OpenCL Optimization Guide - AMD_files/AMD_OpenCL_Programming_Optimization_Guide-40.gif" alt=""></div>
</div>
<div>
<h6 class="figure"><a name="50401371_pgfId-447133"></a><a name="50401371_78556"></a>One Example of a Tiled Layout Format</h6>
<div>
<h6 class="head4"><a name="50401371_pgfId-447134"></a>Memory Access Pattern</h6>
<p class="paragraph"><a name="50401371_pgfId-447161"></a></p>
<p class="paragraph"><a name="50401371_pgfId-447135"></a><a name="50401371_marker-491330"></a>Memory access patterns<a name="50401371_marker-491333"></a> in compute kernels are usually different from those in the pixel shaders. Whereas the access pattern for pixel shaders is in a hierarchical, space-filling curve pattern and is tuned for tiled memory performance (generally for textures), the access pattern for a compute kernel is linear across each row before moving to the next row in the global id space. This has an effect on performance, since pixel shaders have implicit blocking, and compute kernels do not. If accessing a tiled image<a name="50401371_marker-515261"></a>, best performance is achieved if the application tries to use workgroups as a simple blocking strategy.</p>
</div>
</div>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-446673"></a>General Tips<a name="50401371_marker-492095"></a></h6>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-529039"></a>Using dynamic pointer assignment in kernels that are executed on the GPU cause inefficient code generation.</li>
<li class="FM1bullet"><a name="50401371_pgfId-529040"></a>Many OpenCL specification compiler options that are accepted by the AMD OpenCL compiler are not implemented. The implemented options are <em class="filename"> -D</em> ,<br>
<em class="filename"> -I</em> , <em class="filename"> w</em> , <em class="filename"> Werror</em> , <em class="filename"> -clsingle-precision-constant</em> , <em class="filename"> -cl-opt-disable</em> , and<br>
<em class="filename"> -cl-fp32-correctly-rounded-divide-sqrt</em> .</li>
<li class="FM1bullet"><a name="50401371_pgfId-446674"></a>Avoid declaring global arrays<a name="50401371_marker-515263"></a> on the kernel’s stack frame as these typically cannot be allocated in registers and require expensive global memory operations.</li>
<li class="FM1bullet"><a name="50401371_pgfId-446675"></a>Use predication<a name="50401371_marker-515267"></a> rather than control-flow. The predication allows the GPU to execute both paths of execution in parallel, which can be faster than attempting to minimize the work through clever control-flow. The reason for this is that if no memory operation exists in a <em class="filename"> ?:</em> operator (also called a ternary operator), this operation is translated into a single <em class="filename"> cmov_logical</em> instruction, which is executed in a single cycle. An example of this is:</li>
</ul>
<p class="code"><a name="50401371_pgfId-446676"></a> If (A&gt;B) {<br>
C += D;</p>
<p class="code"><a name="50401371_pgfId-446677"></a> } else {</p>
<p class="code"><a name="50401371_pgfId-446678"></a> C -= D;<br>
}</p>
<p class="code"><a name="50401371_pgfId-446679"></a></p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-446680"></a>Replace this with:</p>
<p class="code"><a name="50401371_pgfId-446681"></a> int factor = (A&gt;B) ? 1:-1;</p>
<p class="code"><a name="50401371_pgfId-446682"></a> C += factor*D;</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-446683"></a>In the first block of code, this translates into an IF/ELSE/ENDIF sequence of CF clauses, each taking ~40 cycles. The math inside the control flow adds two cycles if the control flow is divergent, and one cycle if it is not. This code executes in ~120 cycles.</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-483388"></a>In the second block of code, the <em class="filename"> ?:</em> operator executes in an ALU clause, so no extra CF instructions are generated. Since the instructions are sequentially dependent, this block of code executes in three cycles, for a ~40x speed improvement. To see this, the first cycle is the (A&gt;B) comparison, the result of which is input to the second cycle, which is the <em class="filename"> cmov_logical</em> factor, bool, 1, -1. The final cycle is a MAD instruction that: mad C, factor, D, C. If the ratio between CF clauses and ALU instructions is low, this is a good pattern to remove the control flow.</p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-446684"></a>Loop Unrolling<a name="50401371_marker-515273"></a></li>
<li class="FM1dash"><a name="50401371_pgfId-446685"></a>OpenCL kernels typically are high instruction-per-clock applications. Thus, the overhead to evaluate control-flow and execute branch instructions can consume a significant part of resource that otherwise can be used for high-throughput compute operations.</li>
<li class="FM1dash"><a name="50401371_pgfId-446686"></a>The AMD Accelerated Parallel Processing OpenCL compiler performs simple loop unrolling optimizations; however, for more complex loop unrolling, it may be beneficial to do this manually.</li>
<li class="FM1bullet"><a name="50401371_pgfId-446687"></a>If possible, create a reduced-size version of your data set<a name="50401371_marker-515279"></a> for easier debugging and faster turn-around on performance experimentation. GPUs do not have automatic caching mechanisms and typically scale well as resources are added. In many cases, performance optimization for the reduced-size data implementation also benefits the full-size algorithm.</li>
<li class="FM1bullet"><a name="50401371_pgfId-446688"></a>When tuning an algorithm, it is often beneficial to code a simple but accurate algorithm that is retained and used for functional comparison<a name="50401371_marker-515288"></a>. GPU tuning can be an iterative process, so success requires frequent experimentation, verification, and performance measurement.</li>
<li class="FM1bullet"><a name="50401371_pgfId-446689"></a>The profiler and analysis tools report statistics on a per-kernel granularity. To narrow the problem further, it might be useful to remove or comment-out sections of code, then re-run the timing and profiling tool.<a name="50401371_marker-515295"></a></li>
<li class="FM1bullet"><a name="50401371_pgfId-488875"></a>Writing code with dynamic pointer assignment should be avoided on the GPU.<a name="50401371_marker-515320"></a> For example:</li>
</ul>
<p class="FM1bullet-cont"><a name="50401371_pgfId-488896"></a><em class="filename"> kernel void dyn_assign(global int* a, global int* b, global int* c)<br>
{<br>
global int* d;<br>
size_t idx = get_global_id(0);<br>
if (idx &amp; 1) {<br>
d = b;<br>
} else {<br>
d = c;<br>
}<br>
a[idx] = d[idx];<br>
}</em></p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-488908"></a>This is inefficient because the GPU compiler must know the base pointer that every load comes from and in this situation, the compiler cannot determine what ‘d’ points to. So, both B and C are assigned to the same GPU resource, removing the ability to do certain optimizations.</p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-521160"></a>If the algorithm allows changing the work-group size, it is possible to get better performance by using larger work-groups (more work-items in each work-group) because the workgroup creation overhead is reduced. On the other hand, the OpenCL CPU runtime uses a task-stealing algorithm at the work-group level, so when the kernel execution time differs because it contains conditions and/or loops of varying number of iterations, it might be better to increase the number of work-groups. This gives the runtime more flexibility in scheduling work-groups to idle CPU cores. Experimentation might be needed to reach optimal work-group size.</li>
<li class="FM1bullet"><a name="50401371_pgfId-521168"></a>Since the AMD OpenCL runtime supports only in-order queuing, using <em class="filename"> clFinish()</em> on a queue and queuing a blocking command gives the same result. The latter saves the overhead of another API command.</li>
</ul>
<p class="FM1bullet-cont"><a name="50401371_pgfId-521169"></a>For example:</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-521170"></a><em class="filename"> clEnqueueWriteBuffer(myCQ, buff, CL_FALSE, 0, buffSize, input, 0, NULL, NULL); </em></p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-521171"></a><em class="filename"> clFinish(myCQ); </em></p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-521172"></a>is equivalent, for the AMD OpenCL runtime, to:</p>
<p class="FM1bullet-cont"><a name="50401371_pgfId-521173"></a> <em class="filename"> clEnqueueWriteBuffer(myCQ, buff, CL_TRUE, 0, buffSize, input, 0, NULL, NULL); </em></p>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-521164"></a>Guidance for CUDA<a name="50401371_marker-521163"></a> Programmers Using OpenCL</h6>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-446691"></a>Porting from CUDA to OpenCL is relatively straightforward. Multiple vendors have documents describing how to do this, including AMD:</li>
</ul>
<p class="codelong1"><a name="50401371_pgfId-446692"></a>https://developer.amd.com/documentation/articles/pages/OpenCL-and-the-ATI-Stream-v2.0-Beta.aspx#four</p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-446693"></a>Some specific performance recommendations<a name="50401371_marker-515342"></a> which differ from other GPU architectures:</li>
<li class="FM1dash"><a name="50401371_pgfId-501621"></a>Use a workgroup size that is a multiple of 64. CUDA code<a name="50401371_marker-515343"></a> can use a workgroup size of 32; this uses only half the available compute resources on an ATI Radeon<em class="superscript"> </em> HD 5870 GPU.</li>
<li class="FM1dash"><a name="50401371_pgfId-501622"></a>Vectorization can lead to substantially greater efficiency<a name="50401371_marker-515344"></a>. The <em class="filename"> ALUPacking</em> counter provided by the Profiler can track how well the kernel code is using the five-wide (or four-wide, depending on the GPU type) VLIW unit. Values below 70 percent may indicate that dependencies are preventing the full use of the processor. For some kernels, vectorization can be used to increase efficiency and improve kernel performance.</li>
<li class="FM1dash"><a name="50401371_pgfId-446697"></a>AMD GPUs have a very high single-precision flops<a name="50401371_marker-515345"></a> capability (2.72 teraflops in a single ATI Radeon<em class="superscript"> </em> HD 5870 GPU). Algorithms that benefit from such throughput can deliver excellent performance on AMD Accelerated Parallel Processing hardware.</li>
</ul>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-446698"></a>Guidance for CPU Programmers<a name="50401371_marker-491347"></a> Using OpenCL to Program GPUs</h6>
<p class="paragraph"><a name="50401371_pgfId-446699"></a>OpenCL is the industry-standard toolchain for programming GPUs and parallel devices from many vendors. It is expected that many programmers skilled in CPU programming will program GPUs for the first time using OpenCL. This section provides some guidance for experienced programmers who are programming a GPU for the first time. It specifically highlights the key differences in optimization strategy.<a name="50401371_marker-515347"></a></p>
<ul>
<li class="FM1bullet"><a name="50401371_pgfId-446700"></a>Study the local memory (LDS)<a name="50401371_marker-515349"></a> optimizations. These greatly affect the GPU performance<a name="50401371_marker-515348"></a>. Note the difference in the organization of local memory on the GPU as compared to the CPU cache. Local memory is shared by many work-items (64 on Cypress). This contrasts with a CPU cache that normally is dedicated to a single work-item. GPU kernels run well when they collaboratively load the shared memory.</li>
<li class="FM1bullet"><a name="50401371_pgfId-446707"></a>GPUs have a large amount of raw compute horsepower<a name="50401371_marker-515350"></a>, compared to memory bandwidth and to “control flow” bandwidth. This leads to some high-level differences in GPU programming strategy.</li>
<li class="FM1dash"><a name="50401371_pgfId-446708"></a>A CPU-optimized algorithm may test branching conditions to minimize the workload. On a GPU, it is frequently faster simply to execute the workload.<a name="50401371_marker-515352"></a></li>
<li class="FM1dash"><a name="50401371_pgfId-446709"></a>A CPU-optimized version can use memory to store and later load pre-computed values. On a GPU, it frequently is faster to recompute values rather than saving them in registers.<a name="50401371_marker-515353"></a> Per-thread registers are a scarce resource on the CPU; in contrast, GPUs have many available per-thread register resources.</li>
<li class="FM1bullet"><a name="50401371_pgfId-446710"></a>Use <em class="filename"> float4</em> and the OpenCL built-ins for vector types<a name="50401371_marker-515356"></a> (<em class="filename"> vload</em> , <em class="filename"> vstore</em> , etc.). These enable the AMD Accelerated Parallel Processing OpenCL implementation to generate efficient, packed SSE instructions<a name="50401371_marker-515357"></a> when running on the CPU. Vectorization is an optimization that benefits both the AMD CPU and GPU.</li>
</ul>
</div>
<div>
<h6 class="head2"><a name="50401371_pgfId-521316"></a>Optimizing Kernel Code</h6>
</div>
</div>
</div>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-521317"></a>Using Vector Data Types</h2>
<p class="paragraph"><a name="50401371_pgfId-521252"></a>The CPU contains a vector unit, which can be efficiently used if the developer is writing the code using vector data types.</p>
<p class="paragraph"><a name="50401371_pgfId-521253"></a>For architectures before Bulldozer, the instruction set is called SSE, and the vector width is 128 bits. For Bulldozer, there the instruction set is called AVX, for which the vector width is increased to 256 bits.</p>
<p class="paragraph"><a name="50401371_pgfId-521254"></a>Using four-wide vector types (int4, float4, etc.) is preferred, even with Bulldozer.</p>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-521255"></a>Local Memory</h2>
<p class="paragraph"><a name="50401371_pgfId-521256"></a>The CPU does not benefit much from local memory; sometimes it is detrimental to performance. As local memory is emulated on the CPU by using the caches, accessing local memory and global memory are the same speed, assuming the information from the global memory is in the cache.</p>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-521257"></a>Using Special CPU Instructions</h2>
<p class="paragraph"><a name="50401371_pgfId-521258"></a>The Bulldozer family of CPUs supports FMA4 instructions, exchanging instructions of the form <em class="filename"> a*b+c</em> with <em class="filename"> fma(a,b,c)</em> or <em class="filename"> mad(a,b,c)</em> allows for the use of the special hardware instructions for multiplying and adding.</p>
<p class="paragraph"><a name="50401371_pgfId-521259"></a>There also is hardware support for OpenCL functions that give the new hardware implementation of rotating.</p>
<p class="paragraph"><a name="50401371_pgfId-521260"></a>For example:</p>
<p class="code"><a name="50401371_pgfId-521261"></a>sum.x += tempA0.x * tempB0.x + tempA0.y * tempB1.x + tempA0.z * tempB2.x + tempA0.w * tempB3.x;</p>
<p class="paragraph"><a name="50401371_pgfId-521262"></a>can be written as a composition of mad instructions which use fused multiple add (FMA):</p>
<p class="code"><a name="50401371_pgfId-521263"></a>sum.x += mad(tempA0.x, tempB0.x, mad(tempA0.y, tempB1.x, mad(tempA0.z, tempB2.x, tempA0.w*tempB3.x)));</p>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-521264"></a>Avoid Barriers When Possible</h2>
<p class="paragraph"><a name="50401371_pgfId-521265"></a>Using barriers in a kernel on the CPU causes a significant performance penalty compared to the same kernel without barriers. Use a barrier only if the kernel requires it for correctness, and consider changing the algorithm to reduce barriers usage.</p>
<div>
<h6 class="head2"><a name="50401371_pgfId-521246"></a>Optimizing Kernels for Evergreen and 69XX-Series GPUs</h6>
</div>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-494703"></a>Clauses</h2>
<p class="paragraph"><a name="50401371_pgfId-494704"></a><a name="50401371_marker-515358"></a>The architecture for the 69XX series of GPUs is clause-based<a name="50401371_marker-515361"></a>. A clause<a name="50401371_marker-515374"></a> is similar to a basic block, a sequence of instructions that execute without flow control or I/O. Processor efficiency is determined in large part by the number of instructions in a clause, which is determined by the frequency of branching and I/O at the source-code level. An efficient kernel averages at least 16 or 32 instructions per clause.</p>
<p class="paragraph"><a name="50401371_pgfId-494705"></a>The AMD APP KernelAnalyzer2 assembler listing lets you view clauses<a name="50401371_marker-515375"></a>. Try the optimizations listed here from inside the AMD APP KernelAnalyzer2 to see the improvements in performance.</p>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-494706"></a>Remove Conditional Assignments</h2>
<p class="paragraph"><a name="50401371_pgfId-494707"></a>A conditional of the form “if-then-else” generates branching and thus generates one or more clauses. Use the <em class="filename"> select()</em> function<a name="50401371_marker-515381"></a> to replace these structures with conditional assignments that do not cause branching<a name="50401371_marker-515380"></a>. For example:</p>
<p class="code"><a name="50401371_pgfId-494708"></a>if(x==1) r=0.5;<br>
if(x==2) r=1.0;</p>
<p class="paragraph"><a name="50401371_pgfId-494781"></a>becomes</p>
<p class="code"><a name="50401371_pgfId-494709"></a>r = select(r, 0.5, x==1);<br>
r = select(r, 1.0, x==2);</p>
<p class="paragraph"><a name="50401371_pgfId-494710"></a>Note that if the body of the <em class="filename"> if</em> statement contains an I/O, the <em class="filename"> if</em> statement cannot be eliminated.</p>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-494711"></a>Bypass Short-Circuiting</h2>
<p class="paragraph"><a name="50401371_pgfId-494712"></a>A conditional expression<a name="50401371_marker-515384"></a> with many terms can compile into a number of clauses due to the C-language requirement that expressions must short circuit. To prevent this, move the expression out of the control flow statement. For example:</p>
<p class="code"><a name="50401371_pgfId-494713"></a>if(a&amp;&amp;b&amp;&amp;c&amp;&amp;d){…}</p>
<p class="paragraph"><a name="50401371_pgfId-494714"></a>becomes</p>
<p class="code"><a name="50401371_pgfId-494715"></a>bool cond = a&amp;&amp;b&amp;&amp;c&amp;&amp;d;<br>
if(cond){…}</p>
<p class="paragraph"><a name="50401371_pgfId-494716"></a>The same applies<a name="50401371_marker-515392"></a> to conditional expressions<a name="50401371_marker-515385"></a> used in loop constructs (<em class="filename"> do</em> , <em class="filename"> while</em> , <em class="filename"> for</em> ).</p>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-494717"></a>Unroll Small Loops</h2>
<p class="paragraph"><a name="50401371_pgfId-494718"></a>If the loop bounds are known, and the loop is small (less than 16 or 32 instructions), unrolling the loop usually increases performance.<a name="50401371_marker-515400"></a></p>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-494719"></a>Avoid Nested <em class="filename"> if</em> s</h2>
<p class="paragraph"><a name="50401371_pgfId-494720"></a>Because the GPU is a Vector ALU architecture, there is a cost to executing an if-then-else block because both sides of the branch are evaluated, then one result is retained while the other is discarded. When <em class="filename"> if</em> blocks are nested<a name="50401371_marker-515401"></a>, the results are twice as bad; in general, if blocks are nested k levels deep, there 2^k clauses are generated. In this situation, restructure the code to eliminate nesting.</p>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-494721"></a>Experiment With <em class="filename"> do</em> /<em class="filename"> while</em> /<em class="filename"> for</em> Loops</h2>
<p class="paragraph"><a name="50401371_pgfId-494722"></a><em class="filename"> for</em> loops can generate more clauses than equivalent <em class="filename"> do</em> or <em class="filename"> while</em> loops. Experiment with these different loop types<a name="50401371_marker-515402"></a> to find the one with best performance.</p>
</div>
<div>
<h2 class="head3"><a name="50401371_pgfId-494723"></a>Do I/O With 4-Word Data</h2>
<p class="paragraph"><a name="50401371_pgfId-494940"></a>The native hardware I/O transaction size is four words (float4, int4 types). Avoid I/Os with smaller data, and rewrite the kernel to use the native size data<a name="50401371_marker-515403"></a>. Kernel performance increases, and only 25% as many work items need to be dispatched.</p>
<p class="paragraph"><a name="50401371_pgfId-522597"></a></p>
<p class="paragraph"><a name="50401371_pgfId-481687"></a></p>
<p class="paragraph"><a name="50401371_pgfId-447052"></a></p>
<div>
<h6 class="secthead"><a name="50401311_pgfId-224076"></a>Index</h6>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-253316"></a>Symbols<a name="50401311_Symbols"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253318"></a>_local syntax <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491949">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491949">18</a></em></h4>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-253321"></a>Numerics<a name="50401311_Numerics"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253323"></a>1D copying</h4>
<p class="Level2IX"><a name="50401311_pgfId-253324"></a>bandwidth and ratio to peak bandwidth <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490838">4</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253326"></a>2D</h4>
<p class="Level2IX"><a name="50401311_pgfId-253327"></a>work-groups</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253328"></a>four number identification <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514906">8</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514906">10</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253331"></a>6900 series GPUs</h4>
<p class="Level2IX"><a name="50401311_pgfId-253332"></a>optimizing kernels <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515361">53</a></em></p>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-253334"></a>A<a name="50401311_A"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253336"></a>acceleration</h4>
<p class="Level2IX"><a name="50401311_pgfId-253337"></a>hardware <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537686">13</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253339"></a>access</h4>
<p class="Level2IX"><a name="50401311_pgfId-253340"></a>highest bandwidth through GPRs <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537690">15</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253342"></a>instructions</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253343"></a>ALU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515415">46</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253345"></a>LDS <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515415">46</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253347"></a>memory</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253348"></a>linear arrangement <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491277">27</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491277">48</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253351"></a>tiled arrangement <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491294">27</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491294">48</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253354"></a>patterns</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253355"></a>compute kernels <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491330">28</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491330">49</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253358"></a>controlling <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490915">17</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253360"></a>generating global and LDS memory references <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514945">30</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253362"></a>inefficient <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514898">6</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514898">8</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253365"></a>pixel shaders <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491330">28</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491330">49</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253368"></a>preserving sequentially-increasing addressing of the original kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514941">30</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253370"></a>simple stride and large non-unit strides <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492071">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492071">6</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253373"></a>serializing</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253374"></a>bank conflict <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490797">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490797">2</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253377"></a>channel conflict <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490794">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490794">2</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253380"></a>the memory system</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253381"></a>quarter-wavefront units <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490891">9</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490891">12</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253384"></a>tiled image</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253385"></a>workgroup blocking strategy <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515261">28</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515261">49</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253388"></a>access pattern</h4>
<p class="Level2IX"><a name="50401311_pgfId-253389"></a>efficient vs inefficient <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533499">38</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253391"></a>typical for each work-item <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537677">12</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253393"></a>accesses</h4>
<p class="Level2IX"><a name="50401311_pgfId-253394"></a>that map to same bank <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537673">10</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253396"></a>address</h4>
<p class="Level2IX"><a name="50401311_pgfId-253397"></a>calculation</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253398"></a>for FETCH instructions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515257">46</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253400"></a>for STORE instructions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515257">46</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253402"></a>addressing</h4>
<p class="Level2IX"><a name="50401311_pgfId-253403"></a>unique in HD 7900 series <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537661">4</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253405"></a>algorithm</h4>
<p class="Level2IX"><a name="50401311_pgfId-253406"></a>better performance by changing work-group size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537720">29</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253408"></a>mapping to LDS <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537691">16</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253410"></a>algorithms</h4>
<p class="Level2IX"><a name="50401311_pgfId-253411"></a>dynamic scheduling <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531315">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515140">35</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253414"></a>simple static partitioning <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531314">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515139">35</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253417"></a>alignment</h4>
<p class="Level2IX"><a name="50401311_pgfId-253418"></a>adjusting <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515534">14</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253420"></a>ALU</h4>
<p class="Level2IX"><a name="50401311_pgfId-253421"></a>access instructions</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253422"></a>placed in the same clause <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515415">46</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253424"></a>clause</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253425"></a>marked as dependent <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491216">46</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253427"></a>initiating LDS reads <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491942">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491942">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253430"></a>instructions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514930">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514930">23</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515439">46</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253434"></a>pipeline latency hiding <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490989">23</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253436"></a>ALU/LDS</h4>
<p class="Level2IX"><a name="50401311_pgfId-253437"></a>instruction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515439">46</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253439"></a>ALUBusy performance counter <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-495588">18</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-495588">24</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253442"></a>ALUFetchRatio counter</h4>
<p class="Level2IX"><a name="50401311_pgfId-253443"></a>reported in the CodeXL GPU Profiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-495587">18</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-495587">24</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253446"></a>AMD Accelerated Parallel Processing</h4>
<p class="Level2IX"><a name="50401311_pgfId-253447"></a>accessing memory</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253448"></a>linear arrangement <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491277">27</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491277">48</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253451"></a>tiled arrangement <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491294">27</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491294">48</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253454"></a>optimization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490617">1</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253456"></a>performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490528">1</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253458"></a>software <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490708">11</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253460"></a>exposing IL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-492588">11</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253462"></a>exposing ISA <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490712">11</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253464"></a>AMD APP KernelAnalyzer</h4>
<p class="Level2IX"><a name="50401311_pgfId-253465"></a>determining path used <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490858">5</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253467"></a>tools used to examine registers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491020">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491020">26</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253470"></a>viewing clauses <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515375">54</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253472"></a>AMD GPU</h4>
<p class="Level2IX"><a name="50401311_pgfId-253473"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491213">See GPU</a></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253475"></a>AMD media instructions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491195">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491195">42</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253478"></a>AMD OpenCL</h4>
<p class="Level2IX"><a name="50401311_pgfId-253479"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531426">See OpenCL</a></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253482"></a>AMD Phenom II X4 processor</h4>
<p class="Level2IX"><a name="50401311_pgfId-253483"></a>performance characteristics <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531126">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514981">32</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253486"></a>AMD Radeon HD 7770 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533513">31</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253488"></a>AMD Radeon HD 77XX <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537771">6</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537823">34</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253491"></a>AMD Radeon HD 78XX <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537770">6</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537818">34</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253494"></a>AMD Radeon HD 7970 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537749">2</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537827">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537784">6</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537787">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-538464">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537801">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-539396">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537807">30</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253503"></a>AMD Radeon HD 7970 GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533520">38</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253505"></a>AMD Radeon HD 79XX <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537755">4</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537813">33</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253508"></a>AMD Radeon HD 7XXX <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533511">24</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537776">6</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537791">11</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253512"></a>AMD tools to examine registers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491011">18</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491011">26</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253515"></a>AMD-specific optimizations</h4>
<p class="Level2IX"><a name="50401311_pgfId-253516"></a>performance tips <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491242">26</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491242">48</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253519"></a>APU devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514819">17</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253521"></a>architectural registers</h4>
<p class="Level2IX"><a name="50401311_pgfId-253522"></a>CPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492034">25</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253524"></a>arguments</h4>
<p class="Level2IX"><a name="50401311_pgfId-253525"></a>cb <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514716">21</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253527"></a>map_flags <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514714">21</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253529"></a>offset <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514716">21</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253531"></a>operation</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253532"></a>buffer <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514648">17</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253534"></a>image <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514664">17</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253536"></a>ptr <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514678">17</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253538"></a>ptr <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514725">22</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253540"></a>asynchronous launch</h4>
<p class="Level2IX"><a name="50401311_pgfId-253541"></a>scheduling process for GPUs <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531341">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491167">36</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253544"></a>ATI Radeon HD 5000</h4>
<p class="Level2IX"><a name="50401311_pgfId-253545"></a>FastPath coalescing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490893">13</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253547"></a>FastPath vs CompletePath performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491863">3</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253549"></a>graphics processors memory paths</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253550"></a>CompletePath <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490822">3</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253552"></a>FastPath <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490805">3</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253554"></a>interleave <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514894">7</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253556"></a>internal memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491914">11</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253558"></a>scheduling groups of work-items</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253559"></a>wavefronts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537177">2</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-501933">1</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253562"></a>ATI Radeon HD 5670</h4>
<p class="Level2IX"><a name="50401311_pgfId-253563"></a>performance characteristics <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531126">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514981">32</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253566"></a>threading <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531284">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515116">33</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253569"></a>ATI Radeon HD 5870</h4>
<p class="Level2IX"><a name="50401311_pgfId-253570"></a>bank selection bits <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514893">7</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253572"></a>channel selection <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514891">7</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253574"></a>delivering memory bandwidth <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-531633">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491930">16</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253577"></a>eight channels <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514897">6</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514897">8</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253580"></a>eight memory controllers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491849">2</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253582"></a>global limit of wavefronts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492015">24</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253584"></a>hardware</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253585"></a>performance parameters <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491957">14</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491957">20</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253588"></a>memory</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253589"></a>bandwidth <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491969">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491969">21</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253592"></a>channels <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491967">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491967">21</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253595"></a>running code <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531400">38</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253597"></a>atomic</h4>
<p class="Level2IX"><a name="50401311_pgfId-253598"></a>operation</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253599"></a>local work size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514323">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514323">29</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253602"></a>unit</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253603"></a>wavefront executing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514916">12</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514916">18</a></em></h6>
</div>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-253606"></a>B<a name="50401311_B"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253608"></a>bandwidth and ratio to peak bandwidth</h4>
<p class="Level2IX"><a name="50401311_pgfId-253609"></a>1D copies <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490838">4</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253611"></a>bandwidths</h4>
<p class="Level2IX"><a name="50401311_pgfId-253612"></a>calculating <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514576">14</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253614"></a>for different launch dimensions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514869">8</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253616"></a>for float1 and float4 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490885">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253618"></a>including coalesced writes <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490897">14</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253620"></a>including unaligned access <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490900">15</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253622"></a>instruction throughput for GPUs <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492086">24</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492086">41</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253625"></a>peak range <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514576">14</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253627"></a>performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-532432">16</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253629"></a>bandwith</h4>
<p class="Level2IX"><a name="50401311_pgfId-253630"></a>very high by embedding address into instruction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-538274">13</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253632"></a>bank address</h4>
<p class="Level2IX"><a name="50401311_pgfId-253633"></a>LDS <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-531627">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514885">16</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253636"></a>bank conflicts</h4>
<p class="Level2IX"><a name="50401311_pgfId-253637"></a>controlling bank bits <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-531631">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490914">16</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253640"></a>generating</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253641"></a>wavefront stalls on the compute unit <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491931">16</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253643"></a>LDS examines requests <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-532210">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491937">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253646"></a>measuring</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253647"></a>LDSBankConflict performance counter <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-531635">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491934">17</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253650"></a>serializing the access <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490797">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490797">2</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253653"></a>vs channel conflicts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491852">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491852">2</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253656"></a>bank selection bits</h4>
<p class="Level2IX"><a name="50401311_pgfId-253657"></a>ATI Radeon HD 5870 GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514893">7</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253659"></a>barrier() instruction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490921">18</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253661"></a>barriers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537741">34</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-253663"></a>removing using the compiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491952">12</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491952">19</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253666"></a>usage and LDS <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490984">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490984">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253669"></a>using in kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537723">32</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253671"></a>work-items <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490920">18</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253673"></a>bottlenecks</h4>
<p class="Level2IX"><a name="50401311_pgfId-253674"></a>discovering <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533302">1</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253676"></a>branching</h4>
<p class="Level2IX"><a name="50401311_pgfId-253677"></a>replacing</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253678"></a>with conditional assignments <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515380">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515380">54</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253681"></a>buffer</h4>
<p class="Level2IX"><a name="50401311_pgfId-253682"></a>argument <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514651">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253684"></a>creating temporary runtime <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514731">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253686"></a>host side zero copy <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514782">24</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253688"></a>OpenCL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514784">24</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253690"></a>paths <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-525050">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253692"></a>pre-pinned <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514781">24</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253694"></a>querying the device for the maximum number of constant buffers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514917">14</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514917">20</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253697"></a>read only</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253698"></a>L1 and L2 caches <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514921">21</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253700"></a>regular device <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514785">24</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253702"></a>transfer options</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253703"></a>BufferBandwidth code <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514839">27</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253705"></a>write combining</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253706"></a>chip-set dependent <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514817">17</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253708"></a>zero copy <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514786">25</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253710"></a>available buffer types <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514789">25</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253712"></a>calling <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514788">25</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253714"></a>size limit per buffer <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514831">25</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253716"></a>BufferBandwidth</h4>
<p class="Level2IX"><a name="50401311_pgfId-253717"></a>code sample <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514793">27</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253719"></a>transfer options <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514839">27</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253721"></a>buffers</h4>
<p class="Level2IX"><a name="50401311_pgfId-253722"></a>pre-pinned <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533470">26</a></em></p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253724"></a>optimizing data transfers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533461">24</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253726"></a>burst cycles</h4>
<p class="Level2IX"><a name="50401311_pgfId-253727"></a>through all channels <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-527901">6</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514892">7</a></em></p>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-253730"></a>C<a name="50401311_C"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253732"></a>C++ language</h4>
<p class="Level2IX"><a name="50401311_pgfId-253733"></a>leveraging a CPU-targeted routine <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531419">39</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515457">40</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253736"></a>cache</h4>
<p class="Level2IX"><a name="50401311_pgfId-253737"></a>CPU vs GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533483">33</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515120">34</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253740"></a>GPU vs CPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533490">33</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253742"></a>L1 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490977">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-528128">1</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490977">21</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253746"></a>L2 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490977">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-528131">1</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490977">21</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253750"></a>LDS vs L1 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537672">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490979">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490979">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253754"></a>memory</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253755"></a>controlling access pattern <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490915">17</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253757"></a>cache coherency protocol</h4>
<p class="Level2IX"><a name="50401311_pgfId-253758"></a>CPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533435">17</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253760"></a>caveats</h4>
<p class="Level2IX"><a name="50401311_pgfId-253761"></a>synchronization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531364">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491179">37</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253764"></a>cb argument <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514716">21</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253766"></a>Cedar</h4>
<p class="Level2IX"><a name="50401311_pgfId-253767"></a>ASIC device <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515459">39</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253769"></a>different architecture characteristics <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491133">31</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253771"></a>optimizing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491132">31</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253773"></a>reduced work size</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253774"></a>launching the kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491134">32</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253776"></a>channel</h4>
<p class="Level2IX"><a name="50401311_pgfId-253777"></a>burst cycles <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-527901">6</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514892">7</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253780"></a>processing serially <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514868">4</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514868">6</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253783"></a>channel conflicts</h4>
<p class="Level2IX"><a name="50401311_pgfId-253784"></a>avoiding</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253785"></a>GPU programming <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490869">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490869">6</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253788"></a>work-group staggering <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490880">8</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490880">10</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253791"></a>FastPath <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514878">9</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514878">10</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253794"></a>conflict <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491910">9</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491910">10</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253797"></a>reading from the same address <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490882">9</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490882">10</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253800"></a>serializing the access <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490794">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490794">2</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253803"></a>vs bank conflict <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491852">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491852">2</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253806"></a>channel selection</h4>
<p class="Level2IX"><a name="50401311_pgfId-253807"></a>ATI Radeon HD 5870 GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514891">7</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253809"></a>channels</h4>
<p class="Level2IX"><a name="50401311_pgfId-253810"></a>12 in HD 7900 series <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537662">4</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253812"></a>Cilk</h4>
<p class="Level2IX"><a name="50401311_pgfId-253813"></a>dynamic scheduling algorithms <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531319">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515145">36</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253816"></a>multi-core runtimes <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531317">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491157">36</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253819"></a>CL_PROFILING_COMMAND_END</h4>
<p class="Level2IX"><a name="50401311_pgfId-253820"></a>OpenCL timestamp <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490746">12</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253822"></a>CL_PROFILING_COMMAND_QUEUED</h4>
<p class="Level2IX"><a name="50401311_pgfId-253823"></a>OpenCL timestamp <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490733">12</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253825"></a>CL_PROFILING_COMMAND_START</h4>
<p class="Level2IX"><a name="50401311_pgfId-253826"></a>OpenCL timestamp <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490741">12</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253828"></a>CL_PROFILING_COMMAND_SUBMIT</h4>
<p class="Level2IX"><a name="50401311_pgfId-253829"></a>OpenCL timestamp <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490736">12</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253831"></a>CL_QUEUE_PROFILING_ENABLE</h4>
<p class="Level2IX"><a name="50401311_pgfId-253832"></a>setting the flag <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-491820">12</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253834"></a>clause</h4>
<p class="Level2IX"><a name="50401311_pgfId-253835"></a>ALU</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253836"></a>marked as dependent <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491216">46</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253838"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491213">AMD GPUs</a></p>
<p class="Level2IX"><a name="50401311_pgfId-253840"></a>architecture for the 6900 series GPUs <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515374">53</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253842"></a>boundaries</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253843"></a>ALU and LDS access instructions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515417">46</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253845"></a>broken at control-flow <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491214">46</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253847"></a>FETCH, ALU/LDS, and STORE instructions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515418">46</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253849"></a>ISA dump <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515448">46</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253851"></a>switching wavefronts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491215">46</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253853"></a>conditional assignments <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515380">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515380">54</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253856"></a>disassembly example <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515449">46</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253858"></a>FETCH <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491218">46</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253860"></a>latency hiding <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491219">46</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253862"></a>switching</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253863"></a>in the same wavefront <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515444">46</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253865"></a>viewing</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253866"></a>using APP KernelAnalyzer assembler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515375">54</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253868"></a>clDeviceInfo</h4>
<p class="Level2IX"><a name="50401311_pgfId-253869"></a>querying for device memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-530788">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491083">28</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253872"></a>clEnqueue call</h4>
<p class="Level2IX"><a name="50401311_pgfId-253873"></a>passing an event to be queried <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531356">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515218">37</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253876"></a>clEnqueueNDRangeKernel</h4>
<p class="Level2IX"><a name="50401311_pgfId-253877"></a>partitioning the workload <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-530787">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491078">28</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253880"></a>clFinish</h4>
<p class="Level2IX"><a name="50401311_pgfId-253881"></a>blocking operation <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531374">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515226">38</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253884"></a>clFinish()</h4>
<p class="Level2IX"><a name="50401311_pgfId-253885"></a>blocking the CPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-491831">14</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253887"></a>clFlush</h4>
<p class="Level2IX"><a name="50401311_pgfId-253888"></a>commands flushed and executed in parallel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531375">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515227">38</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253891"></a>flushing to the GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514772">23</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253893"></a>clustering the stores</h4>
<p class="Level2IX"><a name="50401311_pgfId-253894"></a>assisting the compiler in disambiguating memory addresses <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491206">43</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253896"></a>unrolled loop <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515250">44</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253898"></a>coalesce detection</h4>
<p class="Level2IX"><a name="50401311_pgfId-253899"></a>ignoring work-item that does not write <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490894">13</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253901"></a>coalesced writes</h4>
<p class="Level2IX"><a name="50401311_pgfId-253902"></a>bandwidths <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490897">14</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253904"></a>processing quarter-wavefront units <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490892">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253906"></a>reordering your data <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490886">12</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253908"></a>code</h4>
<p class="Level2IX"><a name="50401311_pgfId-253909"></a>a simple and accurate algorithm</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253910"></a>performance tips <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515288">29</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515288">50</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253913"></a>avoid writing with dynamic pointer assignment</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253914"></a>performance tips <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515320">29</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515320">51</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253917"></a>BufferBandwidth sample <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514793">27</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253919"></a>example with two kernels <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514913">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253921"></a>FastPath vs CompletePath sample <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490837">3</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253923"></a>generating IL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490729">11</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253925"></a>generating ISA <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490729">11</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253927"></a>porting unchanged to GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537657">3</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253929"></a>remove or comment-out</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253930"></a>performance tips <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515295">29</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515295">50</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253933"></a>re-ordering</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253934"></a>improving performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515246">43</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253936"></a>restructuring</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253937"></a>to eliminate nesting <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515401">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515401">54</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253940"></a>rewriting to employ array transpositions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490875">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490875">6</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253943"></a>running</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253944"></a>on ATI Radeon HD 5870 GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531400">38</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253946"></a>sample for reading the current value of OpenCL timer clock <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490783">13</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253948"></a>CodelXL GPU Profiler</h4>
<p class="Level2IX"><a name="50401311_pgfId-253949"></a>recording execution time for a kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490758">12</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253951"></a>CodeXL GPU</h4>
<p class="Level2IX"><a name="50401311_pgfId-253952"></a>Writer counters <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490786">14</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253954"></a>CodeXL GPU Profiler</h4>
<p class="Level2IX"><a name="50401311_pgfId-253955"></a>ALUFetchRatio counter <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-495587">18</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-495587">24</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253958"></a>CompletePath counter <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490845">5</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253960"></a>determining path used <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490841">4</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253962"></a>displaying LDS usage <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491034">20</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491034">28</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253965"></a>example profiler and bandwidth calculation <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490789">15</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253967"></a>FastPath counter <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490842">4</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253969"></a>Fetch counters <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490786">14</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253971"></a>GPRs used by kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491012">19</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253973"></a>Kernel Time metric <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490762">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253975"></a>PathUtilization counter <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490850">5</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253977"></a>performance counters</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253978"></a>for optimizing local memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490916">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490916">17</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253981"></a>reporting dimensions of global NDRange <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-491836">14</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253983"></a>reporting static number of register spills</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253984"></a>ScratchReg field <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492041">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492041">26</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253987"></a>selecting an optimal value</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-253988"></a>latency hiding <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514976">23</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514976">32</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-253991"></a>tools used to examine registers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491012">26</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-253993"></a>command queue</h4>
<p class="Level2IX"><a name="50401311_pgfId-253994"></a>configured to execute in-order <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531367">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515222">37</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253997"></a>flushing to the GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514771">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-253999"></a>scheduling asynchronously from <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531344">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515210">36</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254002"></a>command queue flushing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533450">23</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254004"></a>commands</h4>
<p class="Level2IX"><a name="50401311_pgfId-254005"></a>copy buffers and images <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514750">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254007"></a>non-blocking <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514771">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254009"></a>read buffers and images <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514734">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254011"></a>synchronizing</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254012"></a>begin executing in OpenCL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531366">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515221">37</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254015"></a>write buffers and images <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514737">23</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254017"></a>compiler</h4>
<p class="Level2IX"><a name="50401311_pgfId-254018"></a>converting separate MUL/ADD operations</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254019"></a>to use MAD instruction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515453">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515453">42</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254022"></a>disambiguating memory addresses</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254023"></a>clustering the stores <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491206">43</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254025"></a>exposing more parallelism to</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254026"></a>loop unrolling <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491205">43</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254028"></a>generating spill code <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491026">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491026">26</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254031"></a>packing instructions into VLIW word slots <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491208">44</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254033"></a>relying on to remove the barriers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491952">12</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491952">19</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254036"></a>using pragma</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254037"></a>unrolling a loop <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491259">26</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491259">48</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254040"></a>CompletePath</h4>
<p class="Level2IX"><a name="50401311_pgfId-254041"></a>ATI Radeon HD 5000 graphics processors memory paths <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490822">3</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254043"></a>counter</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254044"></a>CodeXL GPU Profiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490845">5</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254046"></a>kernels <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514807">4</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254048"></a>MEM_RAT <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514889">6</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254050"></a>performance</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254051"></a>ATI Radeon HD 5000 series hardware <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490830">3</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254053"></a>vs FastPath</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254054"></a>using float1 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490836">3</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254056"></a>compute devices</h4>
<p class="Level2IX"><a name="50401311_pgfId-254057"></a>program</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254058"></a>optimization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490476">1</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254060"></a>performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-442668">1</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254062"></a>compute unit</h4>
<p class="Level2IX"><a name="50401311_pgfId-254063"></a>computing number of wavefronts per <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537694">18</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254065"></a>containing processing elements <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537654">2</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254067"></a>contents of <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537656">2</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254069"></a>executing work-groups <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537176">2</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-501931">1</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254072"></a>GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537173">2</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-501927">1</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254075"></a>LDS usage effects <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492602">20</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492602">27</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254078"></a>processing independent wavefronts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491991">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491991">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254081"></a>registers shared among all active wavefronts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492026">25</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254083"></a>scheduling available wavefronts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-495585">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-495585">24</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254086"></a>supporting a maximum of eight work-groups <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492011">24</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254088"></a>supporting up to 32 wavefronts</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254089"></a>OpenCL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492013">24</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254091"></a>work-group availability <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-530790">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514936">28</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254094"></a>conditional expression</h4>
<p class="Level2IX"><a name="50401311_pgfId-254095"></a>bypassing short-circuiting <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515384">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515384">54</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254098"></a>used in loop constructs <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515385">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515385">54</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254101"></a>constant address</h4>
<p class="Level2IX"><a name="50401311_pgfId-254102"></a>compiler embedding into instruction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-538274">13</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254104"></a>constant buffers</h4>
<p class="Level2IX"><a name="50401311_pgfId-254105"></a>in hardware <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537687">13</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254107"></a>querying a device when using <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537688">14</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254109"></a>constant memory</h4>
<p class="Level2IX"><a name="50401311_pgfId-254110"></a>optimization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-535725">13</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490924">19</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254113"></a>performance</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254114"></a>same index <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-538278">13</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490928">19</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254117"></a>simple direct-addressing patterns <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490925">13</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490925">19</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254120"></a>varying index <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490937">13</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490937">19</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254123"></a>constant memory optimization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537681">12</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254125"></a>constants</h4>
<p class="Level2IX"><a name="50401311_pgfId-254126"></a>enabling</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254127"></a>L1 and L2 caches <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514920">21</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254129"></a>inline literal <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537680">13</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254131"></a>constraints</h4>
<p class="Level2IX"><a name="50401311_pgfId-254132"></a>on in-flight wavefronts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490995">18</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490995">24</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254135"></a>context</h4>
<p class="Level2IX"><a name="50401311_pgfId-254136"></a>creating in OpenCL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531425">39</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491189">40</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254139"></a>creating separate for each device <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533501">39</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254141"></a>extend vs duplicate <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533500">39</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254143"></a>placing devices in the same context <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531429">39</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491191">40</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254146"></a>control flow statement</h4>
<p class="Level2IX"><a name="50401311_pgfId-254147"></a>moving a conditional expression out of</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254148"></a>loop constructs <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515392">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515392">54</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254151"></a>control-flow boundaries</h4>
<p class="Level2IX"><a name="50401311_pgfId-254152"></a>clauses <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491214">46</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254154"></a>copy map mode</h4>
<p class="Level2IX"><a name="50401311_pgfId-254155"></a>runtime tracks the map location <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514720">22</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254157"></a>copy memory objects <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514706">20</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-254159"></a>transfer policy <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514718">21</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254161"></a>copy performance</h4>
<p class="Level2IX"><a name="50401311_pgfId-254162"></a>steps to improve <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490902">16</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254164"></a>summary <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490901">16</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254166"></a>counters</h4>
<p class="Level2IX"><a name="50401311_pgfId-254167"></a>Fetch <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490788">14</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254169"></a>Write <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490788">14</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254171"></a>CPU</h4>
<p class="Level2IX"><a name="50401311_pgfId-254172"></a>accessing pinned host memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514633">16</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254174"></a>advantages</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254175"></a>caches <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531305">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515127">35</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254178"></a>fast launch time <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531305">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515127">35</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254181"></a>low latency <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531305">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515127">35</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254184"></a>back-end</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254185"></a>generating packed SSE instructions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491209">44</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254187"></a>vectorizing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491209">44</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254189"></a>blocking with clFinish() <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-491831">14</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254191"></a>cache coherency protocol <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533435">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254193"></a>caching when accessing pinned host memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514679">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254195"></a>dedicating a core for scheduling chores <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531349">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515214">37</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254198"></a>each thread is assigned a fixed set of architectural registers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492034">25</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254200"></a>excelling at latency-sensitive tasks <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531281">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491153">33</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254203"></a>float4 vectorization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531417">39</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254205"></a>kernels <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531397">38</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254207"></a>key performance characteristics <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531124">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491151">32</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254210"></a>launch time tracking <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514558">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254212"></a>leverage a targeted routine</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254213"></a>C++ language <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531419">39</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515457">40</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254216"></a>local memory mapping to same cacheable DRAM used for global memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531413">38</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515469">39</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254219"></a>low-latency response</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254220"></a>dedicated spin loop <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531376">37</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515228">38</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254223"></a>mapping uncached memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514823">18</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254225"></a>more on-chip cache than GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533483">33</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515120">34</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254228"></a>multi-core</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254229"></a>dynamic scheduling algorithms <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531320">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515149">36</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254232"></a>no benefit from local memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537721">31</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254234"></a>only supports small number of threads <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531415">38</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515456">39</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254237"></a>optimization when programming <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490535">1</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254239"></a>overlapping copies</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254240"></a>double buffering <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514604">16</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254242"></a>programming using OpenCL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491347">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491347">52</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254245"></a>SSE <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531289">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515118">34</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254248"></a>streaming writes performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514818">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254250"></a>uncached memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514816">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254252"></a>vs GPU</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254253"></a>notable differences <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531403">38</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492083">39</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254256"></a>performance comparison <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531283">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514982">33</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254259"></a>running work-items <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531411">38</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515466">39</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254262"></a>threading <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531285">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514986">33</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254265"></a>vectorized types vs floating-point hardware <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531405">38</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515465">39</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254268"></a>waiting for the GPU to become idle</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254269"></a>by inserting calls <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-491830">14</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254271"></a>CPU cache <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533489">33</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-254273"></a>vs GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533490">33</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254275"></a>crossbar load distribution <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537660">4</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254277"></a>CUDA</h4>
<p class="Level2IX"><a name="50401311_pgfId-254278"></a>code</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254279"></a>workgroup size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515343">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515343">51</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254282"></a>greater efficiency using vectorization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515344">52</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254284"></a>guidance using OpenCL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-521163">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-521163">51</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254287"></a>high single-precision flops</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254288"></a>AMD GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515345">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515345">52</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254291"></a>performance recommendations <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515342">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515342">51</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254294"></a>Cypress device <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515460">38</a></em></h4>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-254296"></a>D<a name="50401311_D"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254298"></a>data</h4>
<p class="Level2IX"><a name="50401311_pgfId-254299"></a>available to device kernel access <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514686">20</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254301"></a>in pinned host memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514635">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254303"></a>location</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254304"></a>scheduling process for GPUs <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531358">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491174">37</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254307"></a>memory allocated and initialized <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514727">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254309"></a>native hardware I/O transaction size</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254310"></a>four word <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515403">55</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254312"></a>optimizing movement</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254313"></a>zero copy memory objects <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531704">21</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254315"></a>processing</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254316"></a>staggered offsets <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490877">7</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490877">9</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254319"></a>set</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254320"></a>performance tips <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515279">29</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515279">50</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254323"></a>structures</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254324"></a>minimize bank conflicts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490870">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490870">6</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254327"></a>transfer optimization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-525049">23</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254329"></a>data transfer</h4>
<p class="Level2IX"><a name="50401311_pgfId-254330"></a>optimizing using pre-pinned buffers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533461">24</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254332"></a>default memory objects <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514719">22</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-254334"></a>tracking <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514723">22</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254336"></a>deferred allocation definition <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514778">24</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254338"></a>device</h4>
<p class="Level2IX"><a name="50401311_pgfId-254339"></a>APU</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254340"></a>GPU access is slower <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514681">17</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254342"></a>balanced solution that runs well on CPU and GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531417">39</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254344"></a>Cedar ASIC <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515459">39</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254346"></a>creating context <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531428">39</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491190">40</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254349"></a>Cypress <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515460">38</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254351"></a>dedicated memory</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254352"></a>discrete GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-525142">17</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254354"></a>different performance characteristics <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531404">38</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491186">39</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254357"></a>fusion <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514819">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254359"></a>heterogeneous <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531328">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515155">36</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254362"></a>kernels</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254363"></a>copying between device memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514769">23</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254365"></a>memory</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254366"></a>avoiding over-allocating <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514827">18</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254368"></a>transfers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514600">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514643">17</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254371"></a>multiple</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254372"></a>creating a separate queue <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531310">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515138">35</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254375"></a>when to use <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531300">33</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491155">35</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254378"></a>obtaining peak throughput <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-539389">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515245">42</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254381"></a>peak performances <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531418">39</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254383"></a>placing in the same context <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531429">39</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491191">40</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254386"></a>scheduling</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254387"></a>across both CPU and GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531326">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515153">36</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254390"></a>starving the GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515213">36</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254392"></a>device fission extension</h4>
<p class="Level2IX"><a name="50401311_pgfId-254393"></a>reserving a core for scheduling <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531350">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515215">37</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254396"></a>Direct Memory Access (DMA)</h4>
<p class="Level2IX"><a name="50401311_pgfId-254397"></a>engine</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254398"></a>transfers data to device memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514600">16</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254400"></a>disassembly information</h4>
<p class="Level2IX"><a name="50401311_pgfId-254401"></a>getting details after running the profiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-491806">11</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254403"></a>discrete GPU</h4>
<p class="Level2IX"><a name="50401311_pgfId-254404"></a>moving data <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531360">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515219">37</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254407"></a>do loops</h4>
<p class="Level2IX"><a name="50401311_pgfId-254408"></a>vs for loops <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537724">33</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254410"></a>double buffering</h4>
<p class="Level2IX"><a name="50401311_pgfId-254411"></a>overlapping CPU copies with DMA <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514604">16</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254413"></a>double-precision</h4>
<p class="Level2IX"><a name="50401311_pgfId-254414"></a>supported on all Southern Island devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537711">24</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254416"></a>double-precision support <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537730">33</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254418"></a>dynamic frequency scaling</h4>
<p class="Level2IX"><a name="50401311_pgfId-254419"></a>device performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533493">34</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254421"></a>dynamic scheduling</h4>
<p class="Level2IX"><a name="50401311_pgfId-254422"></a>algorithms</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254423"></a>Cilk <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531319">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515145">36</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254426"></a>heterogeneous workloads <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531327">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515154">36</a></em></p>
</div>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-254429"></a>E<a name="50401311_E"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254431"></a>Enqueuing commands before flushing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533497">36</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254433"></a>Evergreen</h4>
<p class="Level2IX"><a name="50401311_pgfId-254434"></a>optimizing kernels <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515361">53</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254436"></a>executing</h4>
<p class="Level2IX"><a name="50401311_pgfId-254437"></a>command-queues in-order <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531367">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515222">37</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254440"></a>work-items</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254441"></a>on a single processing element <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537175">2</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-501930">1</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254444"></a>execution</h4>
<p class="Level2IX"><a name="50401311_pgfId-254445"></a>of GPU non-blocking kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490784">13</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254447"></a>range</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254448"></a>balancing the workload <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490987">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490987">23</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254451"></a>optimization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492010">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492010">23</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254454"></a>execution dimensions</h4>
<p class="Level2IX"><a name="50401311_pgfId-254455"></a>guidelines <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533441">20</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254457"></a>external pins</h4>
<p class="Level2IX"><a name="50401311_pgfId-254458"></a>global memory bandwidth <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490978">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490978">21</a></em></p>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-254461"></a>F<a name="50401311_F"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254463"></a>false dependency <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537742">35</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254465"></a>FastPath</h4>
<p class="Level2IX"><a name="50401311_pgfId-254466"></a>ATI Radeon HD 5000 graphics processors memory paths <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490805">3</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254468"></a>channel conflicts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514878">9</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514878">10</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254471"></a>coalescing</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254472"></a>ATI Radeon HD 5000 devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490893">13</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254474"></a>counter</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254475"></a>CodeXL GPU Profiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490842">4</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254477"></a>kernels <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514807">4</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254479"></a>MEM_RAT_CACHELESS <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514890">6</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254481"></a>OpenCL read-only images <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490839">4</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254483"></a>operations are used</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254484"></a>MEM_RAT_CACHELESS instruction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514888">5</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254486"></a>performance</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254487"></a>ATI Radeon HD 5000 series hardware <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490827">3</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254489"></a>reading from same address is a conflict <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491910">9</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491910">10</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254492"></a>vs CompletePath</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254493"></a>using float1 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490836">3</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254495"></a>FETCH</h4>
<p class="Level2IX"><a name="50401311_pgfId-254496"></a>clause <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491218">46</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254498"></a>instruction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515439">46</a></em></p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254500"></a>address calculation <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515258">46</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254502"></a>FetchInsts counters</h4>
<p class="Level2IX"><a name="50401311_pgfId-254503"></a>CodeXL GPU Profiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490787">14</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254505"></a>five-way VLIW processor <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-501929">1</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254507"></a>float1</h4>
<p class="Level2IX"><a name="50401311_pgfId-254508"></a>bandwidths <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490885">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254510"></a>FastPath vs CompletePath <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490836">3</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254512"></a>unaligned access <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490899">15</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254514"></a>float4</h4>
<p class="Level2IX"><a name="50401311_pgfId-254515"></a>bandwidths <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490885">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254517"></a>data types</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254518"></a>code example <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514913">12</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254520"></a>eliminating conflicts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514879">11</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254522"></a>format</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254523"></a>transferring data <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490883">11</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254525"></a>using <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515356">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491211">45</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515356">52</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254529"></a>vectorization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531417">39</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491212">45</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254532"></a>vectorizing the loop <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515253">44</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254534"></a>float4 vs float1 formats</h4>
<p class="Level2IX"><a name="50401311_pgfId-254535"></a>performances <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490884">11</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254537"></a>flushing</h4>
<p class="Level2IX"><a name="50401311_pgfId-254538"></a>command queue <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533450">23</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254540"></a>FMA</h4>
<p class="Level2IX"><a name="50401311_pgfId-254541"></a>fused multipe add <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537731">34</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254543"></a>FMA4 instructions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537722">31</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254545"></a>for loops</h4>
<p class="Level2IX"><a name="50401311_pgfId-254546"></a>vs do or while loops <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537724">33</a></em></p>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-254548"></a>G<a name="50401311_G"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254550"></a>get group ID</h4>
<p class="Level2IX"><a name="50401311_pgfId-254551"></a>changing launch order <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514875">8</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514875">10</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254554"></a>get group ID values</h4>
<p class="Level2IX"><a name="50401311_pgfId-254555"></a>are in ascending launch order <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514901">8</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514901">10</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254558"></a>global ID values</h4>
<p class="Level2IX"><a name="50401311_pgfId-254559"></a>work-group order <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514900">8</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514900">10</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254562"></a>global level for partitioning work <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491058">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491058">28</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254565"></a>global memory bandwidth</h4>
<p class="Level2IX"><a name="50401311_pgfId-254566"></a>external pins <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490978">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490978">21</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254569"></a>global resource constraints</h4>
<p class="Level2IX"><a name="50401311_pgfId-254570"></a>in-flight wavefronts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490995">18</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490995">24</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254573"></a>global work-size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491058">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491058">28</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254576"></a>globally scoped constant arrays</h4>
<p class="Level2IX"><a name="50401311_pgfId-254577"></a>improving performance of OpenCL stack <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490948">13</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490948">19</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254580"></a>GlobalWorkSize field</h4>
<p class="Level2IX"><a name="50401311_pgfId-254581"></a>reporting dimensions of the NDRange <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-491836">14</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254583"></a>GPR</h4>
<p class="Level2IX"><a name="50401311_pgfId-254584"></a>LDS usage <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491978">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491978">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254587"></a>mapping private memory allocations to <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491961">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491961">20</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254590"></a>re-write the algorithm <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492043">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492043">26</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254593"></a>GPRs</h4>
<p class="Level2IX"><a name="50401311_pgfId-254594"></a>CodeXL GPU Profiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491012">19</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254596"></a>provide highest bandwidth access <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537690">15</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254598"></a>used by kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491012">19</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254600"></a>GPU</h4>
<p class="Level2IX"><a name="50401311_pgfId-254601"></a>6900 series</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254602"></a>clause-based <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515374">53</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254604"></a>optimizing kernels <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515361">53</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254606"></a>accessing pinned host memory</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254607"></a>through PCIe bus <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514680">17</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254609"></a>adjusting alignment <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515535">14</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254611"></a>advantages</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254612"></a>high computation throughput <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531304">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515126">35</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254615"></a>latency hiding <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531304">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515126">35</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254618"></a>ATI Radeon HD 5670 threading <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531284">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515116">33</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254621"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491213">clause boundaries</a></p>
<p class="Level2IX"><a name="50401311_pgfId-254623"></a>command queue flushing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514771">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254625"></a>compiler</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254626"></a>packing instructions into VLIW word slots <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491208">44</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254628"></a>compute performance tips <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491225">26</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491225">48</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254631"></a>constraints on in-flight wavefronts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490992">18</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490992">24</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254634"></a>determining local memory size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-531625">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490913">16</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254637"></a>discrete</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254638"></a>existing in a separate address space <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531360">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515219">37</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254641"></a>discrete device memory</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254642"></a>dedicated <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-525142">17</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254644"></a>directly accessible by CPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514822">18</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254646"></a>divergent control-flow <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531292">33</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515119">34</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254649"></a>excelling at high-throughput <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533154">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491152">33</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254652"></a>execute the workload <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515352">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515352">52</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254655"></a>exploiting performance</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254656"></a>specifying NDRange <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490985">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490985">23</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254659"></a>float4 vectorization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531417">39</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254661"></a>flushing</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254662"></a>using clFlush <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514772">23</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254664"></a>fundamental unit of work</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254665"></a>is called wavefront <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514318">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514318">29</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254668"></a>gather/scatter operation <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531288">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514984">34</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254671"></a>global limit on the number of active wavefronts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492014">24</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254673"></a>global memory system optimization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-538214">1</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254675"></a>high single-precision flops</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254676"></a>CUDA programmers guidance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515345">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515345">52</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254679"></a>improving performance</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254680"></a>using float4 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491211">45</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254682"></a>Instruction Set Architecture (ISA) <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514552">11</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254684"></a>kernels <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531397">38</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254686"></a>key performance characteristics <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531124">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491151">32</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254689"></a>launch time tracking <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514559">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254691"></a>loading constants into hardware cache <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514886">19</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254693"></a>multiple compute units <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537173">2</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-501927">1</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254696"></a>new aspects to scheduling process <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531321">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491158">36</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254699"></a>non-blocking kernel execution <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490784">13</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254701"></a>optimization when programming <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490617">1</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254703"></a>performance</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254704"></a>LDS optimizations <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515348">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515348">52</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254707"></a>when programming <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490528">1</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254709"></a>power efficiency <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533156">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515113">33</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254712"></a>programming</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254713"></a>adjacent work-items read or write adjacent memory addresses <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491895">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491895">6</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254716"></a>avoiding channel conflicts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490869">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490869">6</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254719"></a>programming strategy</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254720"></a>raw compute horsepower <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515350">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515350">52</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254723"></a>re-computing values</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254724"></a>per-thread register resources <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515353">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515353">52</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254727"></a>registers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491009">25</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254729"></a>reprocessing the wavefront <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-531634">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491932">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254732"></a>scheduling</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254733"></a>asynchronous launch <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531341">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491167">36</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254736"></a>data location <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531358">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491174">37</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254739"></a>even and odd wavefronts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515443">46</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254741"></a>heterogeneous compute devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531322">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491161">36</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254744"></a>the work-items <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-501932">1</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254746"></a>starving the devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515213">36</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254748"></a>thread single-cycle switching <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531287">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514983">34</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254751"></a>threading <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491983">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491983">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254754"></a>throughput of instructions for <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492086">24</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492086">41</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254757"></a>transferring host memory to device memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514597">16</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254759"></a>pinning <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514598">16</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254761"></a>transparent scheduled work <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531346">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515212">36</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254764"></a>using multiple devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531302">33</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515125">35</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254767"></a>vs CPU</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254768"></a>floating-point hardware vs vectorized types <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531405">38</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515465">39</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254771"></a>notable differences <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531403">38</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492083">39</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254774"></a>performance comparison <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531283">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514982">33</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254777"></a>running work-items <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531411">38</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515466">39</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254780"></a>wavefronts to hide latency <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490991">18</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490991">24</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254783"></a>write coalescing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514880">13</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254785"></a>Write Combine (WC) cache <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-538213">1</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254787"></a>GPU cache</h4>
<p class="Level2IX"><a name="50401311_pgfId-254788"></a>vs CPY <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533490">33</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254790"></a>GPU memory system <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-538211">1</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254792"></a>granularity</h4>
<p class="Level2IX"><a name="50401311_pgfId-254793"></a>per-work-group allocation <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492597">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492597">27</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254796"></a>guidance</h4>
<p class="Level2IX"><a name="50401311_pgfId-254797"></a>for CPU programmers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491347">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491347">52</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254800"></a>for CUDA programmers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-521163">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-521163">51</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254803"></a>general tips <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492095">28</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492095">49</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254806"></a>guidelines for partitioning</h4>
<p class="Level2IX"><a name="50401311_pgfId-254807"></a>global level <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491042">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491042">28</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254810"></a>local level <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491047">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491047">28</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254813"></a>work/kernel level <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491052">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491052">28</a></em></p>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-254816"></a>H<a name="50401311_H"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254818"></a>hardware acceleration <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537686">13</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254820"></a>hardware constant buffers</h4>
<p class="Level2IX"><a name="50401311_pgfId-254821"></a>taking advantage of <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537687">13</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254823"></a>hardware performance parameters</h4>
<p class="Level2IX"><a name="50401311_pgfId-254824"></a>OpenCL memory resources <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490974">14</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490974">20</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254827"></a>HD 5000 series GPU</h4>
<p class="Level2IX"><a name="50401311_pgfId-254828"></a>work-group dispatching <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514895">7</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254830"></a>heterogeneous devices</h4>
<p class="Level2IX"><a name="50401311_pgfId-254831"></a>scheduler</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254832"></a>balancing grain size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531338">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515195">36</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254835"></a>conservative work allocation <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531332">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515167">36</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254838"></a>sending different workload sizes to different devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531329">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515156">36</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254841"></a>using only the fast device <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531335">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515181">36</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254844"></a>scheduling</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254845"></a>process for GPUs <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531322">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491161">36</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254848"></a>situations <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531328">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515155">36</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254851"></a>hiding latency <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533496">36</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-254853"></a>how many wavefronts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537693">18</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254855"></a>host</h4>
<p class="Level2IX"><a name="50401311_pgfId-254856"></a>application mapping <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514684">20</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254858"></a>memory</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254859"></a>device-visible <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533419">17</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254861"></a>Memcpy transfers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514768">23</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254863"></a>pinning and unpinning <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514601">16</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254865"></a>transferring to device memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514597">16</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254867"></a>memory transfer methods <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514599">16</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254869"></a>host to device <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514614">16</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254871"></a>pinning and unpinning <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514620">16</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254873"></a>runtime pinned host memory staging buffers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514626">16</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254875"></a>host memory</h4>
<p class="Level2IX"><a name="50401311_pgfId-254876"></a>cost of pinning/unpinning <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533401">16</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254878"></a>faster than PCIe bus <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533436">18</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254880"></a>transfer costs <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533448">22</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254882"></a>host side zero copy buffers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514782">24</a></em></h4>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-254884"></a>I<a name="50401311_I"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254886"></a>I/O transaction size</h4>
<p class="Level2IX"><a name="50401311_pgfId-254887"></a>four word <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515403">55</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254889"></a>ID values</h4>
<p class="Level2IX"><a name="50401311_pgfId-254890"></a>global</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254891"></a>work-groups order <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514900">8</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514900">10</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254894"></a>if blocks</h4>
<p class="Level2IX"><a name="50401311_pgfId-254895"></a>restructuring the code to eliminate nesting <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515401">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515401">54</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254898"></a>IL</h4>
<p class="Level2IX"><a name="50401311_pgfId-254899"></a>compiler</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254900"></a>using and IL shader or kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490718">11</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254902"></a>description <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490717">11</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254904"></a>exposing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-492588">11</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254906"></a>shader or kernel</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254907"></a>translating into hardware instructions or software emulation layer <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490718">11</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254909"></a>image</h4>
<p class="Level2IX"><a name="50401311_pgfId-254910"></a>argument <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514664">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254912"></a>device kernels</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254913"></a>converting to and from linear address mode <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514770">23</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254915"></a>paths <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-525050">23</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254917"></a>images</h4>
<p class="Level2IX"><a name="50401311_pgfId-254918"></a>cost of transferring <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533449">23</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254920"></a>indexing</h4>
<p class="Level2IX"><a name="50401311_pgfId-254921"></a>registers vs LDS <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491941">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491941">17</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254924"></a>inline literal constants <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537680">13</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254926"></a>in-order queue property</h4>
<p class="Level2IX"><a name="50401311_pgfId-254927"></a>leveraging <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531369">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515223">37</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254930"></a>instruction</h4>
<p class="Level2IX"><a name="50401311_pgfId-254931"></a>ALU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514930">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514930">23</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515422">46</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254935"></a>ALU/LDS <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515423">46</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254937"></a>AMD media <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491195">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491195">42</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254940"></a>bandwidth</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254941"></a>throughput for GPUs <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492086">24</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492086">41</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254944"></a>barrier()</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254945"></a>kernel must include <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490921">18</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254947"></a>FETCH <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515423">46</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254949"></a>LDS <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515422">46</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254951"></a>MAD <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491193">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491193">42</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254954"></a>MEM_RAT_CACHELESS <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514888">5</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254956"></a>MEM_RAT_STORE <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514813">6</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254958"></a>sequence</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254959"></a>MEM_RAT <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514840">5</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254961"></a>TEX <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514848">5</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254963"></a>VFETCH <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514853">5</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254965"></a>WAIT_ACK <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514843">5</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254967"></a>STORE <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515423">46</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254969"></a>vfetch <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514809">5</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254971"></a>VLIW <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491204">43</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254973"></a>Instruction Set Architecture (ISA)</h4>
<p class="Level2IX"><a name="50401311_pgfId-254974"></a>defining <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490727">11</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-254976"></a>dump</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254977"></a>examine LDS usage <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491035">20</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491035">28</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254980"></a>showing the clause boundaries <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515448">46</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-254982"></a>tools used to examine registers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491015">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491015">26</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-254985"></a>exposing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490712">11</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254987"></a>interleave</h4>
<p class="Level2IX"><a name="50401311_pgfId-254988"></a>ATI Radeon HD 5000 GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514894">7</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254990"></a>Intermediate Language (IL)</h4>
<p class="Level2IX"><a name="50401311_pgfId-254991"></a><a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490709">See IL</a></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254993"></a>internal memory</h4>
<p class="Level2IX"><a name="50401311_pgfId-254994"></a>ATI Radeon HD 5000 series devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491914">11</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-254996"></a>ISA</h4>
<p class="Level2IX"><a name="50401311_pgfId-254997"></a>SI <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537735">34</a></em></p>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-254999"></a>J<a name="50401311_J"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255001"></a>jwrite combine</h4>
<p class="Level2IX"><a name="50401311_pgfId-255002"></a>CPU feature <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533462">24</a></em></p>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-255004"></a>K<a name="50401311_K"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255006"></a>kernel</h4>
<p class="Level2IX"><a name="50401311_pgfId-255007"></a>accessing</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255008"></a>local memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514915">12</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514915">18</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255011"></a>making data available <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514686">20</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255013"></a>analyzing stream processor <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490707">11</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255015"></a>attribute syntax</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255016"></a>avoiding spill code and improving performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514933">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514933">27</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255019"></a>avoid declaring global arrays <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515263">28</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515263">49</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255022"></a>bandwidth and ratio <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514869">8</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255024"></a>barrier() instruction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490921">18</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255026"></a>changing width, data type and work-group dimensions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514899">7</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514899">8</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255029"></a>clauses <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515449">46</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255031"></a>code sample</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255032"></a>FastPath vs CompletePath <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490837">3</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255034"></a>converting to and from linear address mode</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255035"></a>images <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514770">23</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255037"></a>copying between device memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514769">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255039"></a>CPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531397">38</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255041"></a>differences between CPU and GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531403">38</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492083">39</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255044"></a>divergent branches</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255045"></a>packing order <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514957">22</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514957">31</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255048"></a>enqueueing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531345">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515211">36</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255051"></a>estimating memory bandwidth <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490785">14</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255053"></a>example that collaboratively writes, then reads from local memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514914">12</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514914">18</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255056"></a>executing</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255057"></a>runtime <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514733">23</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255059"></a>execution</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255060"></a>modifying the memory object <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514722">22</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255062"></a>execution time</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255063"></a>hiding memory latency <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490990">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490990">23</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255066"></a>latency hiding <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514974">23</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514974">32</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255069"></a>sample code <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490732">12</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255071"></a>FastPath and CompletePath <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514807">4</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255073"></a>flushing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531345">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515211">36</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255076"></a>GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531397">38</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255078"></a>non-blocking execution <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490784">13</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255080"></a>increasing the processing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514950">30</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255082"></a>launch time</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255083"></a>CPU devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514558">12</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255085"></a>GPU devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514559">12</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255087"></a>tracking <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490781">12</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255089"></a>level <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491052">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491052">28</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255092"></a>moving work to <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491067">29</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255094"></a>optimizing</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255095"></a>for 6900 series GPUs <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515358">53</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255097"></a>for Evergreen <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515358">53</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255099"></a>passing data to</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255100"></a>memory objects <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514588">15</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255102"></a>performance</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255103"></a>float4 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514879">11</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255105"></a>preserving sequentially-increasing addressing of the original kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514942">30</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255107"></a>required memory bandwidth <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533398">14</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255109"></a>samples of coalescing patterns <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490896">13</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255111"></a>staggered offsets <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490876">7</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490876">9</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255114"></a>unaligned access</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255115"></a>float1 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515534">14</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255117"></a>unrolled</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255118"></a>using float4 vectorization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515256">45</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255120"></a>use of available local memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491130">30</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255122"></a>using constant buffers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514917">14</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514917">20</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255125"></a>Kernel Time metric</h4>
<p class="Level2IX"><a name="50401311_pgfId-255126"></a>CodeXL GPU Profiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490762">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255128"></a>record execution time automatically <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490762">12</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255130"></a>kernels</h4>
<p class="Level2IX"><a name="50401311_pgfId-255131"></a>timing the execution of <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533394">12</a></em></p>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-255133"></a>L<a name="50401311_L"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255135"></a>L1</h4>
<p class="Level2IX"><a name="50401311_pgfId-255136"></a>convolution <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514925">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514925">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255139"></a>matrix multiplication <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514925">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514925">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255142"></a>read path <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514925">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514925">22</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255145"></a>L1 cache <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490977">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537734">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-528128">1</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490977">21</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-255150"></a>L1 vs LDS <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490979">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490979">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255153"></a>native data type <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490980">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490980">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255156"></a>vs LDS <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537672">10</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255158"></a>L2 cache <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490977">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-528131">1</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490977">21</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-255162"></a>memory channels on the GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491966">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491966">21</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255165"></a>latency</h4>
<p class="Level2IX"><a name="50401311_pgfId-255166"></a>hiding <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533496">36</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255168"></a>latency hiding <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490988">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490988">23</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-255171"></a>ALU pipeline <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490989">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255173"></a>clause <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491219">46</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255175"></a>execution time for each kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514973">23</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514973">32</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255178"></a>number of wavefronts/compute unit <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514973">23</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514973">32</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255181"></a>scheduling wavefronts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491988">23</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255183"></a>launch dimension</h4>
<p class="Level2IX"><a name="50401311_pgfId-255184"></a>performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514869">8</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255186"></a>launch fails</h4>
<p class="Level2IX"><a name="50401311_pgfId-255187"></a>preventing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514931">26</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255189"></a>launch order</h4>
<p class="Level2IX"><a name="50401311_pgfId-255190"></a>for get group ID <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514901">8</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514901">10</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255193"></a>get group ID</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255194"></a>changing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514875">8</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514875">10</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255197"></a>launch overhead</h4>
<p class="Level2IX"><a name="50401311_pgfId-255198"></a>reducing in Profiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533396">13</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255200"></a>launch time</h4>
<p class="Level2IX"><a name="50401311_pgfId-255201"></a>GPU vs CPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533485">33</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515121">34</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255204"></a>launching the kernel</h4>
<p class="Level2IX"><a name="50401311_pgfId-255205"></a>determining local work size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514324">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514324">29</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255208"></a>reduced work size</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255209"></a>Cedar <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491134">32</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255211"></a>LDS</h4>
<p class="Level2IX"><a name="50401311_pgfId-255212"></a>allocation on a per-work-group granularity <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492597">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492597">27</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255215"></a>bank conflicts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537733">34</a></em></p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255217"></a>pattern results <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491129">30</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255219"></a>cache</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255220"></a>accelerating local memory accesses <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490903">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490903">16</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255223"></a>LDS vs L1 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490979">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490979">22</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255226"></a>native format <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490981">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490981">22</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255229"></a>converting a scattered access pattern to a coalesced pattern <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491971">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491971">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255232"></a>examining requests for bank conflicts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-532210">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491937">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255235"></a>examining usage</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255236"></a>generating ISA dump <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491035">20</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491035">28</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255239"></a>filling from global memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514928">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514928">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255242"></a>impact of usage on wavefronts/compute unit <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537702">19</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255244"></a>initiating with ALU operation <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491942">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491942">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255247"></a>instruction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515439">46</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255249"></a>linking to GPR usage and wavefront-per-SIMD count <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491978">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491978">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255252"></a>local memory size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492595">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492595">27</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255255"></a>bank address <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-531627">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514885">16</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255258"></a>mapping an algorithm <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537691">16</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255260"></a>maximum allocation for work-group <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537732">34</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255262"></a>optimizations and GPU performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515349">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515349">52</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255265"></a>read broadcast feature <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491972">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491972">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255268"></a>reading from global memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514928">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514928">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255271"></a>sharing</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255272"></a>across work-groups <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491976">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491976">22</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255275"></a>between work-items <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490982">22</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255277"></a>size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514926">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514926">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255280"></a>tools to examine the kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491033">20</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491033">28</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255283"></a>usage effect</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255284"></a>on compute-unit <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492602">20</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492602">27</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255287"></a>on wavefronts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492602">20</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492602">27</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255290"></a>using barriers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490984">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490984">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255293"></a>vs L1 cache <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537672">10</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255295"></a>vs registers</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255296"></a>indexing flexibility <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491941">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491941">17</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255299"></a>LDS access instructions</h4>
<p class="Level2IX"><a name="50401311_pgfId-255300"></a>placed in the same clause <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515415">46</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255302"></a>LDSBankConflict</h4>
<p class="Level2IX"><a name="50401311_pgfId-255303"></a>optimizing local memory usage <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491944">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491944">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255306"></a>performance counter <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-531636">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491933">17</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255309"></a>library</h4>
<p class="Level2IX"><a name="50401311_pgfId-255310"></a>math <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491197">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491197">42</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255313"></a>linear layout format <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-447121">27</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-447121">48</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255316"></a>literal constant <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537683">13</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255318"></a>load distribution</h4>
<p class="Level2IX"><a name="50401311_pgfId-255319"></a>crossbar <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537660">4</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255321"></a>local cache memory</h4>
<p class="Level2IX"><a name="50401311_pgfId-255322"></a>key to effectively using <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490915">17</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255324"></a>local level for partitioning work <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491061">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491061">28</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255327"></a>local memory</h4>
<p class="Level2IX"><a name="50401311_pgfId-255328"></a>determining size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490912">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490912">16</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255331"></a>LDS</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255332"></a>optimization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490903">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490903">16</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255335"></a>size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492595">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492595">27</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255338"></a>no benefit for CPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537721">31</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255340"></a>scratchpad memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490917">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490917">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255343"></a>writing data into <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490919">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490919">18</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255346"></a>local ranges</h4>
<p class="Level2IX"><a name="50401311_pgfId-255347"></a>dividing from global NDRange <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490986">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490986">23</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255350"></a>local work size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491061">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491061">28</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255353"></a>loop</h4>
<p class="Level2IX"><a name="50401311_pgfId-255354"></a>constructs</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255355"></a>conditional expressions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515385">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515385">54</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255358"></a>types</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255359"></a>experimenting <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515402">33</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515402">55</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255362"></a>unrolling <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537714">26</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515249">43</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255365"></a>4x <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515251">43</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255367"></a>exposing more parallelism <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491205">43</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255369"></a>increasing performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515400">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515400">54</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255372"></a>performance tips <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515273">29</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515273">50</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255375"></a>using pragma compiler directive hint <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491259">26</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491259">48</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255378"></a>with clustered stores <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515250">44</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255380"></a>vectorizing</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255381"></a>using float4 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515253">44</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255383"></a>loop unrolling optimizations <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537719">29</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255385"></a>loops</h4>
<p class="Level2IX"><a name="50401311_pgfId-255386"></a>for vs do or while <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537724">33</a></em></p>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-255388"></a>M<a name="50401311_M"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255390"></a>MAD</h4>
<p class="Level2IX"><a name="50401311_pgfId-255391"></a>double-precision operations <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514987">41</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255393"></a>instruction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491193">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491193">42</a></em></p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255396"></a>converting separate MUL/ADD operations <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515453">25</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255398"></a>single precision operation <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514987">41</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255400"></a>MAD instruction</h4>
<p class="Level2IX"><a name="50401311_pgfId-255401"></a>converting separate MUL/ADD operations <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515453">42</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255403"></a>map calls <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514723">22</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-255405"></a>tracking default memory objects <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514723">22</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255407"></a>map_flags argument <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514714">21</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255409"></a>mapping</h4>
<p class="Level2IX"><a name="50401311_pgfId-255410"></a>memory into CPU address space</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255411"></a>as uncached <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514823">18</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255413"></a>runtime transfers</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255414"></a>copy memory objects <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514715">21</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255416"></a>the host application <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514684">20</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255418"></a>user data into a single UAV <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491878">4</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255420"></a>zero copy memory objects <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531705">21</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255422"></a>mapping/unmapping transfer</h4>
<p class="Level2IX"><a name="50401311_pgfId-255423"></a>pin/unpin runtime <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514724">22</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255425"></a>maps</h4>
<p class="Level2IX"><a name="50401311_pgfId-255426"></a>non-blocking <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531378">37</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515234">38</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255429"></a>math libraries <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491197">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491197">42</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-255432"></a>function (non-native) <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491198">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491198">42</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255435"></a>native_function <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491198">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491198">42</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255438"></a>matrix multiplication</h4>
<p class="Level2IX"><a name="50401311_pgfId-255439"></a>convolution</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255440"></a>L1 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514925">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514925">22</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255443"></a>media instructions</h4>
<p class="Level2IX"><a name="50401311_pgfId-255444"></a>AMD <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491195">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491195">42</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255447"></a>MEM_RAT</h4>
<p class="Level2IX"><a name="50401311_pgfId-255448"></a>instruction sequence meaning <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514840">5</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255450"></a>means CompletePath <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514889">6</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255452"></a>MEM_RAT_CACHELESS</h4>
<p class="Level2IX"><a name="50401311_pgfId-255453"></a>instruction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514888">5</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255455"></a>means FastPath <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514890">6</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255457"></a>MEM_RAT_STORE instruction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514813">6</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255459"></a>Memcpy</h4>
<p class="Level2IX"><a name="50401311_pgfId-255460"></a>transferring between various kinds of host memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514768">23</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255462"></a>memory</h4>
<p class="Level2IX"><a name="50401311_pgfId-255463"></a>access patterns <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491330">28</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491330">49</a></em></p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255466"></a>bank conflicts on the LDS <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491129">30</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255468"></a>combining work-items in the NDRange index space <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491127">29</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255470"></a>compute kernels <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491333">28</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491333">49</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255473"></a>holes <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491129">30</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255475"></a>pixel shaders <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491333">28</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491333">49</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255478"></a>preserving <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491128">29</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255480"></a>accessing local memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514915">12</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514915">18</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255483"></a>allocation</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255484"></a>in pinned host memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514727">22</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255486"></a>bandwidth</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255487"></a>ATI Radeon HD 5870 GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491969">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491969">21</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255490"></a>calculating <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-491833">14</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255492"></a>estimation required by a kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490785">14</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255494"></a>performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-532432">16</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255496"></a>channels</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255497"></a>ATI Radeon HD 5870 GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491967">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491967">21</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255500"></a>L2 cache <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491966">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491966">21</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255503"></a>controllers</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255504"></a>ATI Radeon HD 5870 GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491849">2</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255506"></a>delivering bandwidth</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255507"></a>ATI Radeon HD 5870 GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-531633">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491930">16</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255510"></a>global</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255511"></a>OpenCL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514912">9</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514912">11</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255514"></a>highly efficient accessing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537679">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255516"></a>host</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255517"></a>cost of pinning/unpinning <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533401">16</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255519"></a>initializing with the passed data <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514727">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255521"></a>latency hiding reduction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491979">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491979">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255524"></a>limitation</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255525"></a>partitioning into multiple clEnqueueNDRangeKernel commands <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-530786">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491075">28</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255528"></a>local</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255529"></a>increasing the processing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514950">30</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255531"></a>moving processing tasks into the kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491130">30</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255533"></a>scratchpad memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490917">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490917">17</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255536"></a>mapping</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255537"></a>CPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531413">38</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515469">39</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255540"></a>uncached <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514823">18</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255542"></a>object properties</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255543"></a>OpenCL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514683">19</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255545"></a>obtaining through querying clDeviceInfo <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-530788">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491083">28</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255548"></a>optimization of constant <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537681">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255550"></a>paths</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255551"></a>ATI Radeon HD 5000 graphics processors <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490802">3</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255553"></a>pinned <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533447">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255555"></a>request</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255556"></a>wavefront is made idle <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491990">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491990">23</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255559"></a>source and destination</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255560"></a>runtime transfers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514765">23</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255562"></a>system in GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-538211">1</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255564"></a>tiled layout <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537718">27</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255566"></a>tiling physical memory layouts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-489345">27</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-489345">48</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255569"></a>types used by the runtime <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-532542">15</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255571"></a>uncached <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514816">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255573"></a>Unordered Access View (UAV) <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514912">9</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514912">11</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255576"></a>memory bandwidth</h4>
<p class="Level2IX"><a name="50401311_pgfId-255577"></a>required by kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533398">14</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255579"></a>memory channel</h4>
<p class="Level2IX"><a name="50401311_pgfId-255580"></a>contents of <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537659">4</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255582"></a>memory channel mapping <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537663">4</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255584"></a>memory object</h4>
<p class="Level2IX"><a name="50401311_pgfId-255585"></a>first use slower than subsequent <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533437">18</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255587"></a>memory object data</h4>
<p class="Level2IX"><a name="50401311_pgfId-255588"></a>obtaining a pointer to access <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514685">20</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255590"></a>memory objects</h4>
<p class="Level2IX"><a name="50401311_pgfId-255591"></a>accessing directly from the host <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514690">20</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255593"></a>copy <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514706">20</a></em></p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255595"></a>map mode <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514713">21</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255597"></a>transfer policy <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514718">21</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255599"></a>create <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533439">19</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255601"></a>default <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514719">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255603"></a>enabling zero copy <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533438">20</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255605"></a>location <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514826">18</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255607"></a>modifying <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514722">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255609"></a>passing data to kernels <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514588">15</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255611"></a>runtime</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255612"></a>limits <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514634">16</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255614"></a>policy <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514578">15</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255616"></a>runtime policy</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255617"></a>best performance practices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514581">15</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255619"></a>transferring data to and from the host <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514687">20</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255621"></a>zero copy <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514705">20</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255623"></a>mapping <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531705">21</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255625"></a>optimizing data movement <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531704">21</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255627"></a>support <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531702">20</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255629"></a>zero copy host resident</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255630"></a>boosting performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514710">21</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255632"></a>memory stride</h4>
<p class="Level2IX"><a name="50401311_pgfId-255633"></a>description of <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492062">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492062">6</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255636"></a>menu</h4>
<p class="Level2IX"><a name="50401311_pgfId-255637"></a>viewing</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255638"></a>IL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-491816">11</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255640"></a>ISA <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-491816">11</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255642"></a>source OpenCL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-491816">11</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255644"></a>Microsoft Visual Studio</h4>
<p class="Level2IX"><a name="50401311_pgfId-255645"></a>CodeXL GPU Profiler</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255646"></a>viewing IL and ISA code <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490728">11</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255648"></a>microtile <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537717">27</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255650"></a>motion estimation algorithms</h4>
<p class="Level2IX"><a name="50401311_pgfId-255651"></a>SAD <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491196">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491196">42</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255654"></a>MULs <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515243">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515243">42</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255657"></a>multi-core</h4>
<p class="Level2IX"><a name="50401311_pgfId-255658"></a>runtimes</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255659"></a>Cilk <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531317">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491157">36</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255662"></a>schedulers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531324">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515152">36</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255665"></a>multiple devices</h4>
<p class="Level2IX"><a name="50401311_pgfId-255666"></a>creating a separate queue for each device <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531310">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515138">35</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255669"></a>in OpenCL runtime <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531116">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491137">32</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255672"></a>optimization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490560">1</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255674"></a>partitioning work for <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531311">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491156">35</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255677"></a>when to use <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531300">33</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491155">35</a></em></p>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-255680"></a>N<a name="50401311_N"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255682"></a>native data type</h4>
<p class="Level2IX"><a name="50401311_pgfId-255683"></a>L1 cache <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490980">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490980">22</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255686"></a>native format</h4>
<p class="Level2IX"><a name="50401311_pgfId-255687"></a>LDS cache <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490981">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490981">22</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255690"></a>native speedup factor</h4>
<p class="Level2IX"><a name="50401311_pgfId-255691"></a>for certain functions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491199">42</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255693"></a>native_function math library <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491198">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491198">42</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255696"></a>NDRange</h4>
<p class="Level2IX"><a name="50401311_pgfId-255697"></a>balancing the workload <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490987">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490987">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255700"></a>dimensions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491131">22</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491131">30</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255703"></a>exploiting performance of the GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490985">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490985">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255706"></a>general guidelines</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255707"></a>determining optimization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491136">22</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491136">32</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255710"></a>global</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255711"></a>divided into local ranges <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490986">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490986">23</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255714"></a>index space</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255715"></a>combining work-items <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491125">29</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255717"></a>optimization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492010">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492010">23</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255720"></a>summary <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491135">22</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491135">32</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255723"></a>partitioning work <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491036">20</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491036">28</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255726"></a>profiler reports the dimensions</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255727"></a>GlobalWorkSize field <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-491836">14</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255729"></a>nesting</h4>
<p class="Level2IX"><a name="50401311_pgfId-255730"></a>if blocks <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515401">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515401">54</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255733"></a>non-blocking maps <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531378">37</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515234">38</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255736"></a>non-coalesced writes <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490887">12</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-255738"></a>quarter-wavefront units accessing the memory system <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490890">9</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490890">12</a></em></p>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-255741"></a>O<a name="50401311_O"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255743"></a>occupancy metric <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491997">18</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491997">24</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255746"></a>offset argument <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514716">21</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255748"></a>OpenCL</h4>
<p class="Level2IX"><a name="50401311_pgfId-255749"></a>API</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255750"></a>application scenarios and corresponding paths for</h6>
<div>
<h6 class="Level4IX"><a name="50401311_pgfId-255751"></a>AMD platforms <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514790">27</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255753"></a>avoiding over-allocating device memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514827">18</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255755"></a>balancing the workload using multiple devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531119">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491141">32</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255758"></a>beginning execution</p>
</div>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255759"></a>synchronizing command <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531366">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515221">37</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255762"></a>buffers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514784">24</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255764"></a>zero copy <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514786">25</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255766"></a>built-in functions</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255767"></a>mad24 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515244">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515244">42</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255770"></a>mul24 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515244">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515244">42</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255773"></a>built-in timing capability <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490780">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255775"></a>built-ins <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515356">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515356">52</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255778"></a>commands</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255779"></a>copy buffers and images <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514750">23</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255781"></a>read buffers and images <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514734">23</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255783"></a>write buffers and images <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514737">23</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255785"></a>compiler</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255786"></a>determining the used path <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490840">4</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255788"></a>creating at least one context <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531426">39</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491188">40</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255791"></a>CUDA programming <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-521163">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-521163">51</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255794"></a>generating</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255795"></a>IL code <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514376">11</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255797"></a>ISA code <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514376">11</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255799"></a>global memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514912">9</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514912">11</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255802"></a>guidance for CPU programmers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491347">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491347">52</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255805"></a>hardware performance parameters <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490974">14</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490974">20</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255808"></a>kernels</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255809"></a>FastPath and CompletePath <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514807">4</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255811"></a>limiting number of work-items in each group <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514938">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514938">28</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255814"></a>managing each command queue <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531372">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491180">38</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255817"></a>math libraries</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255818"></a>function () <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515452">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515452">42</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255821"></a>native_function () <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515452">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515452">42</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255824"></a>memory object</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255825"></a>location <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514826">18</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255827"></a>properties <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514683">19</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255829"></a>optimizing</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255830"></a>data transfers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-525049">23</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255832"></a>register allocation <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491028">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491028">27</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255835"></a>partitioning the workload <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531118">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491138">32</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255838"></a>programming CPU</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255839"></a>key differences in optimization strategy <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515347">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515347">52</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255842"></a>read-only images</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255843"></a>FastPath <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490839">4</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255845"></a>regular device buffers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514785">24</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255847"></a>running</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255848"></a>on multiple devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531302">33</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515125">35</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255851"></a>runtime</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255852"></a>batching <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514562">13</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255854"></a>recording timestamp information <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490731">12</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255856"></a>roundtrip chain <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514792">27</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255858"></a>timing the execution of kernels <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490730">12</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255860"></a>transfer methods <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514599">16</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255862"></a>using multiple devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531116">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491137">32</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255865"></a>runtime policy for memory objects <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514578">15</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255867"></a>best performance practices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514581">15</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255869"></a>runtime transfer methods <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514614">16</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255871"></a>sample code</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255872"></a>reading current value of timer clock <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490783">13</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255874"></a>scheduling asynchronously from a command-queue <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531344">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515210">36</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255877"></a>SDK partitions large number of work-groups into smaller pieces <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-530785">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491074">28</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255880"></a>spawning a new thread <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531372">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491180">38</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255883"></a>stack</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255884"></a>globally scoped constant arrays <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490950">13</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490950">19</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255887"></a>improving performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490947">13</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490947">19</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255890"></a>per-pointer attribute <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490964">14</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490964">19</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255893"></a>supports up to 256 work-items <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492012">24</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255895"></a>timer use with other system timers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490782">13</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255897"></a>timestamps <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533395">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255899"></a>tracking time across changes in frequency and power states <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514564">13</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255901"></a>tuning the kernel for the target device <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531399">38</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255903"></a>using a separate thread for each command-queue <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531346">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515212">36</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255906"></a>work-group sharing not possible <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491976">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491976">22</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255909"></a>optimization</h4>
<p class="Level2IX"><a name="50401311_pgfId-255910"></a>applying recursively (constant buffer pointers in single hardware buffer) <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537689">14</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255912"></a>constant memory</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255913"></a>levels of performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-535725">13</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490924">19</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255916"></a>key differences</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255917"></a>programming CPU using OpenCL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515347">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515347">52</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255920"></a>LDS <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490903">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490903">16</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255923"></a>GPU performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515348">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515348">52</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255926"></a>NDRange</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255927"></a>general guidelines <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491136">22</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491136">32</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255930"></a>of execution range <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492010">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492010">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255933"></a>of GPU global memory system <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-538214">1</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255935"></a>of local memory usage</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255936"></a>LDSBankConflict <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491944">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491944">17</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255939"></a>of NDRange <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492010">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492010">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255942"></a>of register allocation</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255943"></a>special attribute <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491028">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491028">27</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255946"></a>of the Cedar part <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491132">31</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255948"></a>when programming</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255949"></a>AMD Accelerated Parallel Processing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490594">1</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255951"></a>compute devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490476">1</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255953"></a>CPUs <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490535">1</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255955"></a>multiple devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490560">1</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255957"></a>work-group size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490923">12</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490923">18</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255960"></a>optimizing</h4>
<p class="Level2IX"><a name="50401311_pgfId-255961"></a>application performance with Profiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533303">1</a></em></p>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-255963"></a>P<a name="50401311_P"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255965"></a>Packed 16-bit and 8-bit operations</h4>
<p class="Level2IX"><a name="50401311_pgfId-255966"></a>not natively supported <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537712">25</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255968"></a>packing order</h4>
<p class="Level2IX"><a name="50401311_pgfId-255969"></a>work-items following the same direction when control-flow is encountered <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514957">22</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514957">31</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255972"></a>page</h4>
<p class="Level2IX"><a name="50401311_pgfId-255973"></a>pinning <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514601">16</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255975"></a>unpinning <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514601">16</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255977"></a>parallelism</h4>
<p class="Level2IX"><a name="50401311_pgfId-255978"></a>unrolling the loop to expose <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491207">44</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255980"></a>partitioning simple static algorithms <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531314">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515139">35</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-255983"></a>partitioning the workload</h4>
<p class="Level2IX"><a name="50401311_pgfId-255984"></a>guidelines</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255985"></a>global level <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491042">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491042">28</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255988"></a>local level <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491047">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491047">28</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-255991"></a>work <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491052">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491052">28</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-255994"></a>multiple OpenCL devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531118">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491138">32</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-255997"></a>NDRange <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491036">20</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491036">28</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256000"></a>on multiple devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531311">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491156">35</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256003"></a>paths</h4>
<p class="Level2IX"><a name="50401311_pgfId-256004"></a>buffer <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-525050">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256006"></a>image <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-525050">23</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256008"></a>PathUtilization counter</h4>
<p class="Level2IX"><a name="50401311_pgfId-256009"></a>CodeXL GPU Profiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490850">5</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256011"></a>pattern</h4>
<p class="Level2IX"><a name="50401311_pgfId-256012"></a>characteristics of low-performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537658">4</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256014"></a>patterns</h4>
<p class="Level2IX"><a name="50401311_pgfId-256015"></a>transforming multiple into a single instruction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537713">26</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256017"></a>PCIe</h4>
<p class="Level2IX"><a name="50401311_pgfId-256018"></a>CPU access of discrete GPU device memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514822">18</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256020"></a>GPU accessing pinned host memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514680">17</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256022"></a>PCIe bus</h4>
<p class="Level2IX"><a name="50401311_pgfId-256023"></a>slower than host memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533436">18</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256025"></a>peak interconnect bandwidth</h4>
<p class="Level2IX"><a name="50401311_pgfId-256026"></a>definition <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514779">24</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256028"></a>performance</h4>
<p class="Level2IX"><a name="50401311_pgfId-256029"></a>affected by dynamic frequency scaling <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533493">34</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256031"></a>AMD OpenCL stack <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490947">13</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490947">19</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256034"></a>better with algorithm that changes work-group size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537720">29</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256036"></a>characteristics</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256037"></a>CPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531124">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491151">32</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256040"></a>GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531124">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491151">32</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256043"></a>CompletePath <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490830">3</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256045"></a>constant memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-535725">13</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490924">19</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256048"></a>counter</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256049"></a>LDSBankConflict <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-531636">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491933">17</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256052"></a>CPU streaming writes <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514818">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256054"></a>different device characteristics <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531404">38</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491186">39</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256057"></a>experimenting with different loop types <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515402">33</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515402">55</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256060"></a>FastPath <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490827">3</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256062"></a>general tips</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256063"></a>avoid declaring global arrays <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515263">28</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515263">49</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256066"></a>avoid writing code with dynamic pointer assignment <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515320">29</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515320">51</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256069"></a>coding a simple and accurate algorithm <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515288">29</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515288">50</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256072"></a>data set reduction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515279">29</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515279">50</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256075"></a>loop unrolling <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515273">29</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515273">50</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256078"></a>removing or commenting-out sections of code <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515295">29</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515295">50</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256081"></a>use predication rather than control-flow <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515267">28</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515267">49</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256084"></a>GPU vs CPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531297">33</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515122">34</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256087"></a>guidance</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256088"></a>general tips <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492095">28</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492095">49</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256091"></a>improving</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256092"></a>kernel attribute syntax <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514934">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514934">27</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256095"></a>re-ordering the code <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515246">43</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256097"></a>using float4 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491211">45</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256099"></a>increasing</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256100"></a>unrolling the loop <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515400">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515400">54</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256103"></a>launch dimension <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514869">8</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256105"></a>of a copy <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490901">16</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256107"></a>of the GPU</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256108"></a>NDRange <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490985">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490985">23</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256111"></a>peak on all devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531418">39</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256113"></a>recommendations</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256114"></a>guidance for CUDA programmers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515342">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515342">51</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256117"></a>tips for AMD-specific optimizations <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491242">26</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491242">48</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256120"></a>tips for GPU compute <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491225">26</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491225">48</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256123"></a>when programming</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256124"></a>AMD Accelerated Parallel Processing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490495">1</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256126"></a>compute devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-442668">1</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256128"></a>CPUs <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490548">1</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256130"></a>multiple devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490553">1</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256132"></a>performance characteristics</h4>
<p class="Level2IX"><a name="50401311_pgfId-256133"></a>CPU vs GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533498">38</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256135"></a>performance counter</h4>
<p class="Level2IX"><a name="50401311_pgfId-256136"></a>ALUBusy <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-495588">18</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-495588">24</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256139"></a>for optimizing local memory</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256140"></a>CodeXL GPU Profiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490916">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490916">17</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256143"></a>per-pointer attribute</h4>
<p class="Level2IX"><a name="50401311_pgfId-256144"></a>improving performance of OpenCL stack <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490953">14</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490953">19</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256147"></a>per-thread registers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515353">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515353">52</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256150"></a>physical memory layouts</h4>
<p class="Level2IX"><a name="50401311_pgfId-256151"></a>for images <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-489343">27</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-489343">48</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256154"></a>memory tiling <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-489344">27</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-489344">48</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256157"></a>pin</h4>
<p class="Level2IX"><a name="50401311_pgfId-256158"></a>transferring host memory to device memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514598">16</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256160"></a>pinned host memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514631">16</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-256162"></a>accessing through the PCIe bus <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514680">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256164"></a>allocating memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514728">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256166"></a>CPU caching <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514679">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256168"></a>improved transfer performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514644">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256170"></a>initializing with passed data <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514728">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256172"></a>runtime makes accessible <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533404">17</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256174"></a>pinned memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533447">22</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256176"></a>pinning</h4>
<p class="Level2IX"><a name="50401311_pgfId-256177"></a>definition <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514780">24</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256179"></a>pinning cost <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533479">27</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256181"></a>porting code</h4>
<p class="Level2IX"><a name="50401311_pgfId-256182"></a>toGPU unchanged <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537657">3</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256184"></a>power of two strides avoidance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514870">7</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514870">9</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256187"></a>pragma unroll <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537715">27</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256189"></a>predication</h4>
<p class="Level2IX"><a name="50401311_pgfId-256190"></a>use rather than control-flow <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515267">28</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515267">49</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256193"></a>pre-pinned buffers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533470">26</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256195"></a>private memory allocation</h4>
<p class="Level2IX"><a name="50401311_pgfId-256196"></a>mapping to scratch region <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490975">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490975">20</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256199"></a>processing elements</h4>
<p class="Level2IX"><a name="50401311_pgfId-256200"></a>in compute unit <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537654">2</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256202"></a>Profiler</h4>
<p class="Level2IX"><a name="50401311_pgfId-256203"></a>optimizing application performance with <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533303">1</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256205"></a>reducing launch overhead <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533396">13</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256207"></a>programming</h4>
<p class="Level2IX"><a name="50401311_pgfId-256208"></a>AMD Accelerated Parallel Processing GPU</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256209"></a>optimization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490594">1</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256211"></a>performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490495">1</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256213"></a>CPUs</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256214"></a>performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490548">1</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256216"></a>getting detailed information</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256217"></a>after running the profiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-491810">11</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256219"></a>GPU</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256220"></a>raw compute horsepower <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515350">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515350">52</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256223"></a>multiple devices</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256224"></a>performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490553">1</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256226"></a>ptr arguments <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514678">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514725">22</a></em></h4>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-256229"></a>Q<a name="50401311_Q"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256231"></a>quarter-wavefront units</h4>
<p class="Level2IX"><a name="50401311_pgfId-256232"></a>non-coalesced writes <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490890">9</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490890">12</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256235"></a>querying</h4>
<p class="Level2IX"><a name="50401311_pgfId-256236"></a>clDeviceInfo</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256237"></a>obtaining device memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-530788">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491083">28</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256240"></a>querying device</h4>
<p class="Level2IX"><a name="50401311_pgfId-256241"></a>when using constant buffers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537688">14</a></em></p>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-256243"></a>R<a name="50401311_R"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256245"></a>Random Access Target (RAT) <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514811">5</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256247"></a>read broadcast feature</h4>
<p class="Level2IX"><a name="50401311_pgfId-256248"></a>LDS <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491972">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491972">22</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256251"></a>read coalescing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537740">34</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256253"></a>read path</h4>
<p class="Level2IX"><a name="50401311_pgfId-256254"></a>L1 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514925">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514925">22</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256257"></a>reads from a fixed address</h4>
<p class="Level2IX"><a name="50401311_pgfId-256258"></a>collide and serialized <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537670">9</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256260"></a>register allocation</h4>
<p class="Level2IX"><a name="50401311_pgfId-256261"></a>preventing launch fails <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514931">26</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256263"></a>register spilling <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537739">34</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256265"></a>register spills</h4>
<p class="Level2IX"><a name="50401311_pgfId-256266"></a>ScratchReg field</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256267"></a>CodeXL GPU Profiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492041">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492041">26</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256270"></a>registers</h4>
<p class="Level2IX"><a name="50401311_pgfId-256271"></a>GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491009">25</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256273"></a>per-thread <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515353">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515353">52</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256276"></a>shared among all active wavefronts on the compute unit <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492029">25</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256278"></a>spilled <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537699">19</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256280"></a>vs LDS</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256281"></a>indexing flexibility <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491941">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491941">17</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256284"></a>reordering data</h4>
<p class="Level2IX"><a name="50401311_pgfId-256285"></a>coalesced writes <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490886">12</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256287"></a>reqd_work_group_size</h4>
<p class="Level2IX"><a name="50401311_pgfId-256288"></a>compiler removes barriers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491951">12</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491951">19</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256291"></a>retiring work-groups <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514896">6</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514896">8</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256294"></a>runtime</h4>
<p class="Level2IX"><a name="50401311_pgfId-256295"></a>executing kernels on the device <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514733">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256297"></a>knowing data is in pinned host memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514635">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256299"></a>limits of pinned host memory used for memory objects <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514634">16</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256301"></a>making pinned host memory accessible <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533404">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256303"></a>multi-core</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256304"></a>Cilk <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531317">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491157">36</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256307"></a>pin/unpin on every map/unmap transfer <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514724">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256309"></a>recognizing only data in pinned has memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514645">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256311"></a>tracking the map location</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256312"></a>copy map mode <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514720">22</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256314"></a>transfers</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256315"></a>depending on memory kind of</h6>
<div>
<h6 class="Level4IX"><a name="50401311_pgfId-256316"></a>destination <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514764">23</a></em></h6>
</div>
<div>
<h6 class="Level4IX"><a name="50401311_pgfId-256318"></a>source <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514764">23</a></em></h6>
</div>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256320"></a>mapping for improved performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514715">21</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256322"></a>types of memory used <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-532542">15</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256324"></a>zero copy buffers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514787">25</a></em></p>
</div>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-256326"></a>S<a name="50401311_S"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256328"></a>same index</h4>
<p class="Level2IX"><a name="50401311_pgfId-256329"></a>constant memory performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-538278">13</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490928">19</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256332"></a>same-indexed constants</h4>
<p class="Level2IX"><a name="50401311_pgfId-256333"></a>caching <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490976">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490976">21</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256336"></a>sample code</h4>
<p class="Level2IX"><a name="50401311_pgfId-256337"></a>computing the kernel execution time <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490732">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256339"></a>for reading the current value of OpenCL timer clock <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490783">13</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256341"></a>scalar unit</h4>
<p class="Level2IX"><a name="50401311_pgfId-256342"></a>advantage of <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537727">33</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256344"></a>scattered writes <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533463">24</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256346"></a>scheduler</h4>
<p class="Level2IX"><a name="50401311_pgfId-256347"></a>heterogeneous devices</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256348"></a>balancing grain size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531340">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515202">36</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256351"></a>conservative work allocation <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531333">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515174">36</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256354"></a>sending different workload sizes to different devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531331">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515159">36</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256357"></a>using only the fast device <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531337">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515188">36</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256360"></a>multi-core <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531324">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515152">36</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256363"></a>scheduling</h4>
<p class="Level2IX"><a name="50401311_pgfId-256364"></a>across both CPU and GPU devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531326">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515153">36</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256367"></a>chores</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256368"></a>CPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531349">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515214">37</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256371"></a>device fission extension <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531350">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515215">37</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256374"></a>dynamic</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256375"></a>algorithm <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531315">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515140">35</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256378"></a>GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531321">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491158">36</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256381"></a>asynchronous launch <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531341">35</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491167">36</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256384"></a>data location <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531358">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491174">37</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256387"></a>heterogeneous compute devices <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531322">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491161">36</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256390"></a>wavefronts</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256391"></a>compute unit <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-495585">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-495585">24</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256394"></a>latency hiding <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491988">23</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256396"></a>scratch region</h4>
<p class="Level2IX"><a name="50401311_pgfId-256397"></a>private memory allocation mapping <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490975">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490975">20</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256400"></a>scratchpad memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490917">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490917">17</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256403"></a>ScratchReg field</h4>
<p class="Level2IX"><a name="50401311_pgfId-256404"></a>CodeXL GPU Profiler reports register spills <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492041">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492041">26</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256407"></a>select () function</h4>
<p class="Level2IX"><a name="50401311_pgfId-256408"></a>replacing clauses</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256409"></a>with conditional assignments <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515381">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515381">54</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256412"></a>sequential access pattern</h4>
<p class="Level2IX"><a name="50401311_pgfId-256413"></a>uses only half the banks on each cyle <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537675">11</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256415"></a>SGPRs</h4>
<p class="Level2IX"><a name="50401311_pgfId-256416"></a>use of <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537728">33</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256418"></a>Shader Resource View (SRV) <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514876">9</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514876">11</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256421"></a>SI ISA <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537735">34</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256423"></a>SIMD <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491977">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491977">22</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256426"></a>simple direct-addressing patterns</h4>
<p class="Level2IX"><a name="50401311_pgfId-256427"></a>constant memory performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490925">13</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490925">19</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256430"></a>simple static partitioning algorithms <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531313">34</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515142">35</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256433"></a>simple stride one access patterns vs large non-unit strides <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492071">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492071">6</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256436"></a>single-precision FMA <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537731">34</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256438"></a>small grain allocations</h4>
<p class="Level2IX"><a name="50401311_pgfId-256439"></a>use at beginning of algorithm <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533495">35</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256441"></a>spawning a new thread</h4>
<p class="Level2IX"><a name="50401311_pgfId-256442"></a>in OpenCL to manage each command queue <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531371">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491182">38</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256445"></a>spill code</h4>
<p class="Level2IX"><a name="50401311_pgfId-256446"></a>avoiding</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256447"></a>kernel attribute syntax <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514934">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514934">27</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256450"></a>generated by the compiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491026">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491026">26</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256453"></a>spilled registers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537699">19</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256455"></a>SSE</h4>
<p class="Level2IX"><a name="50401311_pgfId-256456"></a>packing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492093">43</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256458"></a>supporting instructions that write parts of a register <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531290">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515117">34</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256461"></a>SSE instructions</h4>
<p class="Level2IX"><a name="50401311_pgfId-256462"></a>generating efficient and packed <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515357">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515357">52</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256465"></a>staggered offsets</h4>
<p class="Level2IX"><a name="50401311_pgfId-256466"></a>applying a coordinate transformation to the kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490876">7</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490876">9</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256469"></a>processing data in a different order <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490877">7</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490877">9</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256472"></a>transformation <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514873">7</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-513549">8</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514873">9</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256476"></a>staging buffers</h4>
<p class="Level2IX"><a name="50401311_pgfId-256477"></a>cost of copying to <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533400">16</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256479"></a>start-up time</h4>
<p class="Level2IX"><a name="50401311_pgfId-256480"></a>CPU vs GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533492">34</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256482"></a>STORE instructions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515439">46</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-256484"></a>address calculation <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515258">46</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256486"></a>stream core</h4>
<p class="Level2IX"><a name="50401311_pgfId-256487"></a>scheduling wavefronts onto <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-501934">1</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256489"></a>stream processor</h4>
<p class="Level2IX"><a name="50401311_pgfId-256490"></a>generating requests <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491939">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491939">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256493"></a>kernels</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256494"></a>analyzing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490707">11</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256496"></a>strides</h4>
<p class="Level2IX"><a name="50401311_pgfId-256497"></a>power of two</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256498"></a>avoiding <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514870">7</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514870">9</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256501"></a>simple and large non-unit <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492071">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492071">6</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256504"></a>Sum-of-Absolute Differences (SAD)</h4>
<p class="Level2IX"><a name="50401311_pgfId-256505"></a>motion estimation <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491196">25</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491196">42</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256508"></a>synchronization</h4>
<p class="Level2IX"><a name="50401311_pgfId-256509"></a>caveats <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531364">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491179">37</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256512"></a>syntax</h4>
<p class="Level2IX"><a name="50401311_pgfId-256513"></a>_local <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491949">11</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491949">18</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256516"></a>kernel attribute</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256517"></a>avoiding spill code and improving performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514933">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514933">27</a></em></h6>
</div>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-256520"></a>T<a name="50401311_T"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256522"></a>target device characteristics</h4>
<p class="Level2IX"><a name="50401311_pgfId-256523"></a>determining work-size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514325">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514325">29</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256526"></a>TEX</h4>
<p class="Level2IX"><a name="50401311_pgfId-256527"></a>instruction sequence meaning <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514848">5</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256529"></a>threading</h4>
<p class="Level2IX"><a name="50401311_pgfId-256530"></a>CPU vs GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531285">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514986">33</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256533"></a>GPU performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491983">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491983">23</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256536"></a>threads</h4>
<p class="Level2IX"><a name="50401311_pgfId-256537"></a>assigning a fixed set of architectural registers</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256538"></a>CPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492034">25</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256540"></a>CPU device supports small number <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531415">38</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515456">39</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256543"></a>GPU</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256544"></a>single-cycle switching <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531287">32</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514983">34</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256547"></a>throughput of instructions</h4>
<p class="Level2IX"><a name="50401311_pgfId-256548"></a>GPUs <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491192">24</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491192">41</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256551"></a>tiled layout format <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-447123">27</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-447123">48</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256554"></a>tiled memory layouts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537718">27</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256556"></a>timer</h4>
<p class="Level2IX"><a name="50401311_pgfId-256557"></a>resolution <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533397">13</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256559"></a>timer resolution <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514564">13</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256561"></a>timestamps</h4>
<p class="Level2IX"><a name="50401311_pgfId-256562"></a>CL_PROFILING_COMMAND_END <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490746">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256564"></a>CL_PROFILING_COMMAND_QUEUED <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490733">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256566"></a>CL_PROFILING_COMMAND_START <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490741">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256568"></a>CL_PROFILING_COMMAND_SUBMIT <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490736">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256570"></a>in OpenCL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533395">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256572"></a>information</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256573"></a>OpenCL runtime <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490731">12</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256575"></a>profiling <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514565">13</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256577"></a>timing</h4>
<p class="Level2IX"><a name="50401311_pgfId-256578"></a>built-in</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256579"></a>OpenCL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490780">12</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256581"></a>the execution of kernels</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256582"></a>OpenCL runtime <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490730">12</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256584"></a>tools</h4>
<p class="Level2IX"><a name="50401311_pgfId-256585"></a>examining amount of LDS used by the kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491033">20</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491033">28</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256588"></a>tools used to examine registers</h4>
<p class="Level2IX"><a name="50401311_pgfId-256589"></a>AMD APP KernelAnalyzer <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491020">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491020">26</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256592"></a>CodeXL GPU Profiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491012">26</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256594"></a>ISA dump <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491015">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491015">26</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256597"></a>used by the kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491011">18</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491011">26</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256600"></a>transfer</h4>
<p class="Level2IX"><a name="50401311_pgfId-256601"></a>cost of images <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533449">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256603"></a>data</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256604"></a>float4 format <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490883">11</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256606"></a>transformation to staggered offsets <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-513549">8</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-513549">9</a></em></h4>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-256609"></a>U<a name="50401311_U"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256611"></a>unaligned access</h4>
<p class="Level2IX"><a name="50401311_pgfId-256612"></a>bandwidths <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490900">15</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256614"></a>using float1 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490899">15</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256616"></a>uncached accesses <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533464">24</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256618"></a>uncached speculative write combine <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533465">24</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256620"></a>unit of work on AMD GPUs</h4>
<p class="Level2IX"><a name="50401311_pgfId-256621"></a>wavefront <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514317">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514317">29</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256624"></a>unit stride</h4>
<p class="Level2IX"><a name="50401311_pgfId-256625"></a>computations <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490868">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490868">6</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256628"></a>performing computations <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492072">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492072">6</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256631"></a>Unordered Access View (UAV) <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514812">5</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-256633"></a>mapping user data <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491878">4</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256635"></a>memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514912">9</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514912">11</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256638"></a>unroll pragma <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537715">27</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256640"></a>unrolling loop <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537714">26</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256642"></a>unrolling the loop</h4>
<p class="Level2IX"><a name="50401311_pgfId-256643"></a>4x <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515251">43</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256645"></a>with clustered stores <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515250">44</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256647"></a>USWC, uncached speculative write combine <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533466">24</a></em></h4>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-256649"></a>V<a name="50401311_V"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256651"></a>varying index</h4>
<p class="Level2IX"><a name="50401311_pgfId-256652"></a>constant memory performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490937">13</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490937">19</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256655"></a>varying-indexed constants paths <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514918">15</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514918">21</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256658"></a>vector instructions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537729">33</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256660"></a>vectorization <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537737">34</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-256662"></a>CUDA <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515344">52</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256664"></a>using float4 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491212">45</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256666"></a>vertex fetch</h4>
<p class="Level2IX"><a name="50401311_pgfId-256667"></a>vfetch instruction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514810">5</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256669"></a>Very Long Instruction Word (VLIW)</h4>
<p class="Level2IX"><a name="50401311_pgfId-256670"></a>5-wide processing engine</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256671"></a>moving work into the kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491124">29</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256673"></a>packing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492093">43</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256675"></a>instructions into the slots <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491208">44</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256677"></a>processor</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256678"></a>five-way <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-501929">1</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256680"></a>programming with 5-wide instruction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491204">43</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256682"></a>VFETCH</h4>
<p class="Level2IX"><a name="50401311_pgfId-256683"></a>instruction sequence meaning <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514853">5</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256685"></a>vfetch instruction <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514809">5</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-256687"></a>vertex fetch <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514810">5</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256689"></a>VGPRs <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537738">34</a></em></h4>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-256691"></a>W<a name="50401311_W"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256693"></a>wait commands <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537736">34</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256695"></a>WAIT_ACK</h4>
<p class="Level2IX"><a name="50401311_pgfId-256696"></a>instruction sequence meaning <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514843">5</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256698"></a>watermark</h4>
<p class="Level2IX"><a name="50401311_pgfId-256699"></a>additional scheduling</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256700"></a>reducing or eliminating device starvation <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531355">36</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515217">37</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256703"></a>wavefront</h4>
<p class="Level2IX"><a name="50401311_pgfId-256704"></a>accessing all the channels</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256705"></a>inefficient access pattern <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514898">6</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514898">8</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256708"></a>compute unit processes <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491991">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491991">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256711"></a>compute unit supports up to 32</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256712"></a>OpenCL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492013">24</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256714"></a>executing as an atomic unit <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514916">12</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514916">18</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256717"></a>fully populated</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256718"></a>selecting work-group size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514977">23</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514977">32</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256721"></a>fundamental unit of work</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256722"></a>AMD GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514317">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514317">29</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256725"></a>generating bank conflicts and stalling <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491931">16</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256727"></a>global limits <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492014">24</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256729"></a>for the ATI Radeon HD 5870 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492015">24</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256731"></a>GPU reprocesses <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-531634">10</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491932">17</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256734"></a>hiding latency <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490991">18</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514975">23</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490991">24</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514975">32</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256739"></a>idle until memory request completes <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491990">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491990">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256742"></a>latency hiding <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491986">17</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491986">23</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256745"></a>LDS usage effects <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492602">20</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492602">27</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256748"></a>one access one channel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537667">6</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256750"></a>providing at least two per compute unit <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514979">32</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256752"></a>registers shared among all active wavefronts on the compute unit <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492029">25</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256754"></a>same quarter</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256755"></a>work-items <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514956">22</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514956">31</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256758"></a>scheduling</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256759"></a>even and odd <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515443">46</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256761"></a>on ATI Radeon HD 5000 series GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537177">2</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-501933">1</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256764"></a>onto stream cores <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-501934">1</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256766"></a>size</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256767"></a>vs work-group size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490923">12</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490923">18</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256770"></a>switching</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256771"></a>on clause boundaries <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491215">46</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256773"></a>to another clause <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515444">46</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256775"></a>work-items execute in lock-step <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537655">2</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256777"></a>wavefront/compute unit</h4>
<p class="Level2IX"><a name="50401311_pgfId-256778"></a>global limits controlled by the developer <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492016">18</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492016">25</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256781"></a>impact of register type <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491010">25</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256783"></a>occupancy metric <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491997">18</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491997">24</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256786"></a>wavefront-per-SIMD count</h4>
<p class="Level2IX"><a name="50401311_pgfId-256787"></a>use of LDS <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491978">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491978">22</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256790"></a>wavefronts</h4>
<p class="Level2IX"><a name="50401311_pgfId-256791"></a>access consecutive groups <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537669">6</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256793"></a>computing number per CU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537694">18</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256795"></a>determining how many to hide latency <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537693">18</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256797"></a>multiples should access different channels <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537669">6</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256799"></a>while loops</h4>
<p class="Level2IX"><a name="50401311_pgfId-256800"></a>vs for loops <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537724">33</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256802"></a>work/kernel level for partitioning work <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491067">29</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256804"></a>work-group</h4>
<p class="Level2IX"><a name="50401311_pgfId-256805"></a>and available compute units <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-530790">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514936">28</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256808"></a>blocking strategy</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256809"></a>when accessing a tiled image <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515261">28</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515261">49</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256812"></a>compute unit supports a maximum of eight <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492011">24</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256814"></a>dimensions vs size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491131">22</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491131">30</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256817"></a>dispatching in a linear order</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256818"></a>HD 5000 series GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514895">7</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256820"></a>executing 2D</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256821"></a>four number identification <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514906">8</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514906">10</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256824"></a>executing on a single compute unit <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537176">2</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-501931">1</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256827"></a>initiating order <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514900">8</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514900">10</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256830"></a>limited number of active</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256831"></a>LDS allocations <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514935">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514935">27</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256834"></a>maximum size can be obtained <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514970">32</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256836"></a>moving work to kernel <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491123">29</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256838"></a>optimization</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256839"></a>wavefront size <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490923">12</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490923">18</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256842"></a>partitioning into smaller pieces for processing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-530785">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491074">28</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256845"></a>processing a block in column-order <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514902">8</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514902">10</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256848"></a>processing increased on the fixed pool of local memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514950">30</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256850"></a>retiring in order <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514896">6</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514896">8</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256853"></a>selecting size</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256854"></a>wavefronts are fully populated <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514977">23</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514977">32</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256857"></a>sharing not possible <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491976">16</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491976">22</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256860"></a>size</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256861"></a>CUDA code <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515343">30</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515343">51</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256864"></a>second-order effects <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514953">22</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514953">31</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256867"></a>square 16×16 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514969">22</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514969">31</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256870"></a>specifying</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256871"></a>default size at compile-time <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491027">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491027">26</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256874"></a>staggering <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490878">8</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490878">10</a></em></p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256877"></a>avoiding channel conflicts <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-490880">8</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490880">10</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256880"></a>tuning dimensions specified at launch time <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-492043">19</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492043">26</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256883"></a>work-item</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256884"></a>sharing data through LDS memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514320">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514320">29</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256887"></a>using high-speed local atomic operations <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514320">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514320">29</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256890"></a>work-groups</h4>
<p class="Level2IX"><a name="50401311_pgfId-256891"></a>assigned to CUs as needed <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537665">6</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256893"></a>dispatching on HD 7000 series <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537668">6</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256895"></a>no limit in OpenCL <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537703">21</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256897"></a>work-item</h4>
<p class="Level2IX"><a name="50401311_pgfId-256898"></a>barriers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490920">18</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256900"></a>does not write</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256901"></a>coalesce detection ignores it <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490894">13</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256903"></a>executing</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256904"></a>on a single processing element <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537175">2</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-501930">1</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256907"></a>on same cycle in the processing engine <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514954">22</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514954">31</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256910"></a>execution in lock-step <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537655">2</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256912"></a>limiting number in each group <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514938">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514938">28</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256915"></a>NDRange index space <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491125">29</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256917"></a>number of registers used by <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537700">19</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256919"></a>OpenCL supports up to 256 <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-492012">24</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256921"></a>packing order <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514965">22</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514965">31</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256924"></a>read or write adjacent memory addresses <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-491895">3</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-491895">6</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256927"></a>reading in a single value <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514907">9</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514907">11</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256930"></a>same wavefront</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256931"></a>executing same instruction on each cycle <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514955">22</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514955">31</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256934"></a>same program counter <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514955">22</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514955">31</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256937"></a>scheduling</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256938"></a>on a GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-501932">1</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256940"></a>sharing</p>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256941"></a>data through LDS memory <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514321">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514321">29</a></em></h6>
</div>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256944"></a>LDS <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-490982">22</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-256946"></a>typical access pattern <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537677">12</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256948"></a>using high-speed local atomic operations <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-514321">21</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514321">29</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256951"></a>work-items</h4>
<p class="Level2IX"><a name="50401311_pgfId-256952"></a>number equal to product of all work-group dimensions <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537704">21</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256954"></a>reference consecutive memory addresses <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-537666">6</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256956"></a>workload</h4>
<p class="Level2IX"><a name="50401311_pgfId-256957"></a>execution</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-256958"></a>GPU <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-515352">31</a></em> , <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-515352">52</a></em></h6>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256961"></a>workload balancing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533494">34</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256963"></a>write coalescing <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401371_marker-514880">13</a></em></h4>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256965"></a>Write Combine (WC)</h4>
<p class="Level2IX"><a name="50401311_pgfId-256966"></a>global memory system <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401334_marker-538213">1</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256968"></a>WriteInsts counters</h4>
<p class="Level2IX"><a name="50401311_pgfId-256969"></a>CodeXL GPU Profiler <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-490787">14</a></em></p>
</div>
</div>
<div>
<h2 class="GroupTitlesIX"><a name="50401311_pgfId-256971"></a>Z<a name="50401311_X"></a><a name="50401311_Y"></a><a name="50401311_Z"></a></h2>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256975"></a>zero copy <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533440">20</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-256977"></a>direct GPU access to <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533481">30</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256979"></a>direct host access to <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533480">29</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256981"></a>performance boost <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533446">21</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256983"></a>under Linux <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533444">21</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256985"></a>when creating memory objects <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533438">20</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256987"></a>zero copy buffer</h4>
<p class="Level2IX"><a name="50401311_pgfId-256988"></a>available buffer types <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514789">25</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256990"></a>calling <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514788">25</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-256992"></a>size limit per buffer <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514831">25</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256994"></a>zero copy buffers <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514786">25</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-256996"></a>runtime <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514787">25</a></em></p>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-256998"></a>zero copy memory objects <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514705">20</a></em></h4>
<p class="Level2IX"><a name="50401311_pgfId-257000"></a>host resident</p>
<div>
<h6 class="Level3IX"><a name="50401311_pgfId-257001"></a>boosting performance <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-514710">21</a></em></h6>
<p class="Level2IX"><a name="50401311_pgfId-257003"></a>mapping <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531705">21</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-257005"></a>optimizing data movement <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531704">21</a></em></p>
<p class="Level2IX"><a name="50401311_pgfId-257007"></a>support <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-531702">20</a></em></p>
</div>
</div>
<div>
<h4 class="Level1IX"><a name="50401311_pgfId-257009"></a>zero copy on APU systems <em class="hyperactive"> <a class="Index" href="http://developer.amd.com/tools-and-sdks/opencl-zone/amd-accelerated-parallel-processing-app-sdk/opencl-optimization-guide/#50401315_marker-533469">26</a></em></h4>
</div>
</div>
<hr>
<div class="footnotes">
<div class="footnote">
<ol>
<li class="tablenote"><span class="footnoteNumber"> 1.</span> <a name="50401315_pgfId-531165"></a>For the power specifications of the AMD Phenom<em class="superscript"> </em> II x4, see http://www.amd.com/us/products/desktop/processors/phenom-ii/Pages/phenom-ii-model-number-comparison.aspx.</li>
</ol>
</div>
<div class="footnote">
<h6 class="footnote"><span class="footnoteNumber"> 2.</span> <a name="50401334_pgfId-472336"></a>Generally, it is not a good idea to make the work-group size something other than an integer multiple of the wavefront size, but that usually is less important than avoiding channel conflicts.</h6>
</div>
<div class="footnote">
<ol>
<li class="tablenote"><span class="footnoteNumber"> 3.</span> <a name="50401334_pgfId-527092"></a>Applies to images and buffers.</li>
</ol>
</div>
<div class="footnote">
<ol>
<li class="tablenote"><span class="footnoteNumber"> 4.</span> <a name="50401334_pgfId-527103"></a>Applies to images and buffers.</li>
</ol>
</div>
<div class="footnote">
<h6 class="footnote"><span class="footnoteNumber"> 5.</span> <a name="50401371_pgfId-478078"></a>UAVs allow compute shaders to store results in (or write results to) a buffer at any arbitrary location. On DX11 hardware, UAVs can be created from buffers and textures. On DX10 hardware, UAVs cannot be created from typed resources (textures). This is the same as a random access target (RAT).</h6>
</div>
<div class="footnote">
<h6 class="footnote"><span class="footnoteNumber"> 6.</span> <a name="50401371_pgfId-472336"></a>Generally, it is not a good idea to make the work-group size something other than an integer multiple of the wavefront size, but that usually is less important than avoiding channel conflicts.</h6>
</div>
<div class="footnote">
<ol>
<li class="tablenote"><span class="footnoteNumber"> 7.</span> <a name="50401371_pgfId-482703"></a>For the power specifications of the AMD Phenom<em class="superscript"> </em> II x4, see http://www.amd.com/us/products/desktop/processors/phenom-ii/Pages/phenom-ii-model-number-comparison.aspx. For the power specifications of the ATI Radeon<em class="superscript"> </em> HD 5670, see http://www.amd.com/us/products/desktop/graphics/ati-radeon-hd-5000/ati-radeon-hd-5670-overview/Pages/ati-radeon-hd-5670-specifications.aspx.</li>
</ol>
</div>
</div>
<p>&nbsp;</p>
<p class="fineprint-reg"><a name="50401292_pgfId-397037"></a>© 2013 Advanced Micro Devices, Inc. All rights reserved. AMD, the AMD Arrow logo, AMD Accelerated Parallel Processing, the AMD Accelerated Parallel Processing logo, ATI, the ATI logo, Radeon, FireStream, FirePro, Catalyst, and combinations thereof are trademarks of Advanced Micro Devices, Inc. Microsoft, Visual Studio, Windows, and Windows Vista are registered trademarks of Microsoft Corporation in the U.S. and/or other jurisdictions. Other names are for informational purposes only and may be trademarks of their respective owners. OpenCL and the OpenCL logo are trademarks of Apple Inc. used by permission by Khronos.</p>
<p class="fineprint-reg"><a name="50401292_pgfId-397044"></a></p>
<p class="fineprint-reg"><a name="50401292_pgfId-394441"></a>The contents of this document are provided in connection with Advanced Micro Devices, Inc. (“AMD”) products. AMD makes no representations or warranties with respect to the accuracy or completeness of the contents of this publication and reserves the right to make changes to specifications and product descriptions at any time without notice. The information contained herein may be of a preliminary or advance nature and is subject to change without notice. No license, whether express, implied, arising by estoppel or otherwise, to any intellectual property rights is granted by this publication. Except as set forth in AMD’s Standard Terms and Conditions of Sale, AMD assumes no liability whatsoever, and disclaims any express or implied warranty, relating to its products including, but not limited to, the implied warranty of merchantability, fitness for a particular purpose, or infringement of any intellectual property right.</p>
<p class="fineprint-reg"><a name="50401292_pgfId-394454"></a></p>
<p class="fineprint-reg"><a name="50401292_pgfId-389273"></a>AMD’s products are not designed, intended, authorized or warranted for use as components in systems intended for surgical implant into the body, or in other applications intended to support or sustain life, or in any other application in which the failure of AMD’s product could create a situation where personal injury, death, or severe property or environmental damage may occur. AMD reserves the right to discontinue or make changes to its products at any time without notice.</p>
<p class="fineprint-reg"><a name="50401292_pgfId-394470"></a></p>
<div></div>
<p class="fineprint-reg"><a name="50401292_pgfId-394471"></a>Advanced Micro Devices, Inc.</p>
<p class="fineprint-reg"><a name="50401292_pgfId-394472"></a>One AMD Place</p>
<p class="fineprint-reg"><a name="50401292_pgfId-394473"></a>P.O. Box 3453</p>
<p class="fineprint-reg"><a name="50401292_pgfId-394474"></a>Sunnyvale, CA 94088-3453</p>
<p class="fineprint-reg"><a name="50401292_pgfId-394476"></a><em class="Hyperlink"> <a class="URL" href="http://www.amd.com/">www.amd.com</a></em></p>
<p class="fineprint-reg"><a name="50401292_pgfId-397965"></a></p>
<p class="SalesBold"><a name="50401292_pgfId-398001"></a> For AMD Accelerated Parallel Processing:</p>
<p class="SalesBold"><a name="50401292_pgfId-398012"></a>URL: <em class="hyperactive"> <a class="URL" href="https://developer.amd.com/appsdk">developer.amd.com/appsdk</a></em></p>
<p class="SalesBold"><a name="50401292_pgfId-398014"></a>Developing: <em class="hyperactive"> <a class="URL" href="https://developer.amd.com/">developer.amd.com/</a></em></p>
<p class="SalesBold"><a name="50401292_pgfId-398006"></a>Forum: <em class="hyperactive"> <a class="URL" href="https://developer.amd.com/openclforum">developer.amd.com/openclforum</a></em></p>
<p class="fineprint-reg"><a name="50401292_pgfId-398007"></a></p>
<p class="fineprint-reg"><a name="50401292_pgfId-389279"></a></p>
                                
                            </section> <!-- end article section -->
                            
                            <div class="clear"></div>
                            
                            <footer>
                                                            </footer> <!-- end article footer -->
                        
                        </article> <!-- end article -->
                        
                        
                              
                        
                        <div class="clear"></div>
                        
                                                
                        
                        <div class="entry-builder-wrapper">
                            <div class="entry-builder container">
                                <div class="entry-builder-frame">
                                    
                                                                        
                                </div>
                            </div><!-- axiom-builder container -->
                        </div><!-- axiom-builder wrapper -->
                        
                        <div class="clear"></div>
                        
                        
                    </div>

                                            
                    
                </div><!-- end content -->
            </section><!-- end primary -->
            
            
            


            
        </div>
    </div><!-- end main -->



    <!--<div class="container fold subfooter-bar"> </div>-->

    <aside class="wrapper subfooter">
        
        <div class="container fold">
            
            <div class="grid_wrapper">
                
                <section class="widget-area one_third">       
                    <section id="text-4" class="widget-container widget_text">			<div class="textwidget">                       <i class="icon-book icon-3x pull-left" style="color:#ffffff" data-name="icon-book" title="Newsletter"></i>

                        <h3>Subscribe to our newsletter.</h3>

                        <p>Your email address:</p>

                         <form method="post" id="emailWidget" name="emailWidget" class="emailSubscribe">
                <label for="txtEmail"><!--?php echo $subscribePanelInputLabel ?--></label>
                <input type="hidden" value="Newsletter" name="LeadSource_MostRecent" id="LeadSource_MostRecent">
                <input type="hidden" value="Developer Web Registration" name="LeadSourceDetail_MostRecent" id="LeadSourceDetail_MostRecent">
                <input type="hidden" value="Developer" name="ContactType" id="ContactType">

                <input type="text" name="txtEmail" id="txtEmail" class="subscribe-textbox subscribe-input" placeholder="Email">
                <input name="optInhcNewsFlash" type="checkbox" value="Yes"><label for="optInhcNewsFlash" class="checkbox">Yes, I would like to receive the AMD Developer newsletter and related communications.
                     </label><br>
                <input type="submit" class="subscribe-button action" value="Submit">
            </form></div>
		</section>                </section>
                <section class="widget-area one_third">       
                    <section id="text-5" class="widget-container widget_text">			<div class="textwidget">                        <i class="icon-info-sign icon-3x pull-left" style="color:#ffffff" data-name="icon-info-sign" title="More Information"></i>

                        <h3>Long Live Open Source!</h3>

                        <p>Learn more about  AMD's commitment to  <a href="http://developer.amd.com/tools-and-sdks/open-source/">Open Source.</a></p></div>
		</section>                </section>
                <section class="widget-area one_third">       
                    <section id="text-6" class="widget-container widget_text">			<div class="textwidget"><i class="icon-question-sign icon-3x pull-left" style="color:#ffffff" data-name="icon-question-sign" title="Questions?"></i>

                        <h3>Got Questions?</h3>

                        <p>Ask the <a href="https://community.amd.com/community/devgurus">Developer Forums Community</a>. They’ve got answers.</p></div>
		</section>                </section>

                <ul id="footer-links">
                    <li><a href="http://www.amd.com/en-us/who-we-are/careers" target="_blank">Careers</a></li>
                    <li>/</li>
                    <li><a href="http://developer.amd.com/site-map/">Site Map</a></li>
                    <li>/</li>
                    <li><a href="http://www.amd.com/en-us/who-we-are/copyright" target="_blank">Terms and Conditions</a></li>
                    <li>/</li>
                    <li><a href="http://www.amd.com/en-us/who-we-are/privacy" target="_blank">Privacy</a></li>
                    <li>/</li>
                    <li><a href="http://www.amd.com/en-us/who-we-are/cookies" target="_blank">Cookie Policy</a></li>
                    <li>/</li>
                    <li><a href="http://developer.amd.com/help/">Help</a></li>
                    <li>/</li>
                    <li class="last"><a href="http://www.amd.com/en-us/who-we-are/trademarks" target="_blank">Trademarks</a></li>
                </ul>
            </div>
            
        </div><!-- end of container -->
    </aside><!-- end footer widget -->

		
    <footer id="sitefooter" class="wrapper" role="contentinfo">
        <div class="container fold">
            
            <ul class="socials"><li><a class="facebook" href="http://www.facebook.com/amd" target="_blank"></a></li><li><a class="twitter" href="https://twitter.com/AMDDevCentral" target="_blank"></a></li><li><a class="gplus" href="https://plus.google.com/+AMD/posts" target="_blank"></a></li><li><a class="youtube" href="http://www.youtube.com/user/AMDDevCentral" target="_blank"></a></li><li><a class="linkedin" href="http://www.linkedin.com/company/amd" target="_blank"></a></li><li><a class="pinterest" href="http://www.pinterest.com/amd/" target="_blank"></a></li><li><a class="rss" href="https://developer.amd.com/feed/" target="_blank"></a></li></ul><!-- end socials -->            
            <div id="copyright">
                                <small>©2016 Advanced Micro Devices, Inc. OpenCL™ and the OpenCL™ logo are trademarks of Apple, Inc., used with permission by Khronos.</small>
                            </div>
            
                        <!-- end navigation -->
            
            
        </div><!-- end of container -->
    </footer><!-- end sitefooter -->
    
    <div class="scroll2top" style="display: block;"></div>

    <script>
            </script><!-- user custom js -->
    
    <!--[if (lte IE 8)]>
    <script src="http://amd-dev.wpengine.netdna-cdn.com/wp-content/themes/lotus_amd/js/libs/polyfills/selectivizr-min.js"></script>
    <![endif]-->
     
    <!-- outputs by wp_footer -->
    <script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/comment-reply.min.js"></script>
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/jquery.form.min.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var _wpcf7 = {"loaderUrl":"http:\/\/developer.amd.com\/wp-content\/plugins\/contact-form-7\/images\/ajax-loader.gif","recaptcha":{"messages":{"empty":"Please verify that you are not a robot."}},"sending":"Sending ...","cached":"1"};
/* ]]> */
</script>
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/scripts.js"></script>
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/plugins.js"></script>
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/hoverIntent.js"></script>
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/superfish.js"></script>
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/jquery.prettyPhoto.js"></script>
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/jquery.fitvids.js"></script>
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/jquery.isotope.min.js"></script>
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/jquery.touchSwipe.min.js"></script>
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/jquery.mousewheel.min.js"></script>
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/jquery.carouFredSel-6.1.0-packed.js"></script>
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/script.js"></script>
<script type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/wp-embed.min.js"></script>
    <!-- end wp_footer -->


<script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-35904567-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

</script>

<!-- SiteCatalyst BOF -->
<script language="JavaScript" type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/custom.js"></script>
<script language="JavaScript" type="text/javascript" src="./OpenCL Optimization Guide - AMD_files/scode_global.js"></script>
<script language="JavaScript" type="text/javascript"><!--
    var s_code=s.t();if(s_code)document.write(s_code)//--></script>
<!-- SiteCatalyst EOF -->

    <script src="./OpenCL Optimization Guide - AMD_files/scripts(1).js"></script>
    
</div><!--! end of #inner-body -->

<div style="display: none; visibility: hidden;"><script>(function(){var a=window._fbq||(window._fbq=[]);if(!a.loaded){var b=document.createElement("script");b.async=!0;b.src="//connect.facebook.net/en_US/fbds.js";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);a.loaded=!0}a.push(["addPixelId","427094494133364"])})();window._fbq=window._fbq||[];window._fbq.push(["track","PixelInitialized",{}]);</script>
<noscript></noscript></div><div style="display: none; visibility: hidden;"><script type="text/javascript">var maxPercentage=0,exitPercentage=0,theURL=google_tag_manager["GTM-K2BP2F"].macro('gtm1476281570729');
if(-1==theURL.toLowerCase().indexOf("support.amd.com/en-us/download/ccc")&&-1==theURL.toLowerCase().indexOf("www.amd.com/us/as/checker")&&-1==theURL.toLowerCase().indexOf("subscriptions.amd.com/driverinstalled")&&-1==theURL.toLowerCase().indexOf("experience.amd.com/greatpower")&&-1==theURL.toLowerCase().indexOf("experience.amd.com/slidein/")&&!/amd\.com\/.*\/sites\-site\/pages\/hero\.aspx/i.test(theURL.toLowerCase())&&"undefined"==typeof google_tag_manager["GTM-K2BP2F"].macro('gtm1476281570730'))jQuery(window).on("beforeunload",function(){window.dataLayer.push({event:"unloadEvent",
PercentageScrolled:"Max:"+maxPercentage+"%|Exit:"+exitPercentage+"%"});exitPercentage=maxPercentage=0});var scrlElement=window,alternate=!1;document.getElementById("s4-workspace")&&document.getElementById("s4-bodyContainer")&&document.getElementById("masthead")&&(scrlElement="#s4-workspace",alternate=!0);
jQuery(scrlElement).scroll(function(){var c=alternate?document.getElementById("masthead").clientHeight||0:0,a=alternate?document.getElementById("s4-bodyContainer").scrollHeight:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),b=(window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight||0)-
c,b=0>b?0:b,d=(alternate?Math.abs(jQuery("#s4-bodyContainer").offset().top-c):window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0),a=Math.ceil((d+b)/a*100),a=a/(25-1E-10)|0;if(isNaN(a)||alternate&&0==jQuery("#s4-bodyContainer").offset().top-c)a=0;exitPercentage=25*a;100<exitPercentage&&(exitPercentage=100);exitPercentage>maxPercentage&&(maxPercentage=exitPercentage);if("undefined"!=typeof trackPromo&&1<=trackPromo.length)for(i=0;i<trackPromo.length;i++)isPromoVisible(trackPromo[i])});</script>
</div><img src="./OpenCL Optimization Guide - AMD_files/event.jpeg" style="display: none;"><div style="display: none; visibility: hidden;"><script type="text/javascript">var thePath=parseUri(google_tag_manager["GTM-K2BP2F"].macro('gtm1476281570877')).path,thePath="/"+parseUri(google_tag_manager["GTM-K2BP2F"].macro('gtm1476281570878')).host+thePath+"/";if(-1==google_tag_manager["GTM-K2BP2F"].macro('gtm1476281570879').indexOf("experience.amd.com"))var dummy=ewt.track({name:"CC|"+thePath,type:"content-consumed",link:google_tag_manager["GTM-K2BP2F"].macro('gtm1476281570880')});</script></div><img src="./OpenCL Optimization Guide - AMD_files/event(1).jpeg" style="display: none;"></body></html>